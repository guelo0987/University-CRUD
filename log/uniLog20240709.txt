2024-07-09 09:37:19.080 -04:00 [INF] Application is shutting down...
2024-07-09 09:37:19.084 -04:00 [DBG] Hosting stopping
2024-07-09 09:37:19.099 -04:00 [DBG] Hosting stopped
2024-07-09 10:55:51.772 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-09 10:55:51.844 -04:00 [DBG] Hosting starting
2024-07-09 10:55:51.847 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-07-09 10:55:51.853 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2024-07-09 10:55:51.855 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2024-07-09 10:55:51.856 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2024-07-09 10:55:51.857 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2024-07-09 10:55:51.860 -04:00 [DBG] Considering key {b06a4e2e-7908-41eb-9b39-8691b777fc93} with expiration date 2024-08-26 20:47:39Z as default key.
2024-07-09 10:55:51.861 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-09 10:55:51.862 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-07-09 10:55:51.862 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-07-09 10:55:51.864 -04:00 [DBG] Using key {b06a4e2e-7908-41eb-9b39-8691b777fc93} as the default key.
2024-07-09 10:55:51.865 -04:00 [DBG] Key ring with default key {b06a4e2e-7908-41eb-9b39-8691b777fc93} was loaded during application startup.
2024-07-09 10:55:51.898 -04:00 [INF] Now listening on: http://localhost:5104
2024-07-09 10:55:51.898 -04:00 [DBG] Loaded hosting startup assembly CRUD
2024-07-09 10:55:51.899 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-09 10:55:51.899 -04:00 [INF] Hosting environment: Development
2024-07-09 10:55:51.899 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/University-Backend/CRUD
2024-07-09 10:55:51.899 -04:00 [DBG] Hosting started
2024-07-09 10:55:52.119 -04:00 [DBG] Connection id "0HN504ST3VCJT" received FIN.
2024-07-09 10:55:52.122 -04:00 [DBG] Connection id "0HN504ST3VCJT" accepted.
2024-07-09 10:55:52.123 -04:00 [DBG] Connection id "0HN504ST3VCJT" started.
2024-07-09 10:55:52.126 -04:00 [DBG] Connection id "0HN504ST3VCJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 10:55:52.127 -04:00 [DBG] Connection id "0HN504ST3VCJT" disconnecting.
2024-07-09 10:55:52.130 -04:00 [DBG] Connection id "0HN504ST3VCJT" stopped.
2024-07-09 10:55:52.438 -04:00 [DBG] Connection id "0HN504ST3VCJU" accepted.
2024-07-09 10:55:52.439 -04:00 [DBG] Connection id "0HN504ST3VCJU" started.
2024-07-09 10:55:52.439 -04:00 [DBG] Connection id "0HN504ST3VCJV" accepted.
2024-07-09 10:55:52.439 -04:00 [DBG] Connection id "0HN504ST3VCJV" started.
2024-07-09 10:55:52.454 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 10:55:52.456 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-09 10:55:52.478 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 10:55:52.562 -04:00 [DBG] Connection id "0HN504ST3VCJU" completed keep alive response.
2024-07-09 10:55:52.563 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 110.6804ms
2024-07-09 10:55:52.599 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/swagger-ui-bundle.js - null null
2024-07-09 10:55:52.599 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 10:55:52.619 -04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-07-09 10:55:52.621 -04:00 [DBG] Connection id "0HN504ST3VCJU" completed keep alive response.
2024-07-09 10:55:52.621 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 22.3902ms
2024-07-09 10:55:52.740 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 10:55:52.742 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 10:55:52.926 -04:00 [DBG] Connection id "0HN504ST3VCJU" completed keep alive response.
2024-07-09 10:55:52.927 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.3311ms
2024-07-09 10:55:53.327 -04:00 [DBG] Connection id "0HN504ST3VCJU" received FIN.
2024-07-09 10:55:53.327 -04:00 [DBG] Connection id "0HN504ST3VCJV" received FIN.
2024-07-09 10:55:53.327 -04:00 [DBG] Connection id "0HN504ST3VCJU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 10:55:53.327 -04:00 [DBG] Connection id "0HN504ST3VCJV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 10:55:53.328 -04:00 [DBG] Connection id "0HN504ST3VCJU" disconnecting.
2024-07-09 10:55:53.328 -04:00 [DBG] Connection id "0HN504ST3VCJV" disconnecting.
2024-07-09 10:55:53.329 -04:00 [DBG] Connection id "0HN504ST3VCJV" stopped.
2024-07-09 10:55:53.329 -04:00 [DBG] Connection id "0HN504ST3VCJU" stopped.
2024-07-09 10:55:58.116 -04:00 [INF] Application is shutting down...
2024-07-09 10:55:58.117 -04:00 [DBG] Hosting stopping
2024-07-09 10:55:58.122 -04:00 [DBG] Hosting stopped
2024-07-09 10:56:00.399 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-09 10:56:00.455 -04:00 [DBG] Hosting starting
2024-07-09 10:56:00.458 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-07-09 10:56:00.463 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2024-07-09 10:56:00.465 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2024-07-09 10:56:00.467 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2024-07-09 10:56:00.468 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2024-07-09 10:56:00.471 -04:00 [DBG] Considering key {b06a4e2e-7908-41eb-9b39-8691b777fc93} with expiration date 2024-08-26 20:47:39Z as default key.
2024-07-09 10:56:00.473 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-09 10:56:00.475 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-07-09 10:56:00.475 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-07-09 10:56:00.477 -04:00 [DBG] Using key {b06a4e2e-7908-41eb-9b39-8691b777fc93} as the default key.
2024-07-09 10:56:00.477 -04:00 [DBG] Key ring with default key {b06a4e2e-7908-41eb-9b39-8691b777fc93} was loaded during application startup.
2024-07-09 10:56:00.508 -04:00 [INF] Now listening on: http://localhost:5104
2024-07-09 10:56:00.508 -04:00 [DBG] Loaded hosting startup assembly CRUD
2024-07-09 10:56:00.508 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-09 10:56:00.508 -04:00 [INF] Hosting environment: Development
2024-07-09 10:56:00.508 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/University-Backend/CRUD
2024-07-09 10:56:00.508 -04:00 [DBG] Hosting started
2024-07-09 10:56:00.847 -04:00 [DBG] Connection id "0HN504SVN6V3V" received FIN.
2024-07-09 10:56:00.905 -04:00 [DBG] Connection id "0HN504SVN6V3V" accepted.
2024-07-09 10:56:00.905 -04:00 [DBG] Connection id "0HN504SVN6V3V" started.
2024-07-09 10:56:00.911 -04:00 [DBG] Connection id "0HN504SVN6V3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 10:56:00.922 -04:00 [DBG] Connection id "0HN504SVN6V3V" disconnecting.
2024-07-09 10:56:00.927 -04:00 [DBG] Connection id "0HN504SVN6V3V" stopped.
2024-07-09 10:56:01.044 -04:00 [DBG] Connection id "0HN504SVN6V40" accepted.
2024-07-09 10:56:01.044 -04:00 [DBG] Connection id "0HN504SVN6V40" started.
2024-07-09 10:56:01.044 -04:00 [DBG] Connection id "0HN504SVN6V41" accepted.
2024-07-09 10:56:01.044 -04:00 [DBG] Connection id "0HN504SVN6V41" started.
2024-07-09 10:56:01.059 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 10:56:01.062 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-09 10:56:01.078 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 10:56:01.147 -04:00 [DBG] Connection id "0HN504SVN6V40" completed keep alive response.
2024-07-09 10:56:01.148 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 90.8729ms
2024-07-09 10:56:01.303 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 10:56:01.304 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 10:56:01.528 -04:00 [DBG] Connection id "0HN504SVN6V40" completed keep alive response.
2024-07-09 10:56:01.528 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 224.8917ms
2024-07-09 10:56:03.327 -04:00 [DBG] Connection id "0HN504SVN6V40" received FIN.
2024-07-09 10:56:03.327 -04:00 [DBG] Connection id "0HN504SVN6V41" received FIN.
2024-07-09 10:56:03.327 -04:00 [DBG] Connection id "0HN504SVN6V40" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 10:56:03.328 -04:00 [DBG] Connection id "0HN504SVN6V41" disconnecting.
2024-07-09 10:56:03.329 -04:00 [DBG] Connection id "0HN504SVN6V40" disconnecting.
2024-07-09 10:56:03.331 -04:00 [DBG] Connection id "0HN504SVN6V41" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 10:56:03.333 -04:00 [DBG] Connection id "0HN504SVN6V40" stopped.
2024-07-09 10:56:03.333 -04:00 [DBG] Connection id "0HN504SVN6V41" stopped.
2024-07-09 10:58:10.889 -04:00 [DBG] Connection id "0HN504SVN6V42" accepted.
2024-07-09 10:58:10.890 -04:00 [DBG] Connection id "0HN504SVN6V43" accepted.
2024-07-09 10:58:10.890 -04:00 [DBG] Connection id "0HN504SVN6V42" started.
2024-07-09 10:58:10.894 -04:00 [DBG] Connection id "0HN504SVN6V43" started.
2024-07-09 10:58:10.897 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 10:58:10.903 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 10:58:10.906 -04:00 [DBG] Connection id "0HN504SVN6V42" completed keep alive response.
2024-07-09 10:58:10.906 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 10.5209ms
2024-07-09 10:58:10.989 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 10:58:10.989 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 10:58:11.083 -04:00 [DBG] Connection id "0HN504SVN6V42" completed keep alive response.
2024-07-09 10:58:11.083 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.3121ms
2024-07-09 10:58:13.337 -04:00 [DBG] Connection id "0HN504SVN6V43" received FIN.
2024-07-09 10:58:13.337 -04:00 [DBG] Connection id "0HN504SVN6V42" received FIN.
2024-07-09 10:58:13.338 -04:00 [DBG] Connection id "0HN504SVN6V42" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 10:58:13.338 -04:00 [DBG] Connection id "0HN504SVN6V43" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 10:58:13.338 -04:00 [DBG] Connection id "0HN504SVN6V43" disconnecting.
2024-07-09 10:58:13.338 -04:00 [DBG] Connection id "0HN504SVN6V42" disconnecting.
2024-07-09 10:58:13.338 -04:00 [DBG] Connection id "0HN504SVN6V43" stopped.
2024-07-09 10:58:13.338 -04:00 [DBG] Connection id "0HN504SVN6V42" stopped.
2024-07-09 10:58:23.281 -04:00 [DBG] Connection id "0HN504SVN6V44" accepted.
2024-07-09 10:58:23.282 -04:00 [DBG] Connection id "0HN504SVN6V44" started.
2024-07-09 10:58:23.283 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/CarreraMateriaApi - null null
2024-07-09 10:58:23.283 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 10:58:23.286 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 10:58:23.288 -04:00 [WRN] Failed to determine the https port for redirect.
2024-07-09 10:58:23.314 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CarreraMateriaApi'
2024-07-09 10:58:23.316 -04:00 [DBG] Endpoint 'CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD)' with route pattern 'api/CarreraMateriaApi' is valid for the request path '/api/CarreraMateriaApi'
2024-07-09 10:58:23.316 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD)'
2024-07-09 10:58:23.318 -04:00 [INF] Executing endpoint 'CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD)'
2024-07-09 10:58:23.330 -04:00 [INF] Route matched with {action = "GetAllCarrerasAndMaterias", controller = "CarreraMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CRUD.Models.CarreraMateria]] GetAllCarrerasAndMaterias() on controller CRUD.Controllers.CarreraMateriaController (CRUD).
2024-07-09 10:58:23.331 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 10:58:23.331 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 10:58:23.331 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 10:58:23.331 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 10:58:23.331 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 10:58:23.332 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.CarreraMateriaController (CRUD)
2024-07-09 10:58:23.401 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-09 10:58:23.416 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.CarreraMateriaController (CRUD)
2024-07-09 10:58:23.419 -04:00 [INF] Executing action method CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD) - Validation state: "Valid"
2024-07-09 10:58:23.763 -04:00 [DBG] The index {'CarreraId'} was not created on entity type 'CarreraMateria' as the properties are already covered by the index {'CarreraId', 'CodigoMateria'}.
2024-07-09 10:58:23.763 -04:00 [DBG] The index {'CodigoMateria'} was not created on entity type 'EstudianteMateria' as the properties are already covered by the index {'CodigoMateria', 'CodigoEstudiante'}.
2024-07-09 10:58:23.763 -04:00 [DBG] The index {'DocenteId'} was not created on entity type 'MateriaDocente' as the properties are already covered by the index {'DocenteId', 'CodigoMateria'}.
2024-07-09 10:58:23.845 -04:00 [DBG] The property 'CarreraMateria.EstudianteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 10:58:23.845 -04:00 [DBG] The property 'Factura.CuentaPorPagarIdCuentaPorPagar' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 10:58:23.845 -04:00 [DBG] The property 'Materia.AulaCodigoAula' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 10:58:23.925 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 10:58:23.960 -04:00 [DBG] Compiling query expression: 
'DbSet<CarreraMateria>()
    .Include(cm => cm.Carreras)
    .Include(cm => cm.Materias)'
2024-07-09 10:58:24.015 -04:00 [DBG] Including navigation: 'CarreraMateria.Carreras'.
2024-07-09 10:58:24.016 -04:00 [DBG] Including navigation: 'CarreraMateria.Materias'.
2024-07-09 10:58:24.196 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CarreraMateria>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CarreraMateria.CarreraId (int?) Required PK FK AfterSave:Throw, 0], [Property: CarreraMateria.CodigoMateria (string) Required PK FK Index AfterSave:Throw, 1], [Property: CarreraMateria.EstudianteId (no field, int?) Shadow FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: Carrera.CarreraId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Carrera.Departamento (string) Required, 4], [Property: Carrera.DuracionPeriodos (string) Required, 5], [Property: Carrera.NombreCarrera (string) Required, 6], [Property: Carrera.TotalCreditos (string) Required, 7] }
            2 -> Dictionary<IProperty, int> { [Property: Materia.CodigoMateria (string) Required PK AfterSave:Throw, 8], [Property: Materia.AreaAcademica (string) Required MaxLength(100), 9], [Property: Materia.AulaCodigoAula (no field, string) Shadow FK Index, 10], [Property: Materia.CreditosMateria (int) Required, 11], [Property: Materia.NombreMateria (string) Required MaxLength(100), 12], [Property: Materia.TipoMateria (string) Required MaxLength(50), 13] }
        SELECT c.CarreraId, c.CodigoMateria, c.EstudianteId, c0.CarreraId, c0.Departamento, c0.DuracionPeriodos, c0.NombreCarrera, c0.TotalCreditos, m.CodigoMateria, m.AreaAcademica, m.AulaCodigoAula, m.CreditosMateria, m.NombreMateria, m.TipoMateria
        FROM CarreraMaterias AS c
        INNER JOIN Carreras AS c0 ON c.CarreraId == c0.CarreraId
        INNER JOIN Materias AS m ON c.CodigoMateria == m.CodigoMateria) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CarreraMateria entity;
        Carrera entity;
        Materia entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CarreraMateria instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CarreraMateria);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CarreraMateria.CarreraId, CarreraMateria.CodigoMateria PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.CarreraMateria").FindPrimaryKey()], 
                keyValues: new object[]
                { 
                    (object)dataReader.GetInt32(0), 
                    (object)dataReader.GetString(1) 
                }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CarreraMateria)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CarreraMateria | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.CarreraMateria")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CarreraMateria | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.CarreraMateria")]: 
                        {
                            shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                            return 
                            {
                                CarreraMateria instance;
                                instance = new CarreraMateria();
                                instance.<CarreraId>k__BackingField = (int?)dataReader.GetInt32(0);
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CarreraMateria | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.CarreraMateria")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CarreraMateria)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Carrera instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Carrera);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Carrera.CarreraId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Carrera").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Carrera)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Carrera | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CRUD.Models.Carrera")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Carrera | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CRUD.Models.Carrera")]: 
                        {
                            return 
                            {
                                Carrera instance;
                                instance = new Carrera();
                                instance.<CarreraId>k__BackingField = dataReader.GetInt32(3);
                                instance.<Departamento>k__BackingField = dataReader.GetString(4);
                                instance.<DuracionPeriodos>k__BackingField = dataReader.GetString(5);
                                instance.<NombreCarrera>k__BackingField = dataReader.GetString(6);
                                instance.<TotalCreditos>k__BackingField = dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Carrera | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CRUD.Models.Carrera")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Carrera)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Materia instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Materia);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Materia.CodigoMateria PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(8) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Materia)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<string>(dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10));
                            return 
                            {
                                Materia instance;
                                instance = new Materia();
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(8);
                                instance.<AreaAcademica>k__BackingField = dataReader.GetString(9);
                                instance.<CreditosMateria>k__BackingField = dataReader.GetInt32(11);
                                instance.<NombreMateria>k__BackingField = dataReader.GetString(12);
                                instance.<TipoMateria>k__BackingField = dataReader.GetString(13);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Materia)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<CarreraMateria, CarreraMateria, Carrera>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CarreraMateria.Carreras (Carrera) ToPrincipal Carrera Inverse: CarreraMaterias | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CRUD.Models.CarreraMateria").FindNavigation("Carreras")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Carrera.CarreraMaterias (ICollection<CarreraMateria>) Collection ToDependent CarreraMateria Inverse: Carreras | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("CRUD.Models.Carrera").FindNavigation("CarreraMaterias")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Carreras>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Carrera, ICollection<CarreraMateria>, CarreraMateria> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CRUD.Models.Carrera").FindNavigation("CarreraMaterias").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CarreraMateria, CarreraMateria, Materia>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CarreraMateria.Materias (Materia) ToPrincipal Materia Inverse: CarreraMaterias | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CRUD.Models.CarreraMateria").FindNavigation("Materias")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Materia.CarreraMaterias (ICollection<CarreraMateria>) Collection ToDependent CarreraMateria Inverse: Materias | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindNavigation("CarreraMaterias")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Materias>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Materia, ICollection<CarreraMateria>, CarreraMateria> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindNavigation("CarreraMaterias").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 10:58:24.217 -04:00 [DBG] Creating DbConnection.
2024-07-09 10:58:24.238 -04:00 [DBG] Created DbConnection. (19ms).
2024-07-09 10:58:24.239 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 10:58:25.911 -04:00 [ERR] An error occurred using the connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 10:58:25.926 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CRUD.Context.MyDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'elguelo' requested by the login. Client with IP address '179.53.85.174' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:acfd684c-8a5e-432e-ad84-1032345377a7
Error Number:40615,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'elguelo' requested by the login. Client with IP address '179.53.85.174' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:acfd684c-8a5e-432e-ad84-1032345377a7
Error Number:40615,State:1,Class:14
2024-07-09 10:58:25.932 -04:00 [INF] Executed action CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD) in 2597.7884ms
2024-07-09 10:58:25.932 -04:00 [INF] Executed endpoint 'CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD)'
2024-07-09 10:58:25.932 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open server 'elguelo' requested by the login. Client with IP address '179.53.85.174' is not allowed to access the server.  To enable access, use the Azure Management Portal or run sp_set_firewall_rule on the master database to create a firewall rule for this IP address or address range.  It may take up to five minutes for this change to take effect.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, Func`3 accessTokenCallback)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias() in /Users/miguelcruz/Desktop/University-Backend/CRUD/Controllers/CarreraMateriaController.cs:line 85
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:acfd684c-8a5e-432e-ad84-1032345377a7
Error Number:40615,State:1,Class:14
2024-07-09 10:58:25.939 -04:00 [DBG] Connection id "0HN504SVN6V44" completed keep alive response.
2024-07-09 10:58:25.940 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 10:58:25.943 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 10:58:25.947 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-09 10:58:25.947 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/CarreraMateriaApi - 500 null text/plain; charset=utf-8 2664.2142ms
2024-07-09 10:58:28.344 -04:00 [DBG] Connection id "0HN504SVN6V44" received FIN.
2024-07-09 10:58:28.345 -04:00 [DBG] Connection id "0HN504SVN6V44" disconnecting.
2024-07-09 10:58:28.345 -04:00 [DBG] Connection id "0HN504SVN6V44" stopped.
2024-07-09 10:58:28.348 -04:00 [DBG] Connection id "0HN504SVN6V44" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:00:10.413 -04:00 [DBG] Connection id "0HN504SVN6V45" accepted.
2024-07-09 11:00:10.414 -04:00 [DBG] Connection id "0HN504SVN6V45" started.
2024-07-09 11:00:10.417 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/CarreraMateriaApi - null null
2024-07-09 11:00:10.419 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:00:10.421 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:00:10.434 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CarreraMateriaApi'
2024-07-09 11:00:10.435 -04:00 [DBG] Endpoint 'CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD)' with route pattern 'api/CarreraMateriaApi' is valid for the request path '/api/CarreraMateriaApi'
2024-07-09 11:00:10.435 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD)'
2024-07-09 11:00:10.438 -04:00 [INF] Executing endpoint 'CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD)'
2024-07-09 11:00:10.439 -04:00 [INF] Route matched with {action = "GetAllCarrerasAndMaterias", controller = "CarreraMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CRUD.Models.CarreraMateria]] GetAllCarrerasAndMaterias() on controller CRUD.Controllers.CarreraMateriaController (CRUD).
2024-07-09 11:00:10.439 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:00:10.439 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:00:10.440 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:00:10.440 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:00:10.440 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:00:10.440 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.CarreraMateriaController (CRUD)
2024-07-09 11:00:10.443 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.CarreraMateriaController (CRUD)
2024-07-09 11:00:10.443 -04:00 [INF] Executing action method CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD) - Validation state: "Valid"
2024-07-09 11:00:10.461 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:00:10.464 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:00:10.465 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:00:10.465 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:10.811 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:10.815 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:00:10.819 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-09 11:00:10.820 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-09 11:00:10.824 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CarreraId], [c].[CodigoMateria], [c].[EstudianteId], [c0].[CarreraId], [c0].[Departamento], [c0].[DuracionPeriodos], [c0].[NombreCarrera], [c0].[TotalCreditos], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CarreraMaterias] AS [c]
INNER JOIN [Carreras] AS [c0] ON [c].[CarreraId] = [c0].[CarreraId]
INNER JOIN [Materias] AS [m] ON [c].[CodigoMateria] = [m].[CodigoMateria]
2024-07-09 11:00:10.933 -04:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CarreraId], [c].[CodigoMateria], [c].[EstudianteId], [c0].[CarreraId], [c0].[Departamento], [c0].[DuracionPeriodos], [c0].[NombreCarrera], [c0].[TotalCreditos], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CarreraMaterias] AS [c]
INNER JOIN [Carreras] AS [c0] ON [c].[CarreraId] = [c0].[CarreraId]
INNER JOIN [Materias] AS [m] ON [c].[CodigoMateria] = [m].[CodigoMateria]
2024-07-09 11:00:10.957 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:10.987 -04:00 [DBG] The navigation 'CarreraMateria.Carreras' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:10.990 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrera' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:10.999 -04:00 [DBG] The navigation 'CarreraMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.000 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] The navigation 'CarreraMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] The navigation 'CarreraMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] The navigation 'CarreraMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] The navigation 'CarreraMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] The navigation 'CarreraMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] The navigation 'CarreraMateria.Carreras' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'Carrera' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.005 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.006 -04:00 [DBG] The navigation 'CarreraMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.006 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.006 -04:00 [DBG] Context 'MyDbContext' started tracking 'CarreraMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.006 -04:00 [DBG] The navigation 'CarreraMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.006 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:00:11.007 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:11.009 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 74ms reading results.
2024-07-09 11:00:11.011 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:11.015 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (3ms).
2024-07-09 11:00:11.018 -04:00 [INF] Executed action method CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 572.4358ms.
2024-07-09 11:00:11.021 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:00:11.023 -04:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-07-09 11:00:11.024 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:00:11.024 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CRUD.Models.CarreraMateria, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:00:11.087 -04:00 [INF] Executed action CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD) in 647.4004ms
2024-07-09 11:00:11.087 -04:00 [INF] Executed endpoint 'CRUD.Controllers.CarreraMateriaController.GetAllCarrerasAndMaterias (CRUD)'
2024-07-09 11:00:11.087 -04:00 [DBG] Connection id "0HN504SVN6V45" completed keep alive response.
2024-07-09 11:00:11.087 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:00:11.087 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:11.087 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:00:11.088 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/CarreraMateriaApi - 200 9769 application/json; charset=utf-8 671.6578ms
2024-07-09 11:00:13.373 -04:00 [DBG] Connection id "0HN504SVN6V45" received FIN.
2024-07-09 11:00:13.375 -04:00 [DBG] Connection id "0HN504SVN6V45" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:00:13.375 -04:00 [DBG] Connection id "0HN504SVN6V45" disconnecting.
2024-07-09 11:00:13.376 -04:00 [DBG] Connection id "0HN504SVN6V45" stopped.
2024-07-09 11:00:55.160 -04:00 [DBG] Connection id "0HN504SVN6V46" accepted.
2024-07-09 11:00:55.160 -04:00 [DBG] Connection id "0HN504SVN6V46" started.
2024-07-09 11:00:55.163 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:00:55.164 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:00:55.164 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:00:55.164 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:00:55.165 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:00:55.165 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:00:55.166 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:00:55.187 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:00:55.187 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:00:55.187 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:00:55.187 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:00:55.187 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:00:55.187 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:00:55.187 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:00:55.189 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:00:55.194 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:00:55.195 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:00:55.195 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:00:55.195 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:00:55.195 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:00:55.196 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:00:55.197 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:00:55.197 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:00:55.197 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:00:55.197 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:00:55.197 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:00:55.199 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:00:55.199 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:00:55.224 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:00:55.232 -04:00 [DBG] Compiling query expression: 
'DbSet<CuentaPorPagar>()
    .Where(c => c.CodigoEstudiante == __codigoEstudiante_0 && c.EstudianteMateria.PeriodoCursado == __periodo_1 && c.MontoTotalaPagar > (decimal?)0)'
2024-07-09 11:00:55.245 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CuentaPorPagar>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CuentaPorPagar.IdCuentaPorPagar (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CuentaPorPagar.CodigoEstudiante (int) Required FK Index, 1], [Property: CuentaPorPagar.CodigoMateria (string) Required FK Index, 2], [Property: CuentaPorPagar.Estado (string) Required, 3], [Property: CuentaPorPagar.MontoTotalaPagar (decimal?), 4] }
        SELECT c.IdCuentaPorPagar, c.CodigoEstudiante, c.CodigoMateria, c.Estado, c.MontoTotalaPagar
        FROM CuentaPorPagars AS c
        INNER JOIN EstudianteMaterias AS e ON (c.CodigoMateria == e.CodigoMateria) && (c.CodigoEstudiante == e.CodigoEstudiante)
        WHERE ((c.CodigoEstudiante == @__codigoEstudiante_0) && (e.PeriodoCursado == @__periodo_1)) && (c.MontoTotalaPagar > 0.0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CuentaPorPagar entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CuentaPorPagar instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CuentaPorPagar);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CuentaPorPagar.IdCuentaPorPagar PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CuentaPorPagar)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]: 
                        {
                            return 
                            {
                                CuentaPorPagar instance;
                                instance = new CuentaPorPagar();
                                instance.<IdCuentaPorPagar>k__BackingField = dataReader.GetInt32(0);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(2);
                                instance.<Estado>k__BackingField = dataReader.GetString(3);
                                instance.<MontoTotalaPagar>k__BackingField = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CuentaPorPagar)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 11:00:55.254 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:00:55.254 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:00:55.255 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:55.257 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:55.257 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:00:55.257 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:00:55.260 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-09 11:00:55.262 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:00:55.348 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:00:55.355 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:55.355 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 6ms reading results.
2024-07-09 11:00:55.356 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:55.356 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:00:55.357 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 158.3587ms.
2024-07-09 11:00:55.358 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:00:55.358 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:00:55.358 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:00:55.358 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:00:55.358 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:00:55.358 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:00:55.364 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 176.6874ms
2024-07-09 11:00:55.364 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:00:55.365 -04:00 [DBG] Connection id "0HN504SVN6V46" completed keep alive response.
2024-07-09 11:00:55.365 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:00:55.365 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:00:55.365 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:00:55.365 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 79 application/json; charset=utf-8 202.3126ms
2024-07-09 11:00:55.560 -04:00 [DBG] Connection id "0HN504SVN6V46" received FIN.
2024-07-09 11:00:55.560 -04:00 [DBG] Connection id "0HN504SVN6V46" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:00:55.560 -04:00 [DBG] Connection id "0HN504SVN6V46" disconnecting.
2024-07-09 11:00:55.560 -04:00 [DBG] Connection id "0HN504SVN6V46" stopped.
2024-07-09 11:01:29.118 -04:00 [DBG] Connection id "0HN504SVN6V47" accepted.
2024-07-09 11:01:29.119 -04:00 [DBG] Connection id "0HN504SVN6V47" started.
2024-07-09 11:01:29.127 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-07-09 11:01:29.129 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:29.129 -04:00 [DBG] OPTIONS requests are not supported
2024-07-09 11:01:29.130 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-07-09 11:01:29.131 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-09 11:01:29.135 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:29.135 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:29.136 -04:00 [DBG] The request is a preflight request.
2024-07-09 11:01:29.140 -04:00 [DBG] Connection id "0HN504SVN6V47" completed keep alive response.
2024-07-09 11:01:29.140 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 14.9872ms
2024-07-09 11:01:29.143 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 37
2024-07-09 11:01:29.143 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:29.143 -04:00 [DBG] POST requests are not supported
2024-07-09 11:01:29.145 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-07-09 11:01:29.145 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-07-09 11:01:29.145 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-07-09 11:01:29.145 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:29.145 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:29.146 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-07-09 11:01:29.151 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-07-09 11:01:29.152 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:29.152 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:29.152 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:29.152 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:29.152 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:29.152 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-07-09 11:01:29.154 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-07-09 11:01:29.155 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-07-09 11:01:29.156 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-07-09 11:01:29.157 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-07-09 11:01:29.157 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-07-09 11:01:29.165 -04:00 [DBG] Connection id "0HN504SVN6V47", Request id "0HN504SVN6V47:00000002": started reading request body.
2024-07-09 11:01:29.165 -04:00 [DBG] Connection id "0HN504SVN6V47", Request id "0HN504SVN6V47:00000002": done reading request body.
2024-07-09 11:01:29.191 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-07-09 11:01:29.191 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-07-09 11:01:29.191 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-07-09 11:01:29.192 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-07-09 11:01:29.192 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-07-09 11:01:29.196 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:29.198 -04:00 [DBG] Compiling query expression: 
'DbSet<Admin>()
    .SingleOrDefault(u => u.AdminId == __loginModel_Id_0)'
2024-07-09 11:01:29.205 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Admin>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Admin.AdminId (int) Required PK AfterSave:Throw, 0], [Property: Admin.ContraseñaAdmin (string) Required MaxLength(100), 1], [Property: Admin.CorreoAdmin (string) Required MaxLength(100), 2], [Property: Admin.FechaIngreso (DateTime) Required, 3], [Property: Admin.NombreAdmin (string) Required MaxLength(100), 4], [Property: Admin.Rol (string) Required MaxLength(50), 5], [Property: Admin.Telefono (string) Required MaxLength(100), 6] }
        SELECT TOP(2) a.AdminId, a.ContraseñaAdmin, a.CorreoAdmin, a.FechaIngreso, a.NombreAdmin, a.Rol, a.Telefono
        FROM Admins AS a
        WHERE a.AdminId == @__loginModel_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Admin entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Admin instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Admin);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Admin.AdminId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Admin").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Admin)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")]: 
                        {
                            return 
                            {
                                Admin instance;
                                instance = new Admin();
                                instance.<AdminId>k__BackingField = dataReader.GetInt32(0);
                                instance.<ContraseñaAdmin>k__BackingField = dataReader.GetString(1);
                                instance.<CorreoAdmin>k__BackingField = dataReader.GetString(2);
                                instance.<FechaIngreso>k__BackingField = dataReader.GetDateTime(3);
                                instance.<NombreAdmin>k__BackingField = dataReader.GetString(4);
                                instance.<Rol>k__BackingField = dataReader.GetString(5);
                                instance.<Telefono>k__BackingField = dataReader.GetString(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Admin)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-07-09 11:01:29.206 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:29.206 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:29.206 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.206 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.207 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:29.207 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.207 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.207 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol], [a].[Telefono]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-07-09 11:01:29.280 -04:00 [INF] Executed DbCommand (74ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol], [a].[Telefono]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-07-09 11:01:29.280 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.280 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:29.281 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.281 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:29.281 -04:00 [DBG] Compiling query expression: 
'DbSet<Docente>()
    .SingleOrDefault(u => u.CodigoDocente == __loginModel_Id_0)'
2024-07-09 11:01:29.284 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Docente>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Docente.CodigoDocente (int) Required PK AfterSave:Throw, 0], [Property: Docente.ContraseñaDocente (string) Required MaxLength(100), 1], [Property: Docente.CorreoDocente (string) Required MaxLength(100), 2], [Property: Docente.NombreDocente (string) Required MaxLength(100), 3], [Property: Docente.SexoDocente (string) Required MaxLength(1), 4], [Property: Docente.TelefonoDocente (string) Required MaxLength(20), 5] }
        SELECT TOP(2) d.CodigoDocente, d.ContraseñaDocente, d.CorreoDocente, d.NombreDocente, d.SexoDocente, d.TelefonoDocente
        FROM Docentes AS d
        WHERE d.CodigoDocente == @__loginModel_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Docente entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Docente instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Docente);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Docente.CodigoDocente PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Docente").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Docente)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")]: 
                        {
                            return 
                            {
                                Docente instance;
                                instance = new Docente();
                                instance.<CodigoDocente>k__BackingField = dataReader.GetInt32(0);
                                instance.<ContraseñaDocente>k__BackingField = dataReader.GetString(1);
                                instance.<CorreoDocente>k__BackingField = dataReader.GetString(2);
                                instance.<NombreDocente>k__BackingField = dataReader.GetString(3);
                                instance.<SexoDocente>k__BackingField = dataReader.GetString(4);
                                instance.<TelefonoDocente>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Docente)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-07-09 11:01:29.284 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.284 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.285 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:29.285 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.285 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.285 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-07-09 11:01:29.345 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-07-09 11:01:29.345 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.345 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:29.345 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.345 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:29.346 -04:00 [DBG] Compiling query expression: 
'DbSet<Estudiante>()
    .SingleOrDefault(u => u.Id == __loginModel_Id_0)'
2024-07-09 11:01:29.349 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Estudiante>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Estudiante.Id (int) Required PK AfterSave:Throw, 0], [Property: Estudiante.Alertas (string) MaxLength(50), 1], [Property: Estudiante.CarreraId (int?) FK Index, 2], [Property: Estudiante.CiudadEstudiante (string) Required MaxLength(100), 3], [Property: Estudiante.CondicionAcademica (string) Required MaxLength(50), 4], [Property: Estudiante.ContraseñaEstudiante (string) Required MaxLength(100), 5], [Property: Estudiante.CorreoEstudiante (string) Required MaxLength(150), 6], [Property: Estudiante.CreditosAprobados (int?), 7], [Property: Estudiante.DireccionEstudiante (string) Required MaxLength(200), 8], [Property: Estudiante.FechaIngreso (DateTime) Required, 9], [Property: Estudiante.IndiceGeneral (decimal?), 10], [Property: Estudiante.IndicePeriodo (decimal?), 11], [Property: Estudiante.Nacionalidad (string) Required MaxLength(50), 12], [Property: Estudiante.NombreEstudiante (string) Required MaxLength(100), 13], [Property: Estudiante.PeriodoActual (string), 14], [Property: Estudiante.PeriodosCursados (int?), 15], [Property: Estudiante.Rol (string) Required MaxLength(50), 16], [Property: Estudiante.SexoEstudiante (string) Required MaxLength(1), 17], [Property: Estudiante.TelefonoEstudiante (string) Required MaxLength(15), 18] }
        SELECT TOP(2) e.Id, e.Alertas, e.CarreraId, e.CiudadEstudiante, e.CondicionAcademica, e.ContraseñaEstudiante, e.CorreoEstudiante, e.CreditosAprobados, e.DireccionEstudiante, e.FechaIngreso, e.IndiceGeneral, e.IndicePeriodo, e.Nacionalidad, e.NombreEstudiante, e.PeriodoActual, e.PeriodosCursados, e.Rol, e.SexoEstudiante, e.TelefonoEstudiante
        FROM Estudiantes AS e
        WHERE e.Id == @__loginModel_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Estudiante entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Estudiante instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Estudiante);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Estudiante.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Estudiante").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Estudiante)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Estudiante")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Estudiante")]: 
                        {
                            return 
                            {
                                Estudiante instance;
                                instance = new Estudiante();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Alertas>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<CarreraId>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<CiudadEstudiante>k__BackingField = dataReader.GetString(3);
                                instance.<CondicionAcademica>k__BackingField = dataReader.GetString(4);
                                instance.<ContraseñaEstudiante>k__BackingField = dataReader.GetString(5);
                                instance.<CorreoEstudiante>k__BackingField = dataReader.GetString(6);
                                instance.<CreditosAprobados>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                instance.<DireccionEstudiante>k__BackingField = dataReader.GetString(8);
                                instance.<FechaIngreso>k__BackingField = dataReader.GetDateTime(9);
                                instance.<IndiceGeneral>k__BackingField = dataReader.IsDBNull(10) ? default(decimal?) : (decimal?)dataReader.GetDecimal(10);
                                instance.<IndicePeriodo>k__BackingField = dataReader.IsDBNull(11) ? default(decimal?) : (decimal?)dataReader.GetDecimal(11);
                                instance.<Nacionalidad>k__BackingField = dataReader.GetString(12);
                                instance.<NombreEstudiante>k__BackingField = dataReader.GetString(13);
                                instance.<PeriodoActual>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                instance.<PeriodosCursados>k__BackingField = dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15);
                                instance.<Rol>k__BackingField = dataReader.GetString(16);
                                instance.<SexoEstudiante>k__BackingField = dataReader.GetString(17);
                                instance.<TelefonoEstudiante>k__BackingField = dataReader.GetString(18);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Estudiante")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Estudiante)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-07-09 11:01:29.351 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.351 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.351 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:29.351 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.351 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.351 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-07-09 11:01:29.419 -04:00 [INF] Executed DbCommand (68ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-07-09 11:01:29.431 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:29.463 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.463 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 43ms reading results.
2024-07-09 11:01:29.463 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.463 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:29.719 -04:00 [DBG] Compiling query expression: 
'DbSet<Carrera>()
    .Where(c => (int?)c.CarreraId == __estudiante_CarreraId_0)
    .Select(c => c.NombreCarrera)
    .FirstOrDefault()'
2024-07-09 11:01:29.722 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT TOP(1) c.NombreCarrera
        FROM Carreras AS c
        WHERE c.CarreraId == @__estudiante_CarreraId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-07-09 11:01:29.722 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.722 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.722 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:29.722 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.722 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.722 -04:00 [DBG] Executing DbCommand [Parameters=[@__estudiante_CarreraId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[NombreCarrera]
FROM [Carreras] AS [c]
WHERE [c].[CarreraId] = @__estudiante_CarreraId_0
2024-07-09 11:01:29.782 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__estudiante_CarreraId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[NombreCarrera]
FROM [Carreras] AS [c]
WHERE [c].[CarreraId] = @__estudiante_CarreraId_0
2024-07-09 11:01:29.782 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.782 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:29.782 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.782 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:29.798 -04:00 [INF] Login exitoso
2024-07-09 11:01:29.798 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 605.8433ms.
2024-07-09 11:01:29.798 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:29.799 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:29.799 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:29.799 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:29.799 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:29.799 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:01:29.804 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 652.574ms
2024-07-09 11:01:29.804 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-07-09 11:01:29.804 -04:00 [DBG] Connection id "0HN504SVN6V47" completed keep alive response.
2024-07-09 11:01:29.805 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:29.805 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.805 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:29.805 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 200 921 application/json; charset=utf-8 661.6917ms
2024-07-09 11:01:29.846 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - null null
2024-07-09 11:01:29.847 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:29.848 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:01:29.848 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:01:29.848 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasEstudiante/{codigoEstudiante}/{periodo}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:01:29.848 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:01:29.848 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:29.848 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:29.848 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:01:29.850 -04:00 [INF] Route matched with {action = "GetMateriasEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMateriasEstudiante(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-07-09 11:01:29.857 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:29.857 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:29.857 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:29.857 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:29.857 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:29.857 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:01:29.858 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:01:29.858 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:29.858 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:01:29.858 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:29.858 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:29.858 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:29.858 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:29.858 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:29.858 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:01:29.858 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:29.858 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:29.858 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:29.858 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:29.858 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) - Validation state: "Valid"
2024-07-09 11:01:29.861 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:29.864 -04:00 [DBG] Compiling query expression: 
'DbSet<EstudianteMateria>()
    .Include(em => em.Materias)
    .Include(em => em.Seccions)
    .ThenInclude(s => s.Aulas)
    .Include(em => em.Seccions)
    .ThenInclude(s => s.MateriaDocentes)
    .ThenInclude(md => md.Docentes)
    .Where(em => em.CodigoEstudiante == __codigoEstudiante_0 && em.PeriodoCursado == __periodo_1)
    .Select(em => new { 
        NombreMateria = em.Materias.NombreMateria, 
        CodigoSeccion = em.Seccions.CodigoSeccion, 
        Horario = em.Seccions.Horario, 
        Aula = em.Seccions.Aulas.CodigoAula, 
        Edificio = em.Seccions.Aulas.Edificio, 
        Profesor = em.Seccions.MateriaDocentes
            .Select(md => md.Docentes.NombreDocente)
            .FirstOrDefault()
     })'
2024-07-09 11:01:29.881 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<<>f__AnonymousType10<string, string, string, string, string, string>>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            NombreMateria -> 0
            CodigoSeccion -> 1
            Horario -> 2
            Aula -> 3
            Edificio -> 4
            Profesor -> 5
        SELECT m.NombreMateria, s.CodigoSeccion, s.Horario, a.CodigoAula AS Aula, a.Edificio, (
            SELECT TOP(1) d.NombreDocente
            FROM MateriaDocentes AS m0
            INNER JOIN Docentes AS d ON m0.DocenteId == d.CodigoDocente
            WHERE (s.CodigoSeccion != NULL) && (s.CodigoSeccion == m0.SeccionId)) AS Profesor
        FROM EstudianteMaterias AS e
        INNER JOIN Materias AS m ON e.CodigoMateria == m.CodigoMateria
        LEFT JOIN Secciones AS s ON e.SeccionId == s.CodigoSeccion
        LEFT JOIN Aulas AS a ON s.CodigoAula == a.CodigoAula
        WHERE (e.CodigoEstudiante == @__codigoEstudiante_0) && (e.PeriodoCursado == @__periodo_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        string value6;
        value1 = dataReader.GetString(0);
        value2 = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
        value6 = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
        return new { 
            NombreMateria = value1, 
            CodigoSeccion = value2, 
            Horario = value3, 
            Aula = value4, 
            Edificio = value5, 
            Profesor = value6
         };
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 11:01:29.886 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:29.886 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:29.886 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.886 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.887 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:29.887 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.887 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:29.887 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:01:29.968 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:01:29.969 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.969 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:29.969 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.969 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:29.969 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 110.6356ms.
2024-07-09 11:01:29.969 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:29.969 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:29.969 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:29.969 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:29.969 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:29.969 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType10`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:29.972 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) in 114.6ms
2024-07-09 11:01:29.972 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:01:29.972 -04:00 [DBG] Connection id "0HN504SVN6V47" completed keep alive response.
2024-07-09 11:01:29.972 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:29.972 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:29.972 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:29.972 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - 200 753 application/json; charset=utf-8 125.805ms
2024-07-09 11:01:33.387 -04:00 [DBG] Connection id "0HN504SVN6V47" received FIN.
2024-07-09 11:01:33.388 -04:00 [DBG] Connection id "0HN504SVN6V47" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:01:33.388 -04:00 [DBG] Connection id "0HN504SVN6V47" disconnecting.
2024-07-09 11:01:33.389 -04:00 [DBG] Connection id "0HN504SVN6V47" stopped.
2024-07-09 11:01:34.781 -04:00 [DBG] Connection id "0HN504SVN6V48" accepted.
2024-07-09 11:01:34.781 -04:00 [DBG] Connection id "0HN504SVN6V48" started.
2024-07-09 11:01:34.781 -04:00 [DBG] Connection id "0HN504SVN6V49" accepted.
2024-07-09 11:01:34.781 -04:00 [DBG] Connection id "0HN504SVN6V49" started.
2024-07-09 11:01:34.781 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:01:34.781 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:01:34.781 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:34.781 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:34.781 -04:00 [DBG] OPTIONS requests are not supported
2024-07-09 11:01:34.781 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:01:34.781 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:01:34.781 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-09 11:01:34.781 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:34.781 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:34.781 -04:00 [DBG] The request is a preflight request.
2024-07-09 11:01:34.781 -04:00 [DBG] Connection id "0HN504SVN6V49" completed keep alive response.
2024-07-09 11:01:34.781 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 204 null null 0.4578ms
2024-07-09 11:01:34.782 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:01:34.782 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:01:34.782 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:01:34.782 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:01:34.782 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:34.782 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:34.782 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:01:34.782 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:01:34.782 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:34.782 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:34.782 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:34.782 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:34.783 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:34.783 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:01:34.783 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:01:34.783 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:34.783 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:01:34.783 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:34.783 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:34.783 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:34.783 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:34.783 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:34.783 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:01:34.783 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:34.783 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:34.783 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:34.783 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:34.783 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:01:34.784 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:34.784 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:34.784 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:34.784 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:34.785 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:34.785 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:34.785 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:34.785 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:34.785 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:01:34.810 -04:00 [DBG] Successfully validated the token.
2024-07-09 11:01:34.811 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-09 11:01:34.811 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:01:34.811 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:01:34.811 -04:00 [DBG] Endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)' with route pattern 'api/CuentaPorPagar/cuentaporpagar' is valid for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:01:34.811 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:01:34.811 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:34.811 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:34.811 -04:00 [INF] Executing endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:01:34.812 -04:00 [INF] Route matched with {action = "GetCuentaPorPagar", controller = "CuentaPorPagar"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCuentaPorPagar(System.String, Int32) on controller CRUD.Controllers.CuentaPorPagarController (CRUD).
2024-07-09 11:01:34.812 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:34.812 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:34.812 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:34.812 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:34.812 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:34.812 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:01:34.812 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:01:34.813 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:34.813 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:01:34.813 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:34.813 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:34.813 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:34.813 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:34.813 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:34.813 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:01:34.813 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:34.813 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:34.813 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:34.813 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:34.813 -04:00 [INF] Executing action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) - Validation state: "Valid"
2024-07-09 11:01:34.814 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:34.827 -04:00 [DBG] Compiling query expression: 
'DbSet<CuentaPorPagar>()
    .Include(c => c.EstudianteMateria)
    .ThenInclude(em => em.Materias)
    .Include(c => c.EstudianteMateria)
    .ThenInclude(em => em.Seccions)
    .ThenInclude(s => s.MateriaDocentes)
    .ThenInclude(md => md.Docentes)
    .Where(c => c.EstudianteMateria.PeriodoCursado == __periodo_0 && c.CodigoEstudiante == __codigoEstudiante_1)
    .Select(c => new { 
        IdCuentaPorPagar = c.IdCuentaPorPagar, 
        CodigoMateria = c.CodigoMateria, 
        CodigoEstudiante = c.CodigoEstudiante, 
        MontoTotalaPagar = c.MontoTotalaPagar, 
        NombreMateria = c.EstudianteMateria.Materias.NombreMateria, 
        Periodo = c.EstudianteMateria.PeriodoCursado, 
        Seccion = c.EstudianteMateria.Seccions.CodigoSeccion, 
        Profesor = c.EstudianteMateria.Seccions.MateriaDocentes
            .FirstOrDefault(md => md.CodigoMateria == c.CodigoMateria).Docentes.NombreDocente, 
        Aula = c.EstudianteMateria.Seccions.CodigoAula, 
        Horario = c.EstudianteMateria.Seccions.Horario, 
        Creditos = c.EstudianteMateria.Materias.CreditosMateria, 
        Cupo = c.EstudianteMateria.Seccions.Cupo
     })
    .Any()'
2024-07-09 11:01:34.830 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM CuentaPorPagars AS c
            INNER JOIN EstudianteMaterias AS e ON (c.CodigoMateria == e.CodigoMateria) && (c.CodigoEstudiante == e.CodigoEstudiante)
            WHERE (e.PeriodoCursado == @__periodo_0) && (c.CodigoEstudiante == @__codigoEstudiante_1))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2024-07-09 11:01:34.834 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:34.834 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:34.834 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:34.846 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:01:34.846 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:34.846 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:34.846 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:34.846 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:34.846 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.781ms.
2024-07-09 11:01:34.846 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:34.846 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:34.846 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:34.846 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:34.846 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:34.846 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:01:34.846 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 63.806ms
2024-07-09 11:01:34.846 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:01:34.846 -04:00 [DBG] Connection id "0HN504SVN6V48" completed keep alive response.
2024-07-09 11:01:34.846 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:34.846 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:34.846 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:34.846 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 79 application/json; charset=utf-8 65.4765ms
2024-07-09 11:01:36.265 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:36.266 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:36.266 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:36.266 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:36.266 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:01:36.335 -04:00 [INF] Executed DbCommand (69ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:01:36.339 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:36.340 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 4ms reading results.
2024-07-09 11:01:36.340 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:36.340 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:36.340 -04:00 [INF] Executed action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1527.5328ms.
2024-07-09 11:01:36.341 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:36.341 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:36.341 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:36.341 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:36.341 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:36.341 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:36.344 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:36.353 -04:00 [DBG] Compiling query expression: 
'DbSet<CuentaPorPagar>()
    .Include(c => c.EstudianteMateria)
    .ThenInclude(em => em.Materias)
    .Include(c => c.EstudianteMateria)
    .ThenInclude(em => em.Seccions)
    .ThenInclude(s => s.MateriaDocentes)
    .ThenInclude(md => md.Docentes)
    .Where(c => c.EstudianteMateria.PeriodoCursado == __periodo_0 && c.CodigoEstudiante == __codigoEstudiante_1)
    .Select(c => new { 
        IdCuentaPorPagar = c.IdCuentaPorPagar, 
        CodigoMateria = c.CodigoMateria, 
        CodigoEstudiante = c.CodigoEstudiante, 
        MontoTotalaPagar = c.MontoTotalaPagar, 
        NombreMateria = c.EstudianteMateria.Materias.NombreMateria, 
        Periodo = c.EstudianteMateria.PeriodoCursado, 
        Seccion = c.EstudianteMateria.Seccions.CodigoSeccion, 
        Profesor = c.EstudianteMateria.Seccions.MateriaDocentes
            .FirstOrDefault(md => md.CodigoMateria == c.CodigoMateria).Docentes.NombreDocente, 
        Aula = c.EstudianteMateria.Seccions.CodigoAula, 
        Horario = c.EstudianteMateria.Seccions.Horario, 
        Creditos = c.EstudianteMateria.Materias.CreditosMateria, 
        Cupo = c.EstudianteMateria.Seccions.Cupo
     })'
2024-07-09 11:01:36.365 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<<>f__AnonymousType8<int, string, int, decimal?, string, string, string, string, string, string, int, int>>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            IdCuentaPorPagar -> 0
            CodigoMateria -> 1
            CodigoEstudiante -> 2
            MontoTotalaPagar -> 3
            NombreMateria -> 4
            Periodo -> 5
            Seccion -> 6
            Profesor -> 7
            Aula -> 8
            Horario -> 9
            Creditos -> 10
            Cupo -> 11
        SELECT c.IdCuentaPorPagar, c.CodigoMateria, c.CodigoEstudiante, c.MontoTotalaPagar, m.NombreMateria, e.PeriodoCursado AS Periodo, s.CodigoSeccion AS Seccion, (
            SELECT TOP(1) d.NombreDocente
            FROM MateriaDocentes AS m0
            INNER JOIN Docentes AS d ON m0.DocenteId == d.CodigoDocente
            WHERE ((s.CodigoSeccion != NULL) && (s.CodigoSeccion == m0.SeccionId)) && (m0.CodigoMateria == c.CodigoMateria)) AS Profesor, s.CodigoAula AS Aula, s.Horario, m.CreditosMateria AS Creditos, s.Cupo
        FROM CuentaPorPagars AS c
        INNER JOIN EstudianteMaterias AS e ON (c.CodigoMateria == e.CodigoMateria) && (c.CodigoEstudiante == e.CodigoEstudiante)
        INNER JOIN Materias AS m ON e.CodigoMateria == m.CodigoMateria
        LEFT JOIN Secciones AS s ON e.SeccionId == s.CodigoSeccion
        WHERE (e.PeriodoCursado == @__periodo_0) && (c.CodigoEstudiante == @__codigoEstudiante_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        int? value1;
        string value2;
        int? value3;
        decimal? value4;
        string value5;
        string value6;
        string value7;
        string value8;
        string value9;
        string value10;
        int? value11;
        int? value12;
        value1 = (int?)dataReader.GetInt32(0);
        value2 = dataReader.GetString(1);
        value3 = (int?)dataReader.GetInt32(2);
        value4 = dataReader.IsDBNull(3) ? default(decimal?) : (decimal?)dataReader.GetDecimal(3);
        value5 = dataReader.GetString(4);
        value6 = dataReader.GetString(5);
        value7 = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
        value8 = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
        value9 = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
        value10 = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
        value11 = (int?)dataReader.GetInt32(10);
        value12 = dataReader.IsDBNull(11) ? default(int?) : (int?)dataReader.GetInt32(11);
        return new { 
            IdCuentaPorPagar = (int)value1, 
            CodigoMateria = value2, 
            CodigoEstudiante = (int)value3, 
            MontoTotalaPagar = value4, 
            NombreMateria = value5, 
            Periodo = value6, 
            Seccion = value7, 
            Profesor = value8, 
            Aula = value9, 
            Horario = value10, 
            Creditos = (int)value11, 
            Cupo = (int)value12
         };
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 11:01:36.367 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:36.368 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:36.368 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:36.368 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:36.368 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:36.368 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:01:36.437 -04:00 [INF] Executed DbCommand (69ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:01:36.441 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:36.441 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 3ms reading results.
2024-07-09 11:01:36.441 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:36.441 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:36.453 -04:00 [INF] Executed action CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) in 1641.2847ms
2024-07-09 11:01:36.454 -04:00 [INF] Executed endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:01:36.454 -04:00 [DBG] Connection id "0HN504SVN6V49" completed keep alive response.
2024-07-09 11:01:36.454 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:36.454 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:36.454 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:36.454 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 200 1122 application/json; charset=utf-8 1671.9563ms
2024-07-09 11:01:38.388 -04:00 [DBG] Connection id "0HN504SVN6V48" received FIN.
2024-07-09 11:01:38.388 -04:00 [DBG] Connection id "0HN504SVN6V49" received FIN.
2024-07-09 11:01:38.389 -04:00 [DBG] Connection id "0HN504SVN6V48" disconnecting.
2024-07-09 11:01:38.389 -04:00 [DBG] Connection id "0HN504SVN6V48" stopped.
2024-07-09 11:01:38.389 -04:00 [DBG] Connection id "0HN504SVN6V49" disconnecting.
2024-07-09 11:01:38.389 -04:00 [DBG] Connection id "0HN504SVN6V49" stopped.
2024-07-09 11:01:38.389 -04:00 [DBG] Connection id "0HN504SVN6V48" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:01:38.390 -04:00 [DBG] Connection id "0HN504SVN6V49" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:01:38.855 -04:00 [DBG] Connection id "0HN504SVN6V4A" accepted.
2024-07-09 11:01:38.856 -04:00 [DBG] Connection id "0HN504SVN6V4A" started.
2024-07-09 11:01:38.857 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - null null
2024-07-09 11:01:38.857 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:38.857 -04:00 [DBG] OPTIONS requests are not supported
2024-07-09 11:01:38.860 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:01:38.860 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-09 11:01:38.861 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:38.861 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:38.861 -04:00 [DBG] The request is a preflight request.
2024-07-09 11:01:38.861 -04:00 [DBG] Connection id "0HN504SVN6V4A" completed keep alive response.
2024-07-09 11:01:38.861 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - 204 null null 4.2462ms
2024-07-09 11:01:38.866 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - null null
2024-07-09 11:01:38.867 -04:00 [DBG] Successfully validated the token.
2024-07-09 11:01:38.868 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-09 11:01:38.868 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:01:38.868 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:01:38.868 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasEstudiante/{codigoEstudiante}/{periodo}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:01:38.868 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:01:38.868 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:38.868 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:38.868 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:01:38.869 -04:00 [INF] Route matched with {action = "GetMateriasEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMateriasEstudiante(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-07-09 11:01:38.869 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:38.869 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:38.869 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:38.869 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:38.869 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:38.869 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:01:38.870 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:01:38.870 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:38.870 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:01:38.870 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:38.870 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:38.870 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:38.870 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:38.870 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:38.870 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:01:38.870 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:38.870 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:38.870 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:38.870 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:38.871 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) - Validation state: "Valid"
2024-07-09 11:01:38.872 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:38.874 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:38.874 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:38.874 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:38.874 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:38.874 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:38.874 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:38.875 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:38.875 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:01:38.934 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:01:38.934 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:38.934 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:38.935 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:38.935 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:38.935 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64.237ms.
2024-07-09 11:01:38.935 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:38.935 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:38.935 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:38.936 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:38.936 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:38.936 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType10`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:38.936 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) in 66.8512ms
2024-07-09 11:01:38.936 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:01:38.937 -04:00 [DBG] Connection id "0HN504SVN6V4A" completed keep alive response.
2024-07-09 11:01:38.937 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:38.937 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:38.937 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:38.937 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - 200 753 application/json; charset=utf-8 71.3795ms
2024-07-09 11:01:40.782 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/MateriaDocenteApi - null null
2024-07-09 11:01:40.782 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:40.782 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:01:40.782 -04:00 [DBG] 1 candidate(s) found for the request path '/api/MateriaDocenteApi'
2024-07-09 11:01:40.782 -04:00 [DBG] Endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)' with route pattern 'api/MateriaDocenteApi' is valid for the request path '/api/MateriaDocenteApi'
2024-07-09 11:01:40.783 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:01:40.783 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:40.783 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:40.783 -04:00 [INF] Executing endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:01:40.784 -04:00 [INF] Route matched with {action = "GetAllDocentesAndMaterias", controller = "MateriaDocente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CRUD.Models.MateriaDocente]] GetAllDocentesAndMaterias() on controller CRUD.Controllers.MateriaDocenteController (CRUD).
2024-07-09 11:01:40.784 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:40.784 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:40.784 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:40.784 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:40.784 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:40.784 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.MateriaDocenteController (CRUD)
2024-07-09 11:01:40.784 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.MateriaDocenteController (CRUD)
2024-07-09 11:01:40.784 -04:00 [INF] Executing action method CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD) - Validation state: "Valid"
2024-07-09 11:01:40.785 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:40.785 -04:00 [DBG] Compiling query expression: 
'DbSet<MateriaDocente>()
    .Include(dm => dm.Docentes)
    .Include(dm => dm.Materias)
    .Include(s => s.Seccions)'
2024-07-09 11:01:40.786 -04:00 [DBG] Including navigation: 'MateriaDocente.Docentes'.
2024-07-09 11:01:40.786 -04:00 [DBG] Including navigation: 'MateriaDocente.Materias'.
2024-07-09 11:01:40.786 -04:00 [DBG] Including navigation: 'MateriaDocente.Seccions'.
2024-07-09 11:01:40.804 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<MateriaDocente>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: MateriaDocente.DocenteId (int?) Required PK FK AfterSave:Throw, 0], [Property: MateriaDocente.CodigoMateria (string) Required PK FK Index AfterSave:Throw, 1], [Property: MateriaDocente.SeccionId (string) FK Index, 2] }
            1 -> Dictionary<IProperty, int> { [Property: Docente.CodigoDocente (int) Required PK AfterSave:Throw, 3], [Property: Docente.ContraseñaDocente (string) Required MaxLength(100), 4], [Property: Docente.CorreoDocente (string) Required MaxLength(100), 5], [Property: Docente.NombreDocente (string) Required MaxLength(100), 6], [Property: Docente.SexoDocente (string) Required MaxLength(1), 7], [Property: Docente.TelefonoDocente (string) Required MaxLength(20), 8] }
            2 -> Dictionary<IProperty, int> { [Property: Materia.CodigoMateria (string) Required PK AfterSave:Throw, 9], [Property: Materia.AreaAcademica (string) Required MaxLength(100), 10], [Property: Materia.AulaCodigoAula (no field, string) Shadow FK Index, 11], [Property: Materia.CreditosMateria (int) Required, 12], [Property: Materia.NombreMateria (string) Required MaxLength(100), 13], [Property: Materia.TipoMateria (string) Required MaxLength(50), 14] }
            3 -> Dictionary<IProperty, int> { [Property: Seccion.CodigoSeccion (string) Required PK AfterSave:Throw, 15], [Property: Seccion.CodigoAula (string) FK Index, 16], [Property: Seccion.CodigoMateria (string) FK Index, 17], [Property: Seccion.Cupo (int) Required, 18], [Property: Seccion.Horario (string) Required MaxLength(256), 19] }
        SELECT m.DocenteId, m.CodigoMateria, m.SeccionId, d.CodigoDocente, d.ContraseñaDocente, d.CorreoDocente, d.NombreDocente, d.SexoDocente, d.TelefonoDocente, m0.CodigoMateria, m0.AreaAcademica, m0.AulaCodigoAula, m0.CreditosMateria, m0.NombreMateria, m0.TipoMateria, s.CodigoSeccion, s.CodigoAula, s.CodigoMateria, s.Cupo, s.Horario
        FROM MateriaDocentes AS m
        INNER JOIN Docentes AS d ON m.DocenteId == d.CodigoDocente
        INNER JOIN Materias AS m0 ON m.CodigoMateria == m0.CodigoMateria
        LEFT JOIN Secciones AS s ON m.SeccionId == s.CodigoSeccion) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        MateriaDocente entity;
        Docente entity;
        Materia entity;
        Seccion entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            MateriaDocente instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(MateriaDocente);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: MateriaDocente.DocenteId, MateriaDocente.CodigoMateria PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.MateriaDocente").FindPrimaryKey()], 
                keyValues: new object[]
                { 
                    (object)dataReader.GetInt32(0), 
                    (object)dataReader.GetString(1) 
                }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (MateriaDocente)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: MateriaDocente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.MateriaDocente")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: MateriaDocente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.MateriaDocente")]: 
                        {
                            return 
                            {
                                MateriaDocente instance;
                                instance = new MateriaDocente();
                                instance.<DocenteId>k__BackingField = (int?)dataReader.GetInt32(0);
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(1);
                                instance.<SeccionId>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: MateriaDocente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.MateriaDocente")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(MateriaDocente)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Docente instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Docente);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Docente.CodigoDocente PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Docente").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(3) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Docente)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")]: 
                        {
                            return 
                            {
                                Docente instance;
                                instance = new Docente();
                                instance.<CodigoDocente>k__BackingField = dataReader.GetInt32(3);
                                instance.<ContraseñaDocente>k__BackingField = dataReader.GetString(4);
                                instance.<CorreoDocente>k__BackingField = dataReader.GetString(5);
                                instance.<NombreDocente>k__BackingField = dataReader.GetString(6);
                                instance.<SexoDocente>k__BackingField = dataReader.GetString(7);
                                instance.<TelefonoDocente>k__BackingField = dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Docente)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Materia instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Materia);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Materia.CodigoMateria PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(9) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Materia)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<string>(dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11));
                            return 
                            {
                                Materia instance;
                                instance = new Materia();
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(9);
                                instance.<AreaAcademica>k__BackingField = dataReader.GetString(10);
                                instance.<CreditosMateria>k__BackingField = dataReader.GetInt32(12);
                                instance.<NombreMateria>k__BackingField = dataReader.GetString(13);
                                instance.<TipoMateria>k__BackingField = dataReader.GetString(14);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Materia)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        entity = 
        {
            MaterializationContext materializationContext4;
            IEntityType entityType4;
            Seccion instance4;
            InternalEntityEntry entry4;
            bool hasNullKey4;
            materializationContext4 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance4 = default(Seccion);
            entry4 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Seccion.CodigoSeccion PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Seccion").FindPrimaryKey()], 
                keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetString(15) }, 
                throwOnNullKey: False, 
                hasNullKey: hasNullKey4);
            !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
            {
                entityType4 = entry4.EntityType;
                return instance4 = (Seccion)entry4.Entity;
            } : 
            {
                ISnapshot shadowSnapshot4;
                shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType4 = [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")];
                instance4 = switch (entityType4)
                {
                    case [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")]: 
                        {
                            return 
                            {
                                Seccion instance;
                                instance = new Seccion();
                                instance.<CodigoSeccion>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                instance.<CodigoAula>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                instance.<CodigoMateria>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<Cupo>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                instance.<Horario>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext4.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Seccion)
                }
                ;
                entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType4, 
                    entity: instance4, 
                    snapshot: shadowSnapshot4);
                return instance4;
            } : default(void);
            return instance4;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<MateriaDocente, MateriaDocente, Docente>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: MateriaDocente.Docentes (Docente) ToPrincipal Docente Inverse: MateriaDocentes | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CRUD.Models.MateriaDocente").FindNavigation("Docentes")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Docente.MateriaDocentes (ICollection<MateriaDocente>) Collection ToDependent MateriaDocente Inverse: Docentes | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CRUD.Models.Docente").FindNavigation("MateriaDocentes")], 
            fixup: (namelessParameter{14}, namelessParameter{15}) => 
            {
                namelessParameter{14}.<Docentes>k__BackingField = namelessParameter{15};
                return [LIFTABLE Constant: ClrICollectionAccessor<Docente, ICollection<MateriaDocente>, MateriaDocente> | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("CRUD.Models.Docente").FindNavigation("MateriaDocentes").GetCollectionAccessor()].Add(
                    entity: namelessParameter{15}, 
                    value: namelessParameter{14}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<MateriaDocente, MateriaDocente, Materia>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: MateriaDocente.Materias (Materia) ToPrincipal Materia Inverse: MateriaDocentes | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("CRUD.Models.MateriaDocente").FindNavigation("Materias")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Materia.MateriaDocentes (ICollection<MateriaDocente>) Collection ToDependent MateriaDocente Inverse: Materias | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindNavigation("MateriaDocentes")], 
            fixup: (namelessParameter{19}, namelessParameter{20}) => 
            {
                namelessParameter{19}.<Materias>k__BackingField = namelessParameter{20};
                return [LIFTABLE Constant: ClrICollectionAccessor<Materia, ICollection<MateriaDocente>, MateriaDocente> | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindNavigation("MateriaDocentes").GetCollectionAccessor()].Add(
                    entity: namelessParameter{20}, 
                    value: namelessParameter{19}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<MateriaDocente, MateriaDocente, Seccion>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: MateriaDocente.Seccions (Seccion) ToPrincipal Seccion Inverse: MateriaDocentes | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("CRUD.Models.MateriaDocente").FindNavigation("Seccions")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Seccion.MateriaDocentes (ICollection<MateriaDocente>) Collection ToDependent MateriaDocente Inverse: Seccions | Resolver: namelessParameter{23} => namelessParameter{23}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion").FindNavigation("MateriaDocentes")], 
            fixup: (namelessParameter{24}, namelessParameter{25}) => 
            {
                namelessParameter{24}.<Seccions>k__BackingField = namelessParameter{25};
                return [LIFTABLE Constant: ClrICollectionAccessor<Seccion, ICollection<MateriaDocente>, MateriaDocente> | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion").FindNavigation("MateriaDocentes").GetCollectionAccessor()].Add(
                    entity: namelessParameter{25}, 
                    value: namelessParameter{24}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 11:01:40.806 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:40.806 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:40.807 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:40.807 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:40.807 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:40.807 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:40.807 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:40.807 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[DocenteId], [m].[CodigoMateria], [m].[SeccionId], [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente], [m0].[CodigoMateria], [m0].[AreaAcademica], [m0].[AulaCodigoAula], [m0].[CreditosMateria], [m0].[NombreMateria], [m0].[TipoMateria], [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [MateriaDocentes] AS [m]
INNER JOIN [Docentes] AS [d] ON [m].[DocenteId] = [d].[CodigoDocente]
INNER JOIN [Materias] AS [m0] ON [m].[CodigoMateria] = [m0].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [m].[SeccionId] = [s].[CodigoSeccion]
2024-07-09 11:01:40.871 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[DocenteId], [m].[CodigoMateria], [m].[SeccionId], [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente], [m0].[CodigoMateria], [m0].[AreaAcademica], [m0].[AulaCodigoAula], [m0].[CreditosMateria], [m0].[NombreMateria], [m0].[TipoMateria], [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [MateriaDocentes] AS [m]
INNER JOIN [Docentes] AS [d] ON [m].[DocenteId] = [d].[CodigoDocente]
INNER JOIN [Materias] AS [m0] ON [m].[CodigoMateria] = [m0].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [m].[SeccionId] = [s].[CodigoSeccion]
2024-07-09 11:01:40.875 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.884 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.885 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.896 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.896 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.902 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.902 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.905 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:40.906 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:40.906 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 34ms reading results.
2024-07-09 11:01:40.906 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:40.906 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:40.906 -04:00 [INF] Executed action method CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 121.8215ms.
2024-07-09 11:01:40.906 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:40.906 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:40.906 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:40.906 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:40.906 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:40.906 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CRUD.Models.MateriaDocente, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:40.910 -04:00 [INF] Executed action CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD) in 125.8317ms
2024-07-09 11:01:40.910 -04:00 [INF] Executed endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:01:40.910 -04:00 [DBG] Connection id "0HN504SVN6V4A" completed keep alive response.
2024-07-09 11:01:40.910 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:40.910 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:40.910 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:40.910 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/MateriaDocenteApi - 200 4852 application/json; charset=utf-8 127.9607ms
2024-07-09 11:01:43.390 -04:00 [DBG] Connection id "0HN504SVN6V4A" received FIN.
2024-07-09 11:01:43.390 -04:00 [DBG] Connection id "0HN504SVN6V4A" disconnecting.
2024-07-09 11:01:43.390 -04:00 [DBG] Connection id "0HN504SVN6V4A" stopped.
2024-07-09 11:01:43.391 -04:00 [DBG] Connection id "0HN504SVN6V4A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:01:44.460 -04:00 [DBG] Connection id "0HN504SVN6V4B" accepted.
2024-07-09 11:01:44.460 -04:00 [DBG] Connection id "0HN504SVN6V4B" started.
2024-07-09 11:01:44.462 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/EstudianteMateriaApi/SelectSeccion?estudianteId=1949999&seccionId=OPQ121-01 - null 0
2024-07-09 11:01:44.462 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:44.462 -04:00 [DBG] POST requests are not supported
2024-07-09 11:01:44.463 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/SelectSeccion'
2024-07-09 11:01:44.463 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)' with route pattern 'api/EstudianteMateriaApi/SelectSeccion' is valid for the request path '/api/EstudianteMateriaApi/SelectSeccion'
2024-07-09 11:01:44.463 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-07-09 11:01:44.463 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:44.463 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:44.463 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-07-09 11:01:44.470 -04:00 [INF] Route matched with {action = "SelectSeccion", controller = "EstudianteMateria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SelectSeccion(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-07-09 11:01:44.470 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:44.470 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:44.470 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:44.470 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:44.470 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:44.470 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:01:44.470 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:01:44.471 -04:00 [DBG] Attempting to bind parameter 'estudianteId' of type 'System.Int32' ...
2024-07-09 11:01:44.471 -04:00 [DBG] Attempting to bind parameter 'estudianteId' of type 'System.Int32' using the name 'estudianteId' in request data ...
2024-07-09 11:01:44.471 -04:00 [DBG] Done attempting to bind parameter 'estudianteId' of type 'System.Int32'.
2024-07-09 11:01:44.471 -04:00 [DBG] Done attempting to bind parameter 'estudianteId' of type 'System.Int32'.
2024-07-09 11:01:44.471 -04:00 [DBG] Attempting to validate the bound parameter 'estudianteId' of type 'System.Int32' ...
2024-07-09 11:01:44.471 -04:00 [DBG] Done attempting to validate the bound parameter 'estudianteId' of type 'System.Int32'.
2024-07-09 11:01:44.471 -04:00 [DBG] Attempting to bind parameter 'seccionId' of type 'System.String' ...
2024-07-09 11:01:44.471 -04:00 [DBG] Attempting to bind parameter 'seccionId' of type 'System.String' using the name 'seccionId' in request data ...
2024-07-09 11:01:44.471 -04:00 [DBG] Done attempting to bind parameter 'seccionId' of type 'System.String'.
2024-07-09 11:01:44.471 -04:00 [DBG] Done attempting to bind parameter 'seccionId' of type 'System.String'.
2024-07-09 11:01:44.471 -04:00 [DBG] Attempting to validate the bound parameter 'seccionId' of type 'System.String' ...
2024-07-09 11:01:44.472 -04:00 [DBG] Done attempting to validate the bound parameter 'seccionId' of type 'System.String'.
2024-07-09 11:01:44.472 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD) - Validation state: "Valid"
2024-07-09 11:01:44.478 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:44.489 -04:00 [DBG] Compiling query expression: 
'DbSet<Estudiante>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-07-09 11:01:44.492 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Estudiante>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Estudiante>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Estudiante.Id (int) Required PK AfterSave:Throw, 0], [Property: Estudiante.Alertas (string) MaxLength(50), 1], [Property: Estudiante.CarreraId (int?) FK Index, 2], [Property: Estudiante.CiudadEstudiante (string) Required MaxLength(100), 3], [Property: Estudiante.CondicionAcademica (string) Required MaxLength(50), 4], [Property: Estudiante.ContraseñaEstudiante (string) Required MaxLength(100), 5], [Property: Estudiante.CorreoEstudiante (string) Required MaxLength(150), 6], [Property: Estudiante.CreditosAprobados (int?), 7], [Property: Estudiante.DireccionEstudiante (string) Required MaxLength(200), 8], [Property: Estudiante.FechaIngreso (DateTime) Required, 9], [Property: Estudiante.IndiceGeneral (decimal?), 10], [Property: Estudiante.IndicePeriodo (decimal?), 11], [Property: Estudiante.Nacionalidad (string) Required MaxLength(50), 12], [Property: Estudiante.NombreEstudiante (string) Required MaxLength(100), 13], [Property: Estudiante.PeriodoActual (string), 14], [Property: Estudiante.PeriodosCursados (int?), 15], [Property: Estudiante.Rol (string) Required MaxLength(50), 16], [Property: Estudiante.SexoEstudiante (string) Required MaxLength(1), 17], [Property: Estudiante.TelefonoEstudiante (string) Required MaxLength(15), 18] }
            SELECT TOP(1) e.Id, e.Alertas, e.CarreraId, e.CiudadEstudiante, e.CondicionAcademica, e.ContraseñaEstudiante, e.CorreoEstudiante, e.CreditosAprobados, e.DireccionEstudiante, e.FechaIngreso, e.IndiceGeneral, e.IndicePeriodo, e.Nacionalidad, e.NombreEstudiante, e.PeriodoActual, e.PeriodosCursados, e.Rol, e.SexoEstudiante, e.TelefonoEstudiante
            FROM Estudiantes AS e
            WHERE e.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Estudiante entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Estudiante instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Estudiante);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Estudiante.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Estudiante").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Estudiante)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Estudiante")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Estudiante")]: 
                            {
                                return 
                                {
                                    Estudiante instance;
                                    instance = new Estudiante();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Alertas>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CarreraId>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                    instance.<CiudadEstudiante>k__BackingField = dataReader.GetString(3);
                                    instance.<CondicionAcademica>k__BackingField = dataReader.GetString(4);
                                    instance.<ContraseñaEstudiante>k__BackingField = dataReader.GetString(5);
                                    instance.<CorreoEstudiante>k__BackingField = dataReader.GetString(6);
                                    instance.<CreditosAprobados>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                    instance.<DireccionEstudiante>k__BackingField = dataReader.GetString(8);
                                    instance.<FechaIngreso>k__BackingField = dataReader.GetDateTime(9);
                                    instance.<IndiceGeneral>k__BackingField = dataReader.IsDBNull(10) ? default(decimal?) : (decimal?)dataReader.GetDecimal(10);
                                    instance.<IndicePeriodo>k__BackingField = dataReader.IsDBNull(11) ? default(decimal?) : (decimal?)dataReader.GetDecimal(11);
                                    instance.<Nacionalidad>k__BackingField = dataReader.GetString(12);
                                    instance.<NombreEstudiante>k__BackingField = dataReader.GetString(13);
                                    instance.<PeriodoActual>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<PeriodosCursados>k__BackingField = dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15);
                                    instance.<Rol>k__BackingField = dataReader.GetString(16);
                                    instance.<SexoEstudiante>k__BackingField = dataReader.GetString(17);
                                    instance.<TelefonoEstudiante>k__BackingField = dataReader.GetString(18);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Estudiante")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Estudiante)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-09 11:01:44.494 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:44.494 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:44.494 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.494 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.494 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:44.494 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.494 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.494 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__p_0
2024-07-09 11:01:44.556 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__p_0
2024-07-09 11:01:44.557 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.559 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.559 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 2ms reading results.
2024-07-09 11:01:44.559 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.559 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:44.562 -04:00 [DBG] Compiling query expression: 
'DbSet<Seccion>()
    .FirstOrDefault(e => EF.Property<string>(e, "CodigoSeccion") == __p_0)'
2024-07-09 11:01:44.567 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Seccion>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Seccion>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Seccion.CodigoSeccion (string) Required PK AfterSave:Throw, 0], [Property: Seccion.CodigoAula (string) FK Index, 1], [Property: Seccion.CodigoMateria (string) FK Index, 2], [Property: Seccion.Cupo (int) Required, 3], [Property: Seccion.Horario (string) Required MaxLength(256), 4] }
            SELECT TOP(1) s.CodigoSeccion, s.CodigoAula, s.CodigoMateria, s.Cupo, s.Horario
            FROM Secciones AS s
            WHERE s.CodigoSeccion == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Seccion entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Seccion instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Seccion);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Seccion.CodigoSeccion PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Seccion").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Seccion)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")]: 
                            {
                                return 
                                {
                                    Seccion instance;
                                    instance = new Seccion();
                                    instance.<CodigoSeccion>k__BackingField = dataReader.GetString(0);
                                    instance.<CodigoAula>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CodigoMateria>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Cupo>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Horario>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Seccion)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-09 11:01:44.570 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.570 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.571 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:44.571 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.571 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.571 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [Secciones] AS [s]
WHERE [s].[CodigoSeccion] = @__p_0
2024-07-09 11:01:44.631 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [Secciones] AS [s]
WHERE [s].[CodigoSeccion] = @__p_0
2024-07-09 11:01:44.632 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.632 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.632 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:44.632 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.633 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:44.635 -04:00 [DBG] Compiling query expression: 
'DbSet<Materia>()
    .FirstOrDefault(e => EF.Property<string>(e, "CodigoMateria") == __p_0)'
2024-07-09 11:01:44.642 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Materia>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Materia>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Materia.CodigoMateria (string) Required PK AfterSave:Throw, 0], [Property: Materia.AreaAcademica (string) Required MaxLength(100), 1], [Property: Materia.AulaCodigoAula (no field, string) Shadow FK Index, 2], [Property: Materia.CreditosMateria (int) Required, 3], [Property: Materia.NombreMateria (string) Required MaxLength(100), 4], [Property: Materia.TipoMateria (string) Required MaxLength(50), 5] }
            SELECT TOP(1) m.CodigoMateria, m.AreaAcademica, m.AulaCodigoAula, m.CreditosMateria, m.NombreMateria, m.TipoMateria
            FROM Materias AS m
            WHERE m.CodigoMateria == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Materia entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Materia instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Materia);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Materia.CodigoMateria PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Materia)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2));
                                return 
                                {
                                    Materia instance;
                                    instance = new Materia();
                                    instance.<CodigoMateria>k__BackingField = dataReader.GetString(0);
                                    instance.<AreaAcademica>k__BackingField = dataReader.GetString(1);
                                    instance.<CreditosMateria>k__BackingField = dataReader.GetInt32(3);
                                    instance.<NombreMateria>k__BackingField = dataReader.GetString(4);
                                    instance.<TipoMateria>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Materia)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-09 11:01:44.646 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.646 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.646 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:44.646 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.646 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.646 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [Materias] AS [m]
WHERE [m].[CodigoMateria] = @__p_0
2024-07-09 11:01:44.707 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [Materias] AS [m]
WHERE [m].[CodigoMateria] = @__p_0
2024-07-09 11:01:44.709 -04:00 [DBG] The navigation 'Seccion.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.710 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.710 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.710 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 2ms reading results.
2024-07-09 11:01:44.711 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.711 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:44.712 -04:00 [DBG] Compiling query expression: 
'DbSet<EstudianteMateria>()
    .FirstOrDefault(em => em.CodigoMateria == __seccion_CodigoMateria_0 && em.CodigoEstudiante == __8__locals1_estudianteId_1 && em.PeriodoCursado == __estudiante_PeriodoActual_2)'
2024-07-09 11:01:44.719 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<EstudianteMateria>(
    asyncEnumerable: SingleQueryingEnumerable.Create<EstudianteMateria>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: EstudianteMateria.CodigoMateria (string) Required PK FK AfterSave:Throw, 0], [Property: EstudianteMateria.CodigoEstudiante (int) Required PK FK Index AfterSave:Throw, 1], [Property: EstudianteMateria.CalificacionFinal (string) Required MaxLength(2), 2], [Property: EstudianteMateria.CalificacionMedioTermino (string) Required, 3], [Property: EstudianteMateria.PeriodoCursado (string) Required MaxLength(50), 4], [Property: EstudianteMateria.SeccionId (string) FK Index, 5] }
            SELECT TOP(1) e.CodigoMateria, e.CodigoEstudiante, e.CalificacionFinal, e.CalificacionMedioTermino, e.PeriodoCursado, e.SeccionId
            FROM EstudianteMaterias AS e
            WHERE ((e.CodigoMateria == @__seccion_CodigoMateria_0) && (e.CodigoEstudiante == @__8__locals1_estudianteId_1)) && (e.PeriodoCursado == @__estudiante_PeriodoActual_2)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            EstudianteMateria entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                EstudianteMateria instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(EstudianteMateria);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EstudianteMateria.CodigoMateria, EstudianteMateria.CodigoEstudiante PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindPrimaryKey()], 
                    keyValues: new object[]
                    { 
                        (object)dataReader.GetString(0), 
                        (object)dataReader.GetInt32(1) 
                    }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (EstudianteMateria)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")]: 
                            {
                                return 
                                {
                                    EstudianteMateria instance;
                                    instance = new EstudianteMateria();
                                    instance.<CodigoMateria>k__BackingField = dataReader.GetString(0);
                                    instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                    instance.<CalificacionFinal>k__BackingField = dataReader.GetString(2);
                                    instance.<CalificacionMedioTermino>k__BackingField = dataReader.GetString(3);
                                    instance.<PeriodoCursado>k__BackingField = dataReader.GetString(4);
                                    instance.<SeccionId>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(EstudianteMateria)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-09 11:01:44.722 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.722 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.722 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:44.722 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.722 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.722 -04:00 [DBG] Executing DbCommand [Parameters=[@__seccion_CodigoMateria_0='?' (Size = 450), @__8__locals1_estudianteId_1='?' (DbType = Int32), @__estudiante_PeriodoActual_2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId]
FROM [EstudianteMaterias] AS [e]
WHERE [e].[CodigoMateria] = @__seccion_CodigoMateria_0 AND [e].[CodigoEstudiante] = @__8__locals1_estudianteId_1 AND [e].[PeriodoCursado] = @__estudiante_PeriodoActual_2
2024-07-09 11:01:44.782 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__seccion_CodigoMateria_0='?' (Size = 450), @__8__locals1_estudianteId_1='?' (DbType = Int32), @__estudiante_PeriodoActual_2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId]
FROM [EstudianteMaterias] AS [e]
WHERE [e].[CodigoMateria] = @__seccion_CodigoMateria_0 AND [e].[CodigoEstudiante] = @__8__locals1_estudianteId_1 AND [e].[PeriodoCursado] = @__estudiante_PeriodoActual_2
2024-07-09 11:01:44.782 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.782 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:44.782 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.782 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:44.803 -04:00 [DBG] The navigation 'EstudianteMateria.Estudiantes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.805 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.806 -04:00 [DBG] The navigation 'EstudianteMateria.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.808 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.814 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'CuentaPorPagar.IdCuentaPorPagar'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.823 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.824 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:44.825 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:01:44.827 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:01:44.847 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:01:44.900 -04:00 [DBG] Executing 2 update commands as a batch.
2024-07-09 11:01:44.904 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.904 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:44.905 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-09 11:01:44.968 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-09 11:01:44.971 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:44.971 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:44.972 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-09 11:01:44.972 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EstudianteMaterias] ([CodigoEstudiante], [CodigoMateria], [CalificacionFinal], [CalificacionMedioTermino], [PeriodoCursado], [SeccionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INSERT INTO [CuentaPorPagars] ([CodigoEstudiante], [CodigoMateria], [Estado], [MontoTotalaPagar])
OUTPUT INSERTED.[IdCuentaPorPagar]
VALUES (@p6, @p7, @p8, @p9);
2024-07-09 11:01:45.043 -04:00 [INF] Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EstudianteMaterias] ([CodigoEstudiante], [CodigoMateria], [CalificacionFinal], [CalificacionMedioTermino], [PeriodoCursado], [SeccionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INSERT INTO [CuentaPorPagars] ([CodigoEstudiante], [CodigoMateria], [Estado], [MontoTotalaPagar])
OUTPUT INSERTED.[IdCuentaPorPagar]
VALUES (@p6, @p7, @p8, @p9);
2024-07-09 11:01:45.053 -04:00 [DBG] The foreign key property 'CuentaPorPagar.IdCuentaPorPagar' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:01:45.058 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:45.058 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 14ms reading results.
2024-07-09 11:01:45.061 -04:00 [DBG] Committing transaction.
2024-07-09 11:01:45.126 -04:00 [DBG] Committed transaction.
2024-07-09 11:01:45.128 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:45.128 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:45.130 -04:00 [DBG] Disposing transaction.
2024-07-09 11:01:45.139 -04:00 [DBG] An entity of type 'EstudianteMateria' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.141 -04:00 [DBG] An entity of type 'CuentaPorPagar' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.143 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 2 entities written to the database.
2024-07-09 11:01:45.143 -04:00 [INF] El estudiante con ID 1949999 se ha inscrito en la sección OPQ121-01 y se ha creado una cuenta por pagar
2024-07-09 11:01:45.143 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 671.4816ms.
2024-07-09 11:01:45.144 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:45.144 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:45.144 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:45.144 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:45.144 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:45.144 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`2[[CRUD.Models.EstudianteMateria, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CRUD.Models.CuentaPorPagar, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:45.153 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD) in 683.3681ms
2024-07-09 11:01:45.154 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-07-09 11:01:45.154 -04:00 [DBG] Connection id "0HN504SVN6V4B" completed keep alive response.
2024-07-09 11:01:45.154 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:45.154 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:45.154 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:45.154 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/EstudianteMateriaApi/SelectSeccion?estudianteId=1949999&seccionId=OPQ121-01 - 200 2792 application/json; charset=utf-8 692.3128ms
2024-07-09 11:01:45.158 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/MateriaDocenteApi - null null
2024-07-09 11:01:45.158 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:45.158 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:01:45.158 -04:00 [DBG] 1 candidate(s) found for the request path '/api/MateriaDocenteApi'
2024-07-09 11:01:45.158 -04:00 [DBG] Endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)' with route pattern 'api/MateriaDocenteApi' is valid for the request path '/api/MateriaDocenteApi'
2024-07-09 11:01:45.158 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:01:45.158 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:45.158 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:45.159 -04:00 [INF] Executing endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:01:45.159 -04:00 [INF] Route matched with {action = "GetAllDocentesAndMaterias", controller = "MateriaDocente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CRUD.Models.MateriaDocente]] GetAllDocentesAndMaterias() on controller CRUD.Controllers.MateriaDocenteController (CRUD).
2024-07-09 11:01:45.159 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:45.159 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:45.159 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:45.159 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:45.159 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:45.159 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.MateriaDocenteController (CRUD)
2024-07-09 11:01:45.159 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.MateriaDocenteController (CRUD)
2024-07-09 11:01:45.159 -04:00 [INF] Executing action method CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD) - Validation state: "Valid"
2024-07-09 11:01:45.159 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:45.159 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:45.159 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:45.159 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:45.159 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:45.160 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:45.160 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:45.160 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:45.160 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[DocenteId], [m].[CodigoMateria], [m].[SeccionId], [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente], [m0].[CodigoMateria], [m0].[AreaAcademica], [m0].[AulaCodigoAula], [m0].[CreditosMateria], [m0].[NombreMateria], [m0].[TipoMateria], [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [MateriaDocentes] AS [m]
INNER JOIN [Docentes] AS [d] ON [m].[DocenteId] = [d].[CodigoDocente]
INNER JOIN [Materias] AS [m0] ON [m].[CodigoMateria] = [m0].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [m].[SeccionId] = [s].[CodigoSeccion]
2024-07-09 11:01:45.220 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[DocenteId], [m].[CodigoMateria], [m].[SeccionId], [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente], [m0].[CodigoMateria], [m0].[AreaAcademica], [m0].[AulaCodigoAula], [m0].[CreditosMateria], [m0].[NombreMateria], [m0].[TipoMateria], [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [MateriaDocentes] AS [m]
INNER JOIN [Docentes] AS [d] ON [m].[DocenteId] = [d].[CodigoDocente]
INNER JOIN [Materias] AS [m0] ON [m].[CodigoMateria] = [m0].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [m].[SeccionId] = [s].[CodigoSeccion]
2024-07-09 11:01:45.220 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.220 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:45.221 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:45.221 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 11:01:45.221 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:45.221 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:45.222 -04:00 [INF] Executed action method CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.6877ms.
2024-07-09 11:01:45.222 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:45.222 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:45.222 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:45.222 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:45.222 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:45.222 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CRUD.Models.MateriaDocente, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:45.222 -04:00 [INF] Executed action CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD) in 63.511ms
2024-07-09 11:01:45.222 -04:00 [INF] Executed endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:01:45.222 -04:00 [DBG] Connection id "0HN504SVN6V4B" completed keep alive response.
2024-07-09 11:01:45.222 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:45.222 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:45.222 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:45.222 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/MateriaDocenteApi - 200 4852 application/json; charset=utf-8 64.1502ms
2024-07-09 11:01:48.389 -04:00 [DBG] Connection id "0HN504SVN6V4B" received FIN.
2024-07-09 11:01:48.390 -04:00 [DBG] Connection id "0HN504SVN6V4B" disconnecting.
2024-07-09 11:01:48.390 -04:00 [DBG] Connection id "0HN504SVN6V4B" stopped.
2024-07-09 11:01:48.390 -04:00 [DBG] Connection id "0HN504SVN6V4B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:01:48.819 -04:00 [DBG] Connection id "0HN504SVN6V4C" accepted.
2024-07-09 11:01:48.820 -04:00 [DBG] Connection id "0HN504SVN6V4D" accepted.
2024-07-09 11:01:48.820 -04:00 [DBG] Connection id "0HN504SVN6V4C" started.
2024-07-09 11:01:48.820 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:01:48.820 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:48.821 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:01:48.821 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:01:48.821 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:01:48.821 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:01:48.821 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:48.821 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:48.821 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:01:48.821 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:01:48.821 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:48.821 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:48.821 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:48.821 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:48.821 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:48.821 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:01:48.824 -04:00 [DBG] Connection id "0HN504SVN6V4D" started.
2024-07-09 11:01:48.825 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:01:48.825 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:01:48.825 -04:00 [DBG] OPTIONS requests are not supported
2024-07-09 11:01:48.825 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:01:48.825 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-09 11:01:48.825 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:48.825 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:48.825 -04:00 [DBG] The request is a preflight request.
2024-07-09 11:01:48.825 -04:00 [DBG] Connection id "0HN504SVN6V4D" completed keep alive response.
2024-07-09 11:01:48.825 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 204 null null 0.646ms
2024-07-09 11:01:48.826 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:01:48.826 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:48.826 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:01:48.826 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:48.826 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:48.827 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:48.827 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:48.827 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:48.827 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:01:48.827 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:48.827 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:48.827 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:48.827 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:48.827 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:01:48.828 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:48.831 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:48.831 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:48.831 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:01:48.831 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.831 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.831 -04:00 [DBG] Successfully validated the token.
2024-07-09 11:01:48.831 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-09 11:01:48.831 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:48.831 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:01:48.831 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:48.831 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:48.831 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:01:48.832 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:01:48.832 -04:00 [DBG] Endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)' with route pattern 'api/CuentaPorPagar/cuentaporpagar' is valid for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:01:48.832 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:01:48.832 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:01:48.832 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:01:48.832 -04:00 [INF] Executing endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:01:48.832 -04:00 [INF] Route matched with {action = "GetCuentaPorPagar", controller = "CuentaPorPagar"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCuentaPorPagar(System.String, Int32) on controller CRUD.Controllers.CuentaPorPagarController (CRUD).
2024-07-09 11:01:48.832 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:01:48.832 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:01:48.832 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:01:48.832 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:01:48.832 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:01:48.832 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:01:48.832 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:01:48.832 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:48.832 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:01:48.832 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:48.832 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:48.832 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:01:48.832 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:01:48.832 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:48.832 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:01:48.832 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:48.832 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:48.832 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:01:48.832 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:01:48.832 -04:00 [INF] Executing action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) - Validation state: "Valid"
2024-07-09 11:01:48.833 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:01:48.840 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:01:48.840 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:01:48.840 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.840 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.840 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:48.840 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:48.840 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:48.840 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:01:48.896 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:01:48.897 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:01:48.897 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.897 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 11:01:48.898 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.899 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:48.909 -04:00 [INF] Executed DbCommand (69ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:01:48.909 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.909 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:48.909 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.909 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:48.909 -04:00 [INF] Executed action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 76.7617ms.
2024-07-09 11:01:48.909 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 81.9499ms.
2024-07-09 11:01:48.909 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:48.909 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:01:48.909 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:48.909 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:48.909 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:01:48.909 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:48.909 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:01:48.909 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:01:48.909 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:48.909 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:01:48.909 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:48.909 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:01:48.909 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:01:48.910 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.910 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.910 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:01:48.910 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:48.910 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:01:48.910 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:01:48.911 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 89.7188ms
2024-07-09 11:01:48.911 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:01:48.911 -04:00 [DBG] Connection id "0HN504SVN6V4C" completed keep alive response.
2024-07-09 11:01:48.911 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:48.911 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.911 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:48.911 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 90.9397ms
2024-07-09 11:01:48.970 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:01:48.973 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.973 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:01:48.973 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.974 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:01:48.975 -04:00 [INF] Executed action CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) in 142.7555ms
2024-07-09 11:01:48.975 -04:00 [INF] Executed endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:01:48.975 -04:00 [DBG] Connection id "0HN504SVN6V4D" completed keep alive response.
2024-07-09 11:01:48.975 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:01:48.975 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:01:48.975 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:01:48.976 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 200 1529 application/json; charset=utf-8 144.6361ms
2024-07-09 11:01:53.389 -04:00 [DBG] Connection id "0HN504SVN6V4C" received FIN.
2024-07-09 11:01:53.389 -04:00 [DBG] Connection id "0HN504SVN6V4D" received FIN.
2024-07-09 11:01:53.390 -04:00 [DBG] Connection id "0HN504SVN6V4C" disconnecting.
2024-07-09 11:01:53.390 -04:00 [DBG] Connection id "0HN504SVN6V4C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:01:53.390 -04:00 [DBG] Connection id "0HN504SVN6V4D" disconnecting.
2024-07-09 11:01:53.391 -04:00 [DBG] Connection id "0HN504SVN6V4D" stopped.
2024-07-09 11:01:53.391 -04:00 [DBG] Connection id "0HN504SVN6V4D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:01:53.391 -04:00 [DBG] Connection id "0HN504SVN6V4C" stopped.
2024-07-09 11:02:19.505 -04:00 [DBG] Connection id "0HN504SVN6V4E" accepted.
2024-07-09 11:02:19.505 -04:00 [DBG] Connection id "0HN504SVN6V4E" started.
2024-07-09 11:02:19.507 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:02:19.508 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:02:19.508 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:02:19.508 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:02:19.508 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:02:19.508 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:02:19.508 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:02:19.509 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:02:19.509 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:02:19.509 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:02:19.509 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:02:19.509 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:02:19.509 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:02:19.509 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:02:19.510 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:02:19.510 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:02:19.510 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:02:19.510 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:02:19.510 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:02:19.510 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:02:19.511 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:02:19.511 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:02:19.511 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:02:19.511 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:02:19.511 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:02:19.511 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:02:19.511 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:02:19.511 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:02:19.513 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:02:19.514 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:02:19.514 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:02:19.514 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:19.514 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:19.514 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:02:19.514 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:02:19.514 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:02:19.515 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:02:19.579 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:02:19.581 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:19.582 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:19.582 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 2ms reading results.
2024-07-09 11:02:19.582 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:19.582 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:02:19.583 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.5356ms.
2024-07-09 11:02:19.583 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:02:19.583 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:02:19.583 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:02:19.583 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:02:19.583 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:02:19.583 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:02:19.585 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 75.5168ms
2024-07-09 11:02:19.585 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:02:19.585 -04:00 [DBG] Connection id "0HN504SVN6V4E" completed keep alive response.
2024-07-09 11:02:19.585 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:02:19.585 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:19.585 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:02:19.586 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 78.7107ms
2024-07-09 11:02:25.236 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:02:25.236 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:02:25.236 -04:00 [DBG] POST requests are not supported
2024-07-09 11:02:25.236 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:02:25.236 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:02:25.236 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:02:25.236 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:02:25.239 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:02:25.239 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:02:25.239 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:02:25.239 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:02:25.239 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:02:25.239 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:02:25.239 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:02:25.239 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:02:25.240 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:02:25.240 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:02:25.240 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:02:25.240 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:02:25.241 -04:00 [DBG] Connection id "0HN504SVN6V4E", Request id "0HN504SVN6V4E:00000002": started reading request body.
2024-07-09 11:02:25.244 -04:00 [DBG] Connection id "0HN504SVN6V4E", Request id "0HN504SVN6V4E:00000002": done reading request body.
2024-07-09 11:02:25.245 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:02:25.245 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:02:25.245 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:02:25.246 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:02:25.246 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:02:25.248 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:02:25.248 -04:00 [DBG] Compiling query expression: 
'DbSet<CuentaPorPagar>()
    .Include(cp => cp.EstudianteMateria)
    .ThenInclude(em => em.Materias)
    .Where(c => c.EstudianteMateria.PeriodoCursado == __request_Periodo_0 && c.CodigoEstudiante == __request_CodigoEstudiante_1 && c.MontoTotalaPagar > (decimal?)0)'
2024-07-09 11:02:25.249 -04:00 [DBG] Including navigation: 'CuentaPorPagar.EstudianteMateria'.
2024-07-09 11:02:25.249 -04:00 [DBG] Including navigation: 'EstudianteMateria.Materias'.
2024-07-09 11:02:25.252 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CuentaPorPagar>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CuentaPorPagar.IdCuentaPorPagar (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CuentaPorPagar.CodigoEstudiante (int) Required FK Index, 1], [Property: CuentaPorPagar.CodigoMateria (string) Required FK Index, 2], [Property: CuentaPorPagar.Estado (string) Required, 3], [Property: CuentaPorPagar.MontoTotalaPagar (decimal?), 4] }
            1 -> Dictionary<IProperty, int> { [Property: EstudianteMateria.CodigoMateria (string) Required PK FK AfterSave:Throw, 5], [Property: EstudianteMateria.CodigoEstudiante (int) Required PK FK Index AfterSave:Throw, 6], [Property: EstudianteMateria.CalificacionFinal (string) Required MaxLength(2), 7], [Property: EstudianteMateria.CalificacionMedioTermino (string) Required, 8], [Property: EstudianteMateria.PeriodoCursado (string) Required MaxLength(50), 9], [Property: EstudianteMateria.SeccionId (string) FK Index, 10] }
            2 -> Dictionary<IProperty, int> { [Property: Materia.CodigoMateria (string) Required PK AfterSave:Throw, 11], [Property: Materia.AreaAcademica (string) Required MaxLength(100), 12], [Property: Materia.AulaCodigoAula (no field, string) Shadow FK Index, 13], [Property: Materia.CreditosMateria (int) Required, 14], [Property: Materia.NombreMateria (string) Required MaxLength(100), 15], [Property: Materia.TipoMateria (string) Required MaxLength(50), 16] }
        SELECT c.IdCuentaPorPagar, c.CodigoEstudiante, c.CodigoMateria, c.Estado, c.MontoTotalaPagar, e.CodigoMateria, e.CodigoEstudiante, e.CalificacionFinal, e.CalificacionMedioTermino, e.PeriodoCursado, e.SeccionId, m.CodigoMateria, m.AreaAcademica, m.AulaCodigoAula, m.CreditosMateria, m.NombreMateria, m.TipoMateria
        FROM CuentaPorPagars AS c
        INNER JOIN EstudianteMaterias AS e ON (c.CodigoMateria == e.CodigoMateria) && (c.CodigoEstudiante == e.CodigoEstudiante)
        INNER JOIN Materias AS m ON e.CodigoMateria == m.CodigoMateria
        WHERE ((e.PeriodoCursado == @__request_Periodo_0) && (c.CodigoEstudiante == @__request_CodigoEstudiante_1)) && (c.MontoTotalaPagar > 0.0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CuentaPorPagar entity;
        EstudianteMateria entity;
        Materia entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CuentaPorPagar instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CuentaPorPagar);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CuentaPorPagar.IdCuentaPorPagar PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CuentaPorPagar)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]: 
                        {
                            return 
                            {
                                CuentaPorPagar instance;
                                instance = new CuentaPorPagar();
                                instance.<IdCuentaPorPagar>k__BackingField = dataReader.GetInt32(0);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(2);
                                instance.<Estado>k__BackingField = dataReader.GetString(3);
                                instance.<MontoTotalaPagar>k__BackingField = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CuentaPorPagar)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            EstudianteMateria instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(EstudianteMateria);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: EstudianteMateria.CodigoMateria, EstudianteMateria.CodigoEstudiante PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindPrimaryKey()], 
                keyValues: new object[]
                { 
                    (object)dataReader.GetString(5), 
                    (object)dataReader.GetInt32(6) 
                }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (EstudianteMateria)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")]: 
                        {
                            return 
                            {
                                EstudianteMateria instance;
                                instance = new EstudianteMateria();
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(5);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(6);
                                instance.<CalificacionFinal>k__BackingField = dataReader.GetString(7);
                                instance.<CalificacionMedioTermino>k__BackingField = dataReader.GetString(8);
                                instance.<PeriodoCursado>k__BackingField = dataReader.GetString(9);
                                instance.<SeccionId>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(EstudianteMateria)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Materia instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Materia);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Materia.CodigoMateria PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(11) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Materia)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<string>(dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13));
                            return 
                            {
                                Materia instance;
                                instance = new Materia();
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(11);
                                instance.<AreaAcademica>k__BackingField = dataReader.GetString(12);
                                instance.<CreditosMateria>k__BackingField = dataReader.GetInt32(14);
                                instance.<NombreMateria>k__BackingField = dataReader.GetString(15);
                                instance.<TipoMateria>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Materia)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<EstudianteMateria, EstudianteMateria, Materia>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: EstudianteMateria.Materias (Materia) ToPrincipal Materia Inverse: EstudianteMaterias | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindNavigation("Materias")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Materia.EstudianteMaterias (ICollection<EstudianteMateria>) Collection ToDependent EstudianteMateria Inverse: Materias | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindNavigation("EstudianteMaterias")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Materias>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Materia, ICollection<EstudianteMateria>, EstudianteMateria> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindNavigation("EstudianteMaterias").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CuentaPorPagar, CuentaPorPagar, EstudianteMateria>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CuentaPorPagar.EstudianteMateria (EstudianteMateria) ToPrincipal EstudianteMateria Inverse: CuentaPorPagars | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar").FindNavigation("EstudianteMateria")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: EstudianteMateria.CuentaPorPagars (ICollection<CuentaPorPagar>) Collection ToDependent CuentaPorPagar Inverse: EstudianteMateria | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindNavigation("CuentaPorPagars")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<EstudianteMateria>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<EstudianteMateria, ICollection<CuentaPorPagar>, CuentaPorPagar> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindNavigation("CuentaPorPagars").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 11:02:25.255 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:02:25.255 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:02:25.255 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.255 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.255 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:02:25.255 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:02:25.255 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:02:25.255 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:02:25.317 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:02:25.317 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:25.318 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:25.318 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:25.319 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:25.319 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:25.319 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.319 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 2ms reading results.
2024-07-09 11:02:25.319 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.319 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:02:25.322 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:25.338 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:25.338 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:02:25.338 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:02:25.344 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:02:25.346 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.346 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.346 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:02:25.346 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:02:25.346 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:02:25.346 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:02:25.425 -04:00 [INF] Executed DbCommand (79ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:02:25.426 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:02:25.427 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.427 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 11:02:25.427 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.427 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:02:25.428 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:02:25.428 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:02:25.428 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:02:25.428 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.8861ms.
2024-07-09 11:02:25.428 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:02:25.428 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:02:25.428 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:02:25.428 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:02:25.428 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:02:25.428 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:02:25.430 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 190.4763ms
2024-07-09 11:02:25.430 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:02:25.430 -04:00 [DBG] Connection id "0HN504SVN6V4E" completed keep alive response.
2024-07-09 11:02:25.430 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:02:25.430 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:02:25.430 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:02:25.430 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 193.8734ms
2024-07-09 11:02:27.349 -04:00 [DBG] Connection id "0HN504SVN6V4E" received FIN.
2024-07-09 11:02:27.350 -04:00 [DBG] Connection id "0HN504SVN6V4E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:02:27.350 -04:00 [DBG] Connection id "0HN504SVN6V4E" disconnecting.
2024-07-09 11:02:27.350 -04:00 [DBG] Connection id "0HN504SVN6V4E" stopped.
2024-07-09 11:11:38.478 -04:00 [DBG] Connection id "0HN504SVN6V4F" accepted.
2024-07-09 11:11:38.479 -04:00 [DBG] Connection id "0HN504SVN6V4F" started.
2024-07-09 11:11:38.482 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=using%20System;&periodo=using%20System.Net.Http;-using%20System.Net.Http.Json; - null null
2024-07-09 11:11:38.482 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.482 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.482 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.482 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.482 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.483 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.485 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.485 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.485 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.485 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.485 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.485 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.485 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.486 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.486 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.486 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.487 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.487 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.487 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.487 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.487 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.487 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.487 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.487 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.487 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.487 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.487 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.488 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.488 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.488 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.488 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.488 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.488 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.498 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 13.0498ms
2024-07-09 11:11:38.498 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.498 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.498 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=using%20System;&periodo=using%20System.Net.Http;-using%20System.Net.Http.Json; - 400 266 application/problem+json; charset=utf-8 16.7102ms
2024-07-09 11:11:38.503 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=sing%20System.Threading.Tasks;&periodo=using%20Stripe;-using%20Newtonsoft.Json; - null null
2024-07-09 11:11:38.503 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.503 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.504 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.504 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.504 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.504 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.505 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.505 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.505 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.505 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.505 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.505 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.505 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.505 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.505 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.505 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.505 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.505 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.505 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.505 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.505 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.505 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.505 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.505 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.505 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.505 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.505 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.505 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.505 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.505 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.505 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.505 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.505 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.505 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.7154ms
2024-07-09 11:11:38.505 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.505 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.505 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=sing%20System.Threading.Tasks;&periodo=using%20Stripe;-using%20Newtonsoft.Json; - 400 281 application/problem+json; charset=utf-8 2.7034ms
2024-07-09 11:11:38.506 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=class%20Program&periodo=%7B-%20%20%20%20private%20static%20readonly%20HttpClient%20client%20=%20new%20HttpClient(); - null null
2024-07-09 11:11:38.506 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.506 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.506 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.506 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.506 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.506 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.506 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.506 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.506 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.506 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.506 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.506 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.506 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.506 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.506 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.506 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.506 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.506 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.506 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.506 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.506 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.507 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.507 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.507 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.507 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.507 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.507 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.507 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.507 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.507 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.507 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.507 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.507 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.507 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5257ms
2024-07-09 11:11:38.507 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.507 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.507 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=class%20Program&periodo=%7B-%20%20%20%20private%20static%20readonly%20HttpClient%20client%20=%20new%20HttpClient(); - 400 266 application/problem+json; charset=utf-8 0.788ms
2024-07-09 11:11:38.507 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20private%20const%20string%20ApiBaseUrl%20=%20%22http://localhost:5104/api%22;&periodo=%20%20%20%20private%20const%20string%20StripeSecretKey%20=%20%22sk_test_51OnXQeIOscMFPORGH3uoKfKzjKG6cBEe48i8RgaVitzCtI3ntKa34iZt60U6lGg8qR1Nia2JG4slFSQZxxqzeAHz00CD3EYZtI%22;- - null null
2024-07-09 11:11:38.507 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.507 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.507 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.508 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.508 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.508 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.508 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.508 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.508 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.508 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.508 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.508 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.508 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.508 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.508 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.508 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.508 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.508 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.508 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.508 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.508 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.508 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.508 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.508 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.508 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.508 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.508 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.508 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.508 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.508 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.508 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.508 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.508 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.508 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5121ms
2024-07-09 11:11:38.508 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.508 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.508 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20private%20const%20string%20ApiBaseUrl%20=%20%22http://localhost:5104/api%22;&periodo=%20%20%20%20private%20const%20string%20StripeSecretKey%20=%20%22sk_test_51OnXQeIOscMFPORGH3uoKfKzjKG6cBEe48i8RgaVitzCtI3ntKa34iZt60U6lGg8qR1Nia2JG4slFSQZxxqzeAHz00CD3EYZtI%22;- - 400 320 application/problem+json; charset=utf-8 0.8915ms
2024-07-09 11:11:38.509 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20static%20async%20Task%20Main(string[]%20args)&periodo=%20%20%20%20%7B-%20%20%20%20%20%20%20%20StripeConfiguration.ApiKey%20=%20StripeSecretKey; - null null
2024-07-09 11:11:38.509 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.509 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.509 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.509 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.509 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.509 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.509 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.509 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.509 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.509 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.509 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.509 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.509 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.509 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.509 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.509 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.509 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.509 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.509 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.509 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.509 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.509 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.509 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.509 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.509 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.509 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.509 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.509 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.509 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.509 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.509 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.509 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.509 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.510 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.6852ms
2024-07-09 11:11:38.510 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.510 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.510 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20static%20async%20Task%20Main(string[]%20args)&periodo=%20%20%20%20%7B-%20%20%20%20%20%20%20%20StripeConfiguration.ApiKey%20=%20StripeSecretKey; - 400 293 application/problem+json; charset=utf-8 0.9967ms
2024-07-09 11:11:38.510 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20while%20(true)&periodo=%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20Console.Clear(); - null null
2024-07-09 11:11:38.510 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.510 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.510 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.510 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.510 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.510 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.510 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.510 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.510 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.510 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.510 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.510 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.510 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.510 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.510 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.510 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.510 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.510 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.510 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.510 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.510 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.510 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.510 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.511 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.511 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.511 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.511 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.511 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.511 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.511 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.511 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.511 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.511 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.511 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4289ms
2024-07-09 11:11:38.511 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.511 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.511 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20while%20(true)&periodo=%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20Console.Clear(); - 400 273 application/problem+json; charset=utf-8 0.673ms
2024-07-09 11:11:38.511 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Bienvenido%20al%20sistema%20de%20pagos%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22Por%20favor,%20ingrese%20el%20ID%20del%20estudiante%20(o%20'salir'%20para%20terminar):%20%22);-%20%20%20%20%20%20%20%20%20%20%20%20string%20studentId%20=%20Console.ReadLine(); - null null
2024-07-09 11:11:38.511 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.511 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.511 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.511 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.511 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.511 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.511 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.511 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.511 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.511 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.511 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.511 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.511 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.511 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.511 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.511 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.512 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.512 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.512 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.512 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.512 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.512 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.512 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.512 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.512 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.512 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.512 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.512 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.512 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.512 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.512 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.512 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.512 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.512 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4345ms
2024-07-09 11:11:38.512 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.512 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.512 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Bienvenido%20al%20sistema%20de%20pagos%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22Por%20favor,%20ingrese%20el%20ID%20del%20estudiante%20(o%20'salir'%20para%20terminar):%20%22);-%20%20%20%20%20%20%20%20%20%20%20%20string%20studentId%20=%20Console.ReadLine(); - 400 318 application/problem+json; charset=utf-8 0.6462ms
2024-07-09 11:11:38.512 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20if%20(studentId.ToLower()%20==%20%22salir%22)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;- - null null
2024-07-09 11:11:38.512 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.512 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.512 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.512 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.512 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.512 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.512 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.512 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.512 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.512 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.512 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.512 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.512 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.513 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.513 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.513 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.513 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.513 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.513 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.513 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.513 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.513 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.513 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.513 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.513 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.513 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.513 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.513 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.513 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.513 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.513 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.513 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.513 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.513 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5305ms
2024-07-09 11:11:38.513 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.513 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.513 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20if%20(studentId.ToLower()%20==%20%22salir%22)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;- - 400 302 application/problem+json; charset=utf-8 0.8738ms
2024-07-09 11:11:38.514 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22Ingrese%20el%20a%C3%B1o%20(por%20ejemplo,%202024):%20%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20string%20year%20=%20Console.ReadLine();- - null null
2024-07-09 11:11:38.514 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.514 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.514 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.514 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.514 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.514 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.514 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.514 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.514 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.514 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.514 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.514 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.514 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.514 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.514 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.514 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.514 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.514 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.514 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.514 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.514 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.514 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.514 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.514 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.514 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.514 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.514 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.514 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.514 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.514 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.514 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.514 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.514 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.514 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4274ms
2024-07-09 11:11:38.514 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.514 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.514 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22Ingrese%20el%20a%C3%B1o%20(por%20ejemplo,%202024):%20%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20string%20year%20=%20Console.ReadLine();- - 400 321 application/problem+json; charset=utf-8 0.6521ms
2024-07-09 11:11:38.515 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22Ingrese%20el%20per%C3%ADodo%20(por%20ejemplo,%20MAY-JUL):%20%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20string%20period%20=%20Console.ReadLine();- - null null
2024-07-09 11:11:38.515 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.515 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.515 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.515 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.515 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.515 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.515 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.515 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.515 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.515 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.515 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.515 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.515 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.515 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.515 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.515 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.515 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.515 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.515 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.515 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.515 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.515 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.515 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.515 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.515 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.515 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.515 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.515 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.515 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.515 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.515 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.515 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.515 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.516 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5328ms
2024-07-09 11:11:38.516 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.516 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.516 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22Ingrese%20el%20per%C3%ADodo%20(por%20ejemplo,%20MAY-JUL):%20%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20string%20period%20=%20Console.ReadLine();- - 400 328 application/problem+json; charset=utf-8 0.8417ms
2024-07-09 11:11:38.516 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20await%20ProcessPayment(studentId,%20year,%20period);&periodo=-%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Presione%20cualquier%20tecla%20para%20continuar...%22); - null null
2024-07-09 11:11:38.516 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.516 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.516 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.516 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.516 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.516 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.516 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.516 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.516 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.516 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.516 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.516 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.516 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.516 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.516 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.516 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.516 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.516 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.516 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.516 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.517 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.517 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.517 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.517 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.517 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.517 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.517 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4949ms
2024-07-09 11:11:38.517 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.517 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.517 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20await%20ProcessPayment(studentId,%20year,%20period);&periodo=-%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Presione%20cualquier%20tecla%20para%20continuar...%22); - 400 310 application/problem+json; charset=utf-8 0.7343ms
2024-07-09 11:11:38.517 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.ReadKey();&periodo=%20%20%20%20%20%20%20%20%7D-%20%20%20%20%7D - null null
2024-07-09 11:11:38.517 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.517 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.517 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.517 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.517 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.517 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.517 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.517 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.517 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.517 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.517 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.517 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.517 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.517 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.517 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.517 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.517 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.518 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.518 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.518 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.518 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.518 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.518 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.518 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3419ms
2024-07-09 11:11:38.518 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.518 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.518 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.ReadKey();&periodo=%20%20%20%20%20%20%20%20%7D-%20%20%20%20%7D - 400 282 application/problem+json; charset=utf-8 0.5239ms
2024-07-09 11:11:38.518 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20static%20async%20Task%20ProcessPayment(string%20studentId,%20string%20year,%20string%20period)&periodo=%20%20%20%20%7B-%20%20%20%20%20%20%20%20try - null null
2024-07-09 11:11:38.518 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.518 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.518 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.518 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.518 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.518 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.518 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.518 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.518 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.518 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.518 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.518 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.518 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.518 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.518 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.518 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.518 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.518 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.518 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.518 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.518 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.518 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.518 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.518 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.518 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.518 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.518 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.518 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.519 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.519 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.519 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.519 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.519 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.519 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4681ms
2024-07-09 11:11:38.519 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.519 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.519 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20static%20async%20Task%20ProcessPayment(string%20studentId,%20string%20year,%20string%20period)&periodo=%20%20%20%20%7B-%20%20%20%20%20%20%20%20try - 400 335 application/problem+json; charset=utf-8 0.7075ms
2024-07-09 11:11:38.519 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20%20%20%20%20//%20Verificar%20deuda-%20%20%20%20%20%20%20%20%20%20%20%20var%20deudaResponse%20=%20await%20client.GetAsync($%22%7BApiBaseUrl%7D/Factura/verificarDeuda?codigoEstudiante=%7BstudentId%7D&periodo=%7Byear%7D-%7Bperiod%7D%22); - null null
2024-07-09 11:11:38.519 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.519 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.519 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.519 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.519 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.519 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.519 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.519 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.519 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.519 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.519 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.519 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.519 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.519 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.520 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.520 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.520 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.520 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.520 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.520 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.520 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.520 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.521 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.521 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.521 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.521 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.521 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.521 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.521 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.521 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.521 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.521 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.521 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.521 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 1.49ms
2024-07-09 11:11:38.521 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.521 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.521 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20%20%20%20%20//%20Verificar%20deuda-%20%20%20%20%20%20%20%20%20%20%20%20var%20deudaResponse%20=%20await%20client.GetAsync($%22%7BApiBaseUrl%7D/Factura/verificarDeuda?codigoEstudiante=%7BstudentId%7D&periodo=%7Byear%7D-%7Bperiod%7D%22); - 400 261 application/problem+json; charset=utf-8 1.7499ms
2024-07-09 11:11:38.521 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20deudaResponse.EnsureSuccessStatusCode();&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20deudaContent%20=%20await%20deudaResponse.Content.ReadAsStringAsync();-%20%20%20%20%20%20%20%20%20%20%20%20var%20deudaInfo%20=%20JsonConvert.DeserializeObject%3CDeudaInfo%3E(deudaContent); - null null
2024-07-09 11:11:38.521 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.521 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.521 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.522 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.522 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.522 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.522 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.522 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.522 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.522 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.522 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.522 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.522 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.522 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.522 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.522 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.522 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.522 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.522 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.522 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.522 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.522 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3123ms
2024-07-09 11:11:38.522 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.522 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.522 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20deudaResponse.EnsureSuccessStatusCode();&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20deudaContent%20=%20await%20deudaResponse.Content.ReadAsStringAsync();-%20%20%20%20%20%20%20%20%20%20%20%20var%20deudaInfo%20=%20JsonConvert.DeserializeObject%3CDeudaInfo%3E(deudaContent); - 400 304 application/problem+json; charset=utf-8 0.4713ms
2024-07-09 11:11:38.522 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20if%20(!deudaInfo.TieneDeuda)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(deudaInfo.Mensaje); - null null
2024-07-09 11:11:38.522 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.522 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.522 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.522 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.522 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.522 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.522 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.522 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.522 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.522 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.522 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.523 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.523 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.523 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.523 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.523 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.523 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.523 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3189ms
2024-07-09 11:11:38.523 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.523 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.523 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20if%20(!deudaInfo.TieneDeuda)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(deudaInfo.Mensaje); - 400 291 application/problem+json; charset=utf-8 0.4742ms
2024-07-09 11:11:38.523 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D- - null null
2024-07-09 11:11:38.523 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.523 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.523 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.523 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.523 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.523 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.523 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.523 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.523 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.523 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.523 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.523 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.523 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.523 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.523 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.523 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.524 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.524 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.524 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.524 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.524 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.524 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.524 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.524 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.524 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.524 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.524 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.524 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.524 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.6118ms
2024-07-09 11:11:38.524 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.524 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.524 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D- - 400 275 application/problem+json; charset=utf-8 0.9181ms
2024-07-09 11:11:38.525 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine($%22Monto%20total%20a%20pagar:%20$%7BdeudaInfo.MontoTotal:F2%7D%22);&periodo=-%20%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22%C2%BFDesea%20proceder%20con%20el%20pago?%20(S/N):%20%22); - null null
2024-07-09 11:11:38.525 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.525 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.525 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.525 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.525 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.525 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.525 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.525 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.525 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.525 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.525 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.525 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.525 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.525 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.525 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.525 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.525 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.525 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.525 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.525 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.525 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.525 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.525 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.525 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.525 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.525 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.525 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.525 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.525 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.525 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.525 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.525 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.525 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.525 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4702ms
2024-07-09 11:11:38.525 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.525 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.525 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine($%22Monto%20total%20a%20pagar:%20$%7BdeudaInfo.MontoTotal:F2%7D%22);&periodo=-%20%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22%C2%BFDesea%20proceder%20con%20el%20pago?%20(S/N):%20%22); - 400 336 application/problem+json; charset=utf-8 0.7566ms
2024-07-09 11:11:38.526 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20if%20(Console.ReadLine().ToUpper()%20!=%20%22S%22)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Pago%20cancelado.%22); - null null
2024-07-09 11:11:38.526 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.526 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.526 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.526 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.526 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.526 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.526 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.526 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.526 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.526 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.526 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.526 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.526 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.526 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.526 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.526 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.526 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.526 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.526 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.526 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.526 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.526 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.526 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.526 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.526 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.526 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.526 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.526 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.527 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.527 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.527 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.527 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.527 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.527 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5871ms
2024-07-09 11:11:38.527 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.527 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.527 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20if%20(Console.ReadLine().ToUpper()%20!=%20%22S%22)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Pago%20cancelado.%22); - 400 306 application/problem+json; charset=utf-8 0.9942ms
2024-07-09 11:11:38.527 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D- - null null
2024-07-09 11:11:38.527 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.527 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.527 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.527 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.527 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.527 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.527 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.527 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.527 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.527 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.527 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.527 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.527 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.527 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.527 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.527 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.527 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.527 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.527 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.527 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.527 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.527 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.527 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.527 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.527 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.528 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.528 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.528 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.528 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.528 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.528 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.528 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.528 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.528 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4295ms
2024-07-09 11:11:38.528 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.528 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.528 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D- - 400 275 application/problem+json; charset=utf-8 0.6284ms
2024-07-09 11:11:38.528 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Seleccione%20el%20m%C3%A9todo%20de%20pago:%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%221.%20Tarjeta%20de%20cr%C3%A9dito/d%C3%A9bito%22);-%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%222.%20Efectivo%22); - null null
2024-07-09 11:11:38.528 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.528 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.528 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.528 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.528 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.528 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.528 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.528 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.528 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.528 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.528 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.528 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.528 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.528 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.528 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.528 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.528 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.528 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.528 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.528 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.529 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.529 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.529 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.529 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.529 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.529 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.529 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.529 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.529 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.529 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4273ms
2024-07-09 11:11:38.529 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.529 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.529 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Seleccione%20el%20m%C3%A9todo%20de%20pago:%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%221.%20Tarjeta%20de%20cr%C3%A9dito/d%C3%A9bito%22);-%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%222.%20Efectivo%22); - 400 318 application/problem+json; charset=utf-8 0.6329ms
2024-07-09 11:11:38.529 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%223.%20Dep%C3%B3sito%20bancario%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22Opci%C3%B3n:%20%22);-%20%20%20%20%20%20%20%20%20%20%20%20string%20paymentMethod%20=%20Console.ReadLine(); - null null
2024-07-09 11:11:38.529 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.529 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.529 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.529 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.529 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.529 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.529 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.529 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.529 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.529 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.529 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.529 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.529 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.529 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.529 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.529 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.529 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.529 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.530 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.530 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.530 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.530 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.530 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.530 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.530 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.530 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.530 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3852ms
2024-07-09 11:11:38.530 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.530 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.530 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%223.%20Dep%C3%B3sito%20bancario%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.Write(%22Opci%C3%B3n:%20%22);-%20%20%20%20%20%20%20%20%20%20%20%20string%20paymentMethod%20=%20Console.ReadLine(); - 400 309 application/problem+json; charset=utf-8 0.5704ms
2024-07-09 11:11:38.530 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20//%20Generar%20factura&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20facturaResponse%20=%20await%20client.PostAsJsonAsync($%22%7BApiBaseUrl%7D/Factura/generarFactura%22,%20new-%20%20%20%20%20%20%20%20%20%20%20%20%7B - null null
2024-07-09 11:11:38.530 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.530 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.530 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.530 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.530 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.530 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.530 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.530 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.530 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.530 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.530 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.530 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.530 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.530 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.530 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.530 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.530 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.530 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.530 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.530 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.530 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.530 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.530 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.530 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.531 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.531 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.531 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.531 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.531 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3719ms
2024-07-09 11:11:38.531 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.531 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.531 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20//%20Generar%20factura&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20facturaResponse%20=%20await%20client.PostAsJsonAsync($%22%7BApiBaseUrl%7D/Factura/generarFactura%22,%20new-%20%20%20%20%20%20%20%20%20%20%20%20%7B - 400 283 application/problem+json; charset=utf-8 0.5363ms
2024-07-09 11:11:38.531 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20periodo%20=%20$%22%7Byear%7D-%7Bperiod%7D%22,&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20codigoEstudiante%20=%20studentId-%20%20%20%20%20%20%20%20%20%20%20%20%7D); - null null
2024-07-09 11:11:38.531 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.531 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.531 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.531 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.531 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.531 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.531 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.531 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.531 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.531 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.531 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.531 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.531 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.531 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.531 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.531 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.531 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.531 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.531 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.531 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.531 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.531 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.531 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.531 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.531 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.531 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.531 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.531 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.531 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.531 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.531 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.531 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.531 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.531 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3617ms
2024-07-09 11:11:38.531 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.531 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.531 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20periodo%20=%20$%22%7Byear%7D-%7Bperiod%7D%22,&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20codigoEstudiante%20=%20studentId-%20%20%20%20%20%20%20%20%20%20%20%20%7D); - 400 299 application/problem+json; charset=utf-8 0.5242ms
2024-07-09 11:11:38.532 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20facturaResponse.EnsureSuccessStatusCode();&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20facturaContent%20=%20await%20facturaResponse.Content.ReadAsStringAsync();-%20%20%20%20%20%20%20%20%20%20%20%20var%20facturaInfo%20=%20JsonConvert.DeserializeObject%3CFacturaInfo%3E(facturaContent); - null null
2024-07-09 11:11:38.532 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.532 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.532 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.532 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.532 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.532 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.532 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.532 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.532 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.532 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.532 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.532 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.532 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.532 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.532 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.532 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.532 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.532 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.532 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.532 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.532 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.532 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.532 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.532 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.532 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.532 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.532 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.533 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.533 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.533 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.533 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.533 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.533 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.533 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4004ms
2024-07-09 11:11:38.533 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.533 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.533 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20facturaResponse.EnsureSuccessStatusCode();&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20facturaContent%20=%20await%20facturaResponse.Content.ReadAsStringAsync();-%20%20%20%20%20%20%20%20%20%20%20%20var%20facturaInfo%20=%20JsonConvert.DeserializeObject%3CFacturaInfo%3E(facturaContent); - 400 306 application/problem+json; charset=utf-8 0.5714ms
2024-07-09 11:11:38.533 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20if%20(!facturaInfo.Success)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Error%20al%20generar%20la%20factura.%22); - null null
2024-07-09 11:11:38.533 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.533 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.533 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.533 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.533 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.533 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.533 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.533 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.533 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.533 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.533 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.533 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.533 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.533 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.533 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.533 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.533 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.533 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.533 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.533 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.533 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.533 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.533 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.533 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.533 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.533 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.533 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.533 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.533 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.533 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.533 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.533 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.533 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.534 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3532ms
2024-07-09 11:11:38.534 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.534 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.534 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20if%20(!facturaInfo.Success)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Error%20al%20generar%20la%20factura.%22); - 400 290 application/problem+json; charset=utf-8 0.5622ms
2024-07-09 11:11:38.534 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D- - null null
2024-07-09 11:11:38.534 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.534 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.534 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.534 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.534 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.534 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.534 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.534 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.534 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.534 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.534 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.534 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.534 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.534 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.534 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.534 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.534 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.534 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.534 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.534 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.534 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.534 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.534 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.534 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.534 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.534 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.534 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.534 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.534 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.534 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.534 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.534 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.534 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.534 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3732ms
2024-07-09 11:11:38.534 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.534 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.534 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D- - 400 275 application/problem+json; charset=utf-8 0.5474ms
2024-07-09 11:11:38.535 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20switch%20(paymentMethod)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%221%22: - null null
2024-07-09 11:11:38.535 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.535 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.535 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.535 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.535 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.535 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.535 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.535 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.535 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.535 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.535 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.535 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.535 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.535 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.535 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.535 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.535 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.535 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.535 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.535 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.535 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.535 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.535 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.535 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.535 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.535 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.535 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.535 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.535 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.535 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.535 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.535 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.535 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.535 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3674ms
2024-07-09 11:11:38.535 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.535 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.535 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20switch%20(paymentMethod)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%221%22: - 400 286 application/problem+json; charset=utf-8 0.5569ms
2024-07-09 11:11:38.536 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20ProcessCreditCardPayment(facturaInfo.FacturaId,%20deudaInfo.MontoTotal,%20studentId);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%222%22: - null null
2024-07-09 11:11:38.536 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.536 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.536 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.536 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.536 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.536 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.536 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.536 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.536 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.536 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.536 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.536 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.536 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.536 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.536 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.536 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.536 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.536 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.536 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.536 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.536 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.536 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.536 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.536 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.536 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.536 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.536 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.536 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.536 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.536 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.536 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.536 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.536 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.536 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.421ms
2024-07-09 11:11:38.536 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.536 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.536 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20ProcessCreditCardPayment(facturaInfo.FacturaId,%20deudaInfo.MontoTotal,%20studentId);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%222%22: - 400 359 application/problem+json; charset=utf-8 0.65ms
2024-07-09 11:11:38.537 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%223%22:&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20ProcessCashOrDepositPayment(facturaInfo.FacturaId,%20deudaInfo.MontoTotal,%20studentId,%20paymentMethod%20==%20%222%22%20?%20%22Efectivo%22%20:%20%22Dep%C3%B3sito%22);-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break; - null null
2024-07-09 11:11:38.537 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.537 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.537 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.537 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.537 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.537 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.537 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.537 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.537 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.537 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.537 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.537 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.537 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.537 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.537 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.537 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.537 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.537 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.537 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.537 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.537 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.537 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.537 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.537 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.537 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.537 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.537 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.537 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.538 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.538 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.538 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.538 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.538 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.538 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5502ms
2024-07-09 11:11:38.538 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.538 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.538 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%223%22:&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20ProcessCashOrDepositPayment(facturaInfo.FacturaId,%20deudaInfo.MontoTotal,%20studentId,%20paymentMethod%20==%20%222%22%20?%20%22Efectivo%22%20:%20%22Dep%C3%B3sito%22);-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break; - 400 279 application/problem+json; charset=utf-8 0.8239ms
2024-07-09 11:11:38.538 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default:&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Opci%C3%B3n%20no%20v%C3%A1lida.%22);-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return; - null null
2024-07-09 11:11:38.538 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.538 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.538 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.538 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.538 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.538 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.538 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.538 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.538 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.538 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.538 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.538 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.538 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.538 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.538 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.538 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.539 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.539 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.539 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.539 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.539 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.539 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.539 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.539 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.539 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.539 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.539 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.539 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.539 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.539 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.539 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.539 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.539 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.539 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4479ms
2024-07-09 11:11:38.539 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.539 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.539 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default:&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Opci%C3%B3n%20no%20v%C3%A1lida.%22);-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return; - 400 276 application/problem+json; charset=utf-8 0.6607ms
2024-07-09 11:11:38.539 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%7D&periodo=%20%20%20%20%20%20%20%20%7D-%20%20%20%20%20%20%20%20catch%20(Exception%20ex) - null null
2024-07-09 11:11:38.539 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.539 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.539 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.539 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.539 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.539 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.539 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.539 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.539 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.539 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.539 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.539 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.539 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.539 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.539 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.539 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.540 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.540 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.540 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.540 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.540 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.540 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.540 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4301ms
2024-07-09 11:11:38.540 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.540 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.540 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%7D&periodo=%20%20%20%20%20%20%20%20%7D-%20%20%20%20%20%20%20%20catch%20(Exception%20ex) - 400 265 application/problem+json; charset=utf-8 0.6475ms
2024-07-09 11:11:38.540 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine($%22Error:%20%7Bex.Message%7D%22);-%20%20%20%20%20%20%20%20%7D - null null
2024-07-09 11:11:38.540 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.540 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.540 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.540 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.540 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.540 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.540 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.540 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.540 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.540 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.540 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.540 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.540 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.540 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.540 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.540 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.540 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.540 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.540 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.540 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.540 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.540 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.540 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.2733ms
2024-07-09 11:11:38.540 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.540 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.541 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine($%22Error:%20%7Bex.Message%7D%22);-%20%20%20%20%20%20%20%20%7D - 400 261 application/problem+json; charset=utf-8 0.4464ms
2024-07-09 11:11:38.541 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%7D&periodo=-%20%20%20%20static%20async%20Task%20ProcessCreditCardPayment(int%20facturaId,%20decimal%20montoTotal,%20string%20studentId) - null null
2024-07-09 11:11:38.541 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.541 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.541 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.541 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.541 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.541 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.541 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.541 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.541 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.541 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.541 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.541 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.541 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.541 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.541 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.541 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.541 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.541 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.541 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.541 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.541 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.541 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.541 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.541 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.541 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.541 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.541 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.541 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.541 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.541 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.541 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.541 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.541 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.541 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.2636ms
2024-07-09 11:11:38.541 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.541 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.541 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%7D&periodo=-%20%20%20%20static%20async%20Task%20ProcessCreditCardPayment(int%20facturaId,%20decimal%20montoTotal,%20string%20studentId) - 400 257 application/problem+json; charset=utf-8 0.454ms
2024-07-09 11:11:38.542 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20try-%20%20%20%20%20%20%20%20%7B - null null
2024-07-09 11:11:38.542 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.542 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.542 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.542 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.542 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.542 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.542 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.542 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.542 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.542 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.542 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.542 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.542 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.542 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.542 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.542 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.542 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.542 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.542 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.542 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.542 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.542 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.542 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.542 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.542 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.542 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.542 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.542 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.542 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.542 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.542 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.542 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.542 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.542 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.2822ms
2024-07-09 11:11:38.542 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.542 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.542 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20try-%20%20%20%20%20%20%20%20%7B - 400 257 application/problem+json; charset=utf-8 0.4554ms
2024-07-09 11:11:38.542 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20var%20paymentOptions%20=%20new%20PaymentIntentCreateOptions&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Amount%20=%20(long)(montoTotal%20*%20100), - null null
2024-07-09 11:11:38.542 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.543 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.543 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.543 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.543 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.543 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.543 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.543 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.543 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.543 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.543 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.543 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.543 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.543 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.543 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.543 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.543 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.543 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.543 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.543 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.543 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.543 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.543 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.543 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.543 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.543 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.543 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.543 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.543 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.543 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.543 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.543 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.543 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.543 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4672ms
2024-07-09 11:11:38.543 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.543 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.543 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20var%20paymentOptions%20=%20new%20PaymentIntentCreateOptions&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Amount%20=%20(long)(montoTotal%20*%20100), - 400 315 application/problem+json; charset=utf-8 0.7239ms
2024-07-09 11:11:38.544 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Currency%20=%20%22dop%22,&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20PaymentMethodTypes%20=%20new%20List%3Cstring%3E%20%7B%20%22card%22%20%7D,-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Metadata%20=%20new%20Dictionary%3Cstring,%20string%3E - null null
2024-07-09 11:11:38.544 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.544 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.544 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.544 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.544 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.544 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.544 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.544 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.544 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.544 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.544 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.544 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.544 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.544 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.544 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.544 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.544 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.544 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.544 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.544 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.544 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.544 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.544 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.544 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.544 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.544 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.544 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.544 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.544 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.544 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.544 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.544 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.544 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.544 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4315ms
2024-07-09 11:11:38.544 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.544 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.544 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Currency%20=%20%22dop%22,&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20PaymentMethodTypes%20=%20new%20List%3Cstring%3E%20%7B%20%22card%22%20%7D,-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Metadata%20=%20new%20Dictionary%3Cstring,%20string%3E - 400 287 application/problem+json; charset=utf-8 0.6552ms
2024-07-09 11:11:38.545 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20%22FacturaId%22,%20facturaId.ToString()%20%7D,-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20%22EstudianteId%22,%20studentId%20%7D - null null
2024-07-09 11:11:38.545 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.545 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.545 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.545 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.545 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.545 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.545 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.545 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.545 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.545 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.545 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.545 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.545 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.545 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.545 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.545 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.545 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.545 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.545 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.545 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.545 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.545 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.545 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.545 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.545 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.545 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.545 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.545 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.545 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.545 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.545 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.545 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.545 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.545 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4143ms
2024-07-09 11:11:38.545 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.545 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.545 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20%22FacturaId%22,%20facturaId.ToString()%20%7D,-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20%22EstudianteId%22,%20studentId%20%7D - 400 269 application/problem+json; charset=utf-8 0.6652ms
2024-07-09 11:11:38.546 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D;- - null null
2024-07-09 11:11:38.546 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.546 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.546 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.546 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.546 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.546 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.546 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.546 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.546 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.546 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.546 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.546 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.546 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.546 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.546 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.546 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.546 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.546 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.546 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.546 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.546 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.546 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.546 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.546 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.546 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.546 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.546 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.546 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.546 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.546 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.546 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.546 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.546 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.546 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4137ms
2024-07-09 11:11:38.546 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.546 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.546 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D;- - 400 269 application/problem+json; charset=utf-8 0.7292ms
2024-07-09 11:11:38.547 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20var%20paymentIntentService%20=%20new%20PaymentIntentService();&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20paymentIntent%20=%20await%20paymentIntentService.CreateAsync(paymentOptions);- - null null
2024-07-09 11:11:38.547 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.547 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.547 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.547 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.547 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.547 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.547 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.547 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.547 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.547 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.547 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.547 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.547 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.547 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.547 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.547 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.547 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.547 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.547 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.547 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.547 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.547 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.547 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.547 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.547 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.547 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.547 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.547 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.547 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.547 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.547 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.547 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.547 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.547 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3884ms
2024-07-09 11:11:38.547 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.547 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.547 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20var%20paymentIntentService%20=%20new%20PaymentIntentService();&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20paymentIntent%20=%20await%20paymentIntentService.CreateAsync(paymentOptions);- - 400 318 application/problem+json; charset=utf-8 0.6924ms
2024-07-09 11:11:38.554 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20//%20Aqu%C3%AD%20normalmente%20redirigir%C3%ADas%20al%20usuario%20a%20una%20p%C3%A1gina%20de%20pago%20segura&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Procesando%20pago%20con%20tarjeta...%22);-%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine($%22ID%20de%20Pago:%20%7BpaymentIntent.Id%7D%22); - null null
2024-07-09 11:11:38.554 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.554 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.554 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.554 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.554 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.554 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.554 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.554 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.554 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.554 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.554 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.554 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.554 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.554 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.554 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.554 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.554 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.554 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.554 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.554 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.554 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.554 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.554 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.554 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.554 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.554 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.554 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.554 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.555 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.555 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.555 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.555 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.555 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.555 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.6727ms
2024-07-09 11:11:38.555 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.555 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.555 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20//%20Aqu%C3%AD%20normalmente%20redirigir%C3%ADas%20al%20usuario%20a%20una%20p%C3%A1gina%20de%20pago%20segura&periodo=%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Procesando%20pago%20con%20tarjeta...%22);-%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine($%22ID%20de%20Pago:%20%7BpaymentIntent.Id%7D%22); - 400 338 application/problem+json; charset=utf-8 1.1065ms
2024-07-09 11:11:38.555 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20//%20Simular%20confirmaci%C3%B3n%20de%20pago&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20confirmedIntent%20=%20await%20paymentIntentService.ConfirmAsync(paymentIntent.Id);- - null null
2024-07-09 11:11:38.555 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.555 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.555 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.555 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.555 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.555 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.555 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.555 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.555 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.555 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.555 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.555 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.555 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.556 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.556 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.556 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.556 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.556 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.556 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.556 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.556 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.556 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.556 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.556 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.556 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.556 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.556 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.556 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.556 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.556 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.556 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.556 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.556 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.556 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4323ms
2024-07-09 11:11:38.556 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.556 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.556 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20//%20Simular%20confirmaci%C3%B3n%20de%20pago&periodo=%20%20%20%20%20%20%20%20%20%20%20%20var%20confirmedIntent%20=%20await%20paymentIntentService.ConfirmAsync(paymentIntent.Id);- - 400 297 application/problem+json; charset=utf-8 0.7142ms
2024-07-09 11:11:38.556 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20if%20(confirmedIntent.Status%20==%20%22succeeded%22)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20UpdatePaymentStatus(facturaId,%20paymentIntent.Id); - null null
2024-07-09 11:11:38.557 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.557 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.557 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.557 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.557 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.557 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.557 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.557 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.557 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.557 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.557 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.557 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.557 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.557 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.557 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.557 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.557 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.557 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.557 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.557 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.557 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.557 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.557 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.557 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.557 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.557 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.557 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.557 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.557 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.557 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.557 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.557 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.557 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.557 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.7702ms
2024-07-09 11:11:38.557 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.557 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.557 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20if%20(confirmedIntent.Status%20==%20%22succeeded%22)&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7B-%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20UpdatePaymentStatus(facturaId,%20paymentIntent.Id); - 400 308 application/problem+json; charset=utf-8 1.0532ms
2024-07-09 11:11:38.558 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Pago%20con%20tarjeta%20procesado%20con%20%C3%A9xito.%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D-%20%20%20%20%20%20%20%20%20%20%20%20else - null null
2024-07-09 11:11:38.558 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.558 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.558 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.558 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.558 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.558 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.558 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.558 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.558 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.558 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.558 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.558 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.558 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.558 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.558 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.558 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.558 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.558 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.558 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.558 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.558 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.558 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.558 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.558 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.558 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.558 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.558 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.558 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.558 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.558 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.558 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.558 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.558 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.558 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3258ms
2024-07-09 11:11:38.558 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.558 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.558 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22Pago%20con%20tarjeta%20procesado%20con%20%C3%A9xito.%22);&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%7D-%20%20%20%20%20%20%20%20%20%20%20%20else - 400 330 application/problem+json; charset=utf-8 0.5294ms
2024-07-09 11:11:38.559 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22El%20pago%20con%20tarjeta%20no%20pudo%20ser%20completado.%22);-%20%20%20%20%20%20%20%20%20%20%20%20%7D - null null
2024-07-09 11:11:38.559 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.559 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.559 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.559 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.559 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.559 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.559 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.559 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.559 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.559 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.559 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.559 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.559 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.559 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.559 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.559 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.559 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.559 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.559 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.559 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.559 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.559 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.559 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.559 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.559 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.559 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.559 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.559 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.559 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.559 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.559 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.559 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.559 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.559 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3836ms
2024-07-09 11:11:38.559 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.559 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.559 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine(%22El%20pago%20con%20tarjeta%20no%20pudo%20ser%20completado.%22);-%20%20%20%20%20%20%20%20%20%20%20%20%7D - 400 265 application/problem+json; charset=utf-8 0.5511ms
2024-07-09 11:11:38.560 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%7D&periodo=%20%20%20%20%20%20%20%20catch%20(StripeException%20e)-%20%20%20%20%20%20%20%20%7B - null null
2024-07-09 11:11:38.560 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.560 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.560 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.560 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.560 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.560 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.560 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.560 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.560 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.560 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.560 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.560 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.560 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.560 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.560 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.560 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.560 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.560 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.560 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.560 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.560 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.560 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.560 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.560 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.560 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.560 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.560 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.560 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.560 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.560 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.560 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.560 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.560 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.560 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3314ms
2024-07-09 11:11:38.560 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.560 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.560 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%7D&periodo=%20%20%20%20%20%20%20%20catch%20(StripeException%20e)-%20%20%20%20%20%20%20%20%7B - 400 261 application/problem+json; charset=utf-8 0.4782ms
2024-07-09 11:11:38.560 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine($%22Error%20en%20el%20pago%20con%20tarjeta:%20%7Be.Message%7D%22);&periodo=%20%20%20%20%20%20%20%20%7D-%20%20%20%20%7D - null null
2024-07-09 11:11:38.560 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.560 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.560 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.561 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.561 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.561 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.561 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.561 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.561 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.561 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.561 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.561 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.561 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.561 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.561 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.561 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.561 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.561 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.561 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.561 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.561 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.561 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.561 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.561 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.561 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.561 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.561 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.561 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.561 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.561 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.561 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.561 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.561 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.561 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5488ms
2024-07-09 11:11:38.561 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.561 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.561 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20Console.WriteLine($%22Error%20en%20el%20pago%20con%20tarjeta:%20%7Be.Message%7D%22);&periodo=%20%20%20%20%20%20%20%20%7D-%20%20%20%20%7D - 400 330 application/problem+json; charset=utf-8 0.8675ms
2024-07-09 11:11:38.562 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20static%20async%20Task%20ProcessCashOrDepositPayment(int%20facturaId,%20decimal%20montoTotal,%20string%20studentId,%20string%20paymentType)&periodo=%20%20%20%20%7B-%20%20%20%20%20%20%20%20Console.WriteLine($%22Procesando%20pago%20en%20%7BpaymentType.ToLower()%7D...%22); - null null
2024-07-09 11:11:38.562 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.562 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.562 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.562 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.562 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.562 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.562 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.562 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.562 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.562 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.562 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.562 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.562 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.562 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.562 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.562 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.562 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.562 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.562 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.562 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.562 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.562 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.562 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.562 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.562 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.562 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.562 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.562 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.562 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.562 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.562 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.562 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.562 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.562 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4556ms
2024-07-09 11:11:38.562 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.562 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.562 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20static%20async%20Task%20ProcessCashOrDepositPayment(int%20facturaId,%20decimal%20montoTotal,%20string%20studentId,%20string%20paymentType)&periodo=%20%20%20%20%7B-%20%20%20%20%20%20%20%20Console.WriteLine($%22Procesando%20pago%20en%20%7BpaymentType.ToLower()%7D...%22); - 400 375 application/problem+json; charset=utf-8 0.6858ms
2024-07-09 11:11:38.563 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20&periodo=%20%20%20%20%20%20%20%20//%20Aqu%C3%AD%20simularemos%20el%20proceso%20de%20pago%20en%20efectivo%20o%20dep%C3%B3sito-%20%20%20%20%20%20%20%20Console.WriteLine($%22Monto%20recibido:%20$%7BmontoTotal:F2%7D%22); - null null
2024-07-09 11:11:38.563 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.563 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.563 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.563 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.563 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.563 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.563 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.563 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.563 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.563 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.563 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.563 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.563 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.563 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.563 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.563 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.563 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.563 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.563 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.563 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.563 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.563 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.563 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.563 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.563 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.563 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.563 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.563 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.563 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.563 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.563 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.563 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.563 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.563 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3232ms
2024-07-09 11:11:38.563 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.563 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.563 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20&periodo=%20%20%20%20%20%20%20%20//%20Aqu%C3%AD%20simularemos%20el%20proceso%20de%20pago%20en%20efectivo%20o%20dep%C3%B3sito-%20%20%20%20%20%20%20%20Console.WriteLine($%22Monto%20recibido:%20$%7BmontoTotal:F2%7D%22); - 400 258 application/problem+json; charset=utf-8 0.491ms
2024-07-09 11:11:38.564 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20Console.WriteLine($%22Tipo%20de%20pago:%20%7BpaymentType%7D%22);&periodo=-%20%20%20%20%20%20%20%20//%20Generar%20un%20ID%20de%20pago%20simulado - null null
2024-07-09 11:11:38.564 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.564 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.564 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.564 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.564 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.564 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.564 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.564 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.564 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.564 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.564 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.564 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.564 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.564 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.564 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.564 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.564 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.564 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.564 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.564 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.564 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.564 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.564 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.564 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.564 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.564 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.564 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.564 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.564 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3265ms
2024-07-09 11:11:38.564 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.564 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.564 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20Console.WriteLine($%22Tipo%20de%20pago:%20%7BpaymentType%7D%22);&periodo=-%20%20%20%20%20%20%20%20//%20Generar%20un%20ID%20de%20pago%20simulado - 400 312 application/problem+json; charset=utf-8 0.4625ms
2024-07-09 11:11:38.564 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20string%20paymentId%20=%20Guid.NewGuid().ToString();&periodo=-%20%20%20%20%20%20%20%20await%20UpdatePaymentStatus(facturaId,%20paymentId); - null null
2024-07-09 11:11:38.564 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.564 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.564 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.564 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.564 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.564 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.564 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.564 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.565 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.565 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.565 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.565 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.565 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.565 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.565 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.565 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.565 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.565 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.565 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.565 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.565 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.565 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.565 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.565 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.565 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.565 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.565 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.565 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.565 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.565 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.422ms
2024-07-09 11:11:38.565 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.565 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.565 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20string%20paymentId%20=%20Guid.NewGuid().ToString();&periodo=-%20%20%20%20%20%20%20%20await%20UpdatePaymentStatus(facturaId,%20paymentId); - 400 305 application/problem+json; charset=utf-8 0.6877ms
2024-07-09 11:11:38.565 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20Console.WriteLine($%22Pago%20en%20%7BpaymentType.ToLower()%7D%20procesado%20con%20%C3%A9xito.%22);&periodo=%20%20%20%20%20%20%20%20Console.WriteLine($%22ID%20de%20Pago:%20%7BpaymentId%7D%22);-%20%20%20%20%20%20%20%20Console.WriteLine(%22Por%20favor,%20guarde%20este%20comprobante.%22); - null null
2024-07-09 11:11:38.565 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.565 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.565 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.565 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.565 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.565 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.565 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.565 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.565 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.565 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.565 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.565 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.565 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.566 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.566 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.566 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.566 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.566 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.566 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.566 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.566 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3129ms
2024-07-09 11:11:38.566 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.566 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.566 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20Console.WriteLine($%22Pago%20en%20%7BpaymentType.ToLower()%7D%20procesado%20con%20%C3%A9xito.%22);&periodo=%20%20%20%20%20%20%20%20Console.WriteLine($%22ID%20de%20Pago:%20%7BpaymentId%7D%22);-%20%20%20%20%20%20%20%20Console.WriteLine(%22Por%20favor,%20guarde%20este%20comprobante.%22); - 400 339 application/problem+json; charset=utf-8 0.4747ms
2024-07-09 11:11:38.566 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%7D&periodo=-%20%20%20%20static%20async%20Task%20UpdatePaymentStatus(int%20facturaId,%20string%20paymentId) - null null
2024-07-09 11:11:38.566 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.566 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.566 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.566 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.566 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.566 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.566 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.566 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.566 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.566 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.566 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.566 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.566 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.566 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.566 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.566 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.566 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.566 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.566 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.566 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.566 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.566 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.567 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3283ms
2024-07-09 11:11:38.567 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.567 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.567 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%7D&periodo=-%20%20%20%20static%20async%20Task%20UpdatePaymentStatus(int%20facturaId,%20string%20paymentId) - 400 257 application/problem+json; charset=utf-8 0.4852ms
2024-07-09 11:11:38.567 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20var%20updateResponse%20=%20await%20client.PostAsJsonAsync($%22%7BApiBaseUrl%7D/Factura/actualizarEstadoPago%22,%20new-%20%20%20%20%20%20%20%20%7B - null null
2024-07-09 11:11:38.567 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.567 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.567 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.567 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.567 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.567 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.567 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.567 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.567 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.567 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.567 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.567 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.567 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.567 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.567 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.567 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.567 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.567 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.567 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.567 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.567 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.567 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.567 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.567 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.567 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.567 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.567 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.567 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.567 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.567 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.567 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.567 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.567 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.567 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3019ms
2024-07-09 11:11:38.567 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.567 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.567 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%7B&periodo=%20%20%20%20%20%20%20%20var%20updateResponse%20=%20await%20client.PostAsJsonAsync($%22%7BApiBaseUrl%7D/Factura/actualizarEstadoPago%22,%20new-%20%20%20%20%20%20%20%20%7B - 400 257 application/problem+json; charset=utf-8 0.4455ms
2024-07-09 11:11:38.568 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20facturaId%20=%20facturaId,&periodo=%20%20%20%20%20%20%20%20%20%20%20%20paymentIntentId%20=%20paymentId-%20%20%20%20%20%20%20%20%7D); - null null
2024-07-09 11:11:38.568 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.568 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.568 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.568 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.568 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.568 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.568 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.568 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.568 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.568 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.568 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.568 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.568 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.568 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.568 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.568 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.568 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.568 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.568 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.568 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.568 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.568 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.568 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.568 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.568 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.568 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.568 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.568 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.568 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.568 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.568 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.568 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.569 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.569 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.616ms
2024-07-09 11:11:38.569 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.569 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.569 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20%20%20%20%20facturaId%20=%20facturaId,&periodo=%20%20%20%20%20%20%20%20%20%20%20%20paymentIntentId%20=%20paymentId-%20%20%20%20%20%20%20%20%7D); - 400 286 application/problem+json; charset=utf-8 0.9545ms
2024-07-09 11:11:38.569 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20updateResponse.EnsureSuccessStatusCode();&periodo=%20%20%20%20%7D-%7D - null null
2024-07-09 11:11:38.569 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.569 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.569 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.569 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.569 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.569 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.569 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.569 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.569 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.569 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.569 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.569 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.569 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.569 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.569 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.569 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.569 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.569 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.569 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.569 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.569 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.569 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.569 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.569 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.569 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.569 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.569 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.569 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.569 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.569 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.569 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.569 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.569 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.569 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3841ms
2024-07-09 11:11:38.570 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.570 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.570 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20updateResponse.EnsureSuccessStatusCode();&periodo=%20%20%20%20%7D-%7D - 400 301 application/problem+json; charset=utf-8 0.5628ms
2024-07-09 11:11:38.570 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=class%20DeudaInfo&periodo=%7B-%20%20%20%20public%20bool%20TieneDeuda%20%7B%20get;%20set;%20%7D - null null
2024-07-09 11:11:38.570 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.570 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.570 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.570 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.570 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.570 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.570 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.570 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.570 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.570 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.570 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.570 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.570 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.570 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.570 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.570 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.570 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.570 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.570 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.570 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.570 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.570 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.570 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.570 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.570 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.570 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.570 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.570 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.570 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.570 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.570 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.570 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.570 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.570 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3436ms
2024-07-09 11:11:38.570 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.570 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.570 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=class%20DeudaInfo&periodo=%7B-%20%20%20%20public%20bool%20TieneDeuda%20%7B%20get;%20set;%20%7D - 400 268 application/problem+json; charset=utf-8 0.5728ms
2024-07-09 11:11:38.571 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20public%20string%20Mensaje%20%7B%20get;%20set;%20%7D&periodo=%20%20%20%20public%20decimal%20MontoTotal%20%7B%20get;%20set;%20%7D-%7D - null null
2024-07-09 11:11:38.571 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.571 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.571 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.571 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.571 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.571 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.571 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.571 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.571 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.571 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.571 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.571 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.571 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.571 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.571 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.571 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.571 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.571 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.571 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.571 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.571 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.571 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.571 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.571 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.571 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.571 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.571 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.571 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.571 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.571 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.571 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.571 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.571 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.571 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3581ms
2024-07-09 11:11:38.571 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.571 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.571 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20public%20string%20Mensaje%20%7B%20get;%20set;%20%7D&periodo=%20%20%20%20public%20decimal%20MontoTotal%20%7B%20get;%20set;%20%7D-%7D - 400 291 application/problem+json; charset=utf-8 0.5464ms
2024-07-09 11:11:38.571 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=class%20FacturaInfo&periodo=%7B-%20%20%20%20public%20bool%20Success%20%7B%20get;%20set;%20%7D - null null
2024-07-09 11:11:38.572 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:11:38.572 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:11:38.572 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.572 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:11:38.572 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.572 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.572 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:11:38.572 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:11:38.572 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:11:38.572 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:11:38.572 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:11:38.572 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:11:38.572 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.572 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:11:38.572 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.572 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:11:38.572 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.572 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.572 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:11:38.572 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:11:38.572 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.572 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:11:38.572 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.572 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.572 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:11:38.572 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:11:38.572 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 11:11:38.572 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 11:11:38.572 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:11:38.572 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:11:38.572 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 11:11:38.572 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 11:11:38.572 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 11:11:38.572 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5335ms
2024-07-09 11:11:38.572 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:11:38.572 -04:00 [DBG] Connection id "0HN504SVN6V4F" completed keep alive response.
2024-07-09 11:11:38.572 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=class%20FacturaInfo&periodo=%7B-%20%20%20%20public%20bool%20Success%20%7B%20get;%20set;%20%7D - 400 270 application/problem+json; charset=utf-8 0.88ms
2024-07-09 11:11:49.974 -04:00 [DBG] Connection id "0HN504SVN6V4F" received FIN.
2024-07-09 11:11:49.975 -04:00 [DBG] Connection id "0HN504SVN6V4F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:11:49.975 -04:00 [DBG] Connection id "0HN504SVN6V4F" disconnecting.
2024-07-09 11:11:49.975 -04:00 [DBG] Connection id "0HN504SVN6V4F" stopped.
2024-07-09 11:13:42.073 -04:00 [DBG] Connection id "0HN504SVN6V4G" accepted.
2024-07-09 11:13:42.073 -04:00 [DBG] Connection id "0HN504SVN6V4G" started.
2024-07-09 11:13:42.077 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:13:42.078 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:13:42.078 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:13:42.078 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:13:42.078 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:13:42.078 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:13:42.079 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:13:42.079 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:13:42.079 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:13:42.079 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:13:42.079 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:13:42.079 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:13:42.079 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:13:42.079 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:13:42.080 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:13:42.080 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:13:42.080 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:13:42.080 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:13:42.080 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:13:42.080 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:13:42.080 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:13:42.080 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:13:42.080 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:13:42.080 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:13:42.080 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:13:42.080 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:13:42.080 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:13:42.081 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:13:42.082 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:13:42.083 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:13:42.084 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:13:42.084 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:43.561 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:43.562 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:13:43.562 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:13:43.562 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:13:43.562 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:13:43.623 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:13:43.624 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:43.624 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:43.624 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:13:43.624 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:43.624 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:13:43.624 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1543.3283ms.
2024-07-09 11:13:43.624 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:13:43.624 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:13:43.624 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:13:43.624 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:13:43.624 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:13:43.624 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:13:43.625 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 1545.605ms
2024-07-09 11:13:43.625 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:13:43.625 -04:00 [DBG] Connection id "0HN504SVN6V4G" completed keep alive response.
2024-07-09 11:13:43.625 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:13:43.625 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:43.625 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:13:43.625 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 1548.1559ms
2024-07-09 11:13:59.656 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:13:59.657 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:13:59.657 -04:00 [DBG] POST requests are not supported
2024-07-09 11:13:59.657 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:13:59.657 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:13:59.657 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:13:59.657 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:13:59.661 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:13:59.661 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:13:59.661 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:13:59.661 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:13:59.661 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:13:59.661 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:13:59.661 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:13:59.661 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:13:59.661 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:13:59.662 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:13:59.662 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:13:59.662 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:13:59.662 -04:00 [DBG] Connection id "0HN504SVN6V4G", Request id "0HN504SVN6V4G:00000002": started reading request body.
2024-07-09 11:13:59.662 -04:00 [DBG] Connection id "0HN504SVN6V4G", Request id "0HN504SVN6V4G:00000002": done reading request body.
2024-07-09 11:13:59.662 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:13:59.662 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:13:59.662 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:13:59.663 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:13:59.663 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:13:59.664 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:13:59.665 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:13:59.665 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:13:59.665 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.665 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.666 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:13:59.666 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:13:59.666 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:13:59.666 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:13:59.726 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:13:59.726 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:59.726 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:59.726 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:59.726 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:59.726 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:59.727 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.727 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:13:59.727 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.727 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:13:59.728 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:59.728 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:59.728 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:13:59.728 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:13:59.729 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:13:59.729 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.729 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.729 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:13:59.729 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:13:59.729 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:13:59.729 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:13:59.831 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:13:59.831 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:13:59.831 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.831 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:13:59.831 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.832 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:13:59.832 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:13:59.832 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:13:59.832 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:13:59.832 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 168.5612ms.
2024-07-09 11:13:59.832 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:13:59.832 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:13:59.832 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:13:59.832 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:13:59.832 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:13:59.832 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:13:59.832 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 171.3504ms
2024-07-09 11:13:59.832 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:13:59.833 -04:00 [DBG] Connection id "0HN504SVN6V4G" completed keep alive response.
2024-07-09 11:13:59.833 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:13:59.833 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:13:59.833 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:13:59.833 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 176.9071ms
2024-07-09 11:13:59.849 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 11:13:59.849 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:13:59.849 -04:00 [DBG] POST requests are not supported
2024-07-09 11:13:59.850 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 11:13:59.850 -04:00 [DBG] Request did not match any endpoints
2024-07-09 11:13:59.850 -04:00 [DBG] Connection id "0HN504SVN6V4G" completed keep alive response.
2024-07-09 11:13:59.850 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 1.1197ms
2024-07-09 11:13:59.851 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 11:13:59.851 -04:00 [DBG] Connection id "0HN504SVN6V4G", Request id "0HN504SVN6V4G:00000003": started reading request body.
2024-07-09 11:13:59.851 -04:00 [DBG] Connection id "0HN504SVN6V4G", Request id "0HN504SVN6V4G:00000003": done reading request body.
2024-07-09 11:14:38.467 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:14:38.469 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:14:38.469 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:14:38.469 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:14:38.469 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:14:38.469 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:14:38.469 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:14:38.469 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:14:38.469 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:14:38.469 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:14:38.469 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:14:38.469 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:14:38.469 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:14:38.469 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:14:38.470 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:14:38.470 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:14:38.470 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:14:38.470 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:14:38.470 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:14:38.470 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:14:38.470 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:14:38.470 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:14:38.470 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:14:38.470 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:14:38.470 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:14:38.470 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:14:38.470 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:14:38.470 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:14:38.471 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:14:38.472 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:14:38.472 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:14:38.472 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:38.472 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:38.472 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:14:38.472 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:14:38.472 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:14:38.472 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:14:38.535 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:14:38.535 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:38.535 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:38.535 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:14:38.535 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:38.535 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:14:38.535 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.1802ms.
2024-07-09 11:14:38.535 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:14:38.535 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:14:38.535 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:14:38.535 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:14:38.535 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:14:38.535 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:14:38.536 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 66.463ms
2024-07-09 11:14:38.536 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:14:38.536 -04:00 [DBG] Connection id "0HN504SVN6V4G" completed keep alive response.
2024-07-09 11:14:38.536 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:14:38.536 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:38.536 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:14:38.536 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 69.351ms
2024-07-09 11:14:42.798 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:14:42.798 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:14:42.798 -04:00 [DBG] POST requests are not supported
2024-07-09 11:14:42.798 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:14:42.798 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:14:42.798 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:14:42.798 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:14:42.798 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:14:42.798 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:14:42.799 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:14:42.799 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:14:42.799 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:14:42.799 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:14:42.799 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:14:42.799 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:14:42.799 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:14:42.799 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:14:42.799 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:14:42.799 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:14:42.799 -04:00 [DBG] Connection id "0HN504SVN6V4G", Request id "0HN504SVN6V4G:00000005": started reading request body.
2024-07-09 11:14:42.799 -04:00 [DBG] Connection id "0HN504SVN6V4G", Request id "0HN504SVN6V4G:00000005": done reading request body.
2024-07-09 11:14:42.800 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:14:42.800 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:14:42.800 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:14:42.800 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:14:42.800 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:14:42.800 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:14:42.800 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:14:42.800 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:14:42.800 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.801 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.801 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:14:42.801 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:14:42.801 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:14:42.801 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:14:42.860 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:14:42.861 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:42.861 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:42.861 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:42.861 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:42.861 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:42.861 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.861 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:14:42.861 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.861 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:14:42.861 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:42.861 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:42.862 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:14:42.862 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:14:42.862 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:14:42.862 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.862 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.862 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:14:42.862 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:14:42.862 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:14:42.862 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:14:42.927 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:14:42.927 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:14:42.927 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.927 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:14:42.927 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.927 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:14:42.927 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:14:42.927 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:14:42.927 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:14:42.927 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 127.7715ms.
2024-07-09 11:14:42.928 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:14:42.928 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:14:42.928 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:14:42.928 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:14:42.928 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:14:42.928 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:14:42.928 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 129.2889ms
2024-07-09 11:14:42.928 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:14:42.928 -04:00 [DBG] Connection id "0HN504SVN6V4G" completed keep alive response.
2024-07-09 11:14:42.928 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:14:42.928 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:14:42.928 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:14:42.928 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 130.4519ms
2024-07-09 11:15:09.660 -04:00 [DBG] Connection id "0HN504SVN6V4G" received FIN.
2024-07-09 11:15:09.662 -04:00 [DBG] Connection id "0HN504SVN6V4G" disconnecting.
2024-07-09 11:15:09.662 -04:00 [DBG] Connection id "0HN504SVN6V4G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:15:09.663 -04:00 [DBG] Connection id "0HN504SVN6V4G" stopped.
2024-07-09 11:17:59.601 -04:00 [DBG] Connection id "0HN504SVN6V4H" accepted.
2024-07-09 11:17:59.602 -04:00 [DBG] Connection id "0HN504SVN6V4H" started.
2024-07-09 11:17:59.604 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:17:59.604 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:17:59.605 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:17:59.605 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:17:59.605 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:17:59.605 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:17:59.606 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:17:59.611 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:17:59.611 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:17:59.611 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:17:59.612 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:17:59.612 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:17:59.612 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:17:59.612 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:17:59.612 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:17:59.612 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:17:59.612 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:17:59.612 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:17:59.612 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:17:59.612 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:17:59.612 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:17:59.612 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:17:59.612 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:17:59.612 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:17:59.612 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:17:59.612 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:17:59.613 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:17:59.613 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:17:59.614 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:17:59.615 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:17:59.615 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:17:59.615 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:17:59.615 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:17:59.615 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:17:59.615 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:17:59.615 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:17:59.616 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:17:59.676 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:17:59.677 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:17:59.677 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:17:59.677 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:17:59.677 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:17:59.677 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:17:59.677 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64.6155ms.
2024-07-09 11:17:59.677 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:17:59.677 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:17:59.677 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:17:59.677 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:17:59.678 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:17:59.678 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:17:59.678 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 66.3744ms
2024-07-09 11:17:59.678 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:17:59.678 -04:00 [DBG] Connection id "0HN504SVN6V4H" completed keep alive response.
2024-07-09 11:17:59.678 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:17:59.678 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:17:59.678 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:17:59.678 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 74.3668ms
2024-07-09 11:18:04.823 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:18:04.823 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:18:04.823 -04:00 [DBG] POST requests are not supported
2024-07-09 11:18:04.825 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:18:04.825 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:18:04.825 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:18:04.825 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:18:04.828 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:18:04.828 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:18:04.828 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:18:04.828 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:18:04.828 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:18:04.828 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:18:04.828 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:18:04.828 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:18:04.828 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:18:04.828 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:18:04.828 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:18:04.828 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:18:04.828 -04:00 [DBG] Connection id "0HN504SVN6V4H", Request id "0HN504SVN6V4H:00000002": started reading request body.
2024-07-09 11:18:04.828 -04:00 [DBG] Connection id "0HN504SVN6V4H", Request id "0HN504SVN6V4H:00000002": done reading request body.
2024-07-09 11:18:04.829 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:18:04.829 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:18:04.829 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:18:04.829 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:18:04.829 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:18:04.830 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:18:04.830 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:18:04.830 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:18:04.830 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.830 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.830 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:18:04.830 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:18:04.830 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:18:04.830 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:18:04.892 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:18:04.892 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:18:04.893 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:18:04.893 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:18:04.893 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:18:04.893 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:18:04.893 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.893 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:18:04.893 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.893 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:18:04.893 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:18:04.893 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:18:04.894 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:18:04.894 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:18:04.894 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:18:04.895 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.895 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.895 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:18:04.895 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:18:04.895 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:18:04.895 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:18:04.975 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:18:04.975 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:18:04.975 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.975 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:18:04.975 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.976 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:18:04.976 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:18:04.976 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:18:04.976 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:18:04.976 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 146.525ms.
2024-07-09 11:18:04.976 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:18:04.976 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:18:04.976 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:18:04.976 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:18:04.976 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:18:04.976 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:18:04.976 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 148.4581ms
2024-07-09 11:18:04.976 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:18:04.976 -04:00 [DBG] Connection id "0HN504SVN6V4H" completed keep alive response.
2024-07-09 11:18:04.976 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:18:04.976 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:18:04.976 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:18:04.976 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 153.9708ms
2024-07-09 11:18:58.234 -04:00 [DBG] Connection id "0HN504SVN6V4H" received FIN.
2024-07-09 11:18:58.236 -04:00 [DBG] Connection id "0HN504SVN6V4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:18:58.237 -04:00 [DBG] Connection id "0HN504SVN6V4H" disconnecting.
2024-07-09 11:18:58.238 -04:00 [DBG] Connection id "0HN504SVN6V4H" stopped.
2024-07-09 11:19:20.560 -04:00 [DBG] Connection id "0HN504SVN6V4I" accepted.
2024-07-09 11:19:20.560 -04:00 [DBG] Connection id "0HN504SVN6V4I" started.
2024-07-09 11:19:20.563 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:19:20.563 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:19:20.563 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:19:20.563 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:19:20.563 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:19:20.563 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:19:20.564 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:19:20.564 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:19:20.564 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:19:20.564 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:19:20.564 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:19:20.564 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:19:20.564 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:19:20.564 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:19:20.565 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:19:20.565 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:19:20.565 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:19:20.565 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:19:20.565 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:19:20.565 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:19:20.565 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:19:20.565 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:19:20.565 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:19:20.565 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:19:20.565 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:19:20.565 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:19:20.565 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:19:20.566 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:19:20.568 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:19:20.570 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:19:20.570 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:19:20.570 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:20.571 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:20.571 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:19:20.571 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:19:20.571 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:19:20.572 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:19:20.633 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:19:20.634 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:20.634 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:20.634 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:19:20.634 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:20.634 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:19:20.635 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.8275ms.
2024-07-09 11:19:20.635 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:19:20.635 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:19:20.635 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:19:20.635 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:19:20.635 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:19:20.635 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:19:20.635 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 71.366ms
2024-07-09 11:19:20.635 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:19:20.635 -04:00 [DBG] Connection id "0HN504SVN6V4I" completed keep alive response.
2024-07-09 11:19:20.635 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:19:20.635 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:20.635 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:19:20.636 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 73.196ms
2024-07-09 11:19:26.483 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:19:26.486 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:19:26.486 -04:00 [DBG] POST requests are not supported
2024-07-09 11:19:26.486 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:19:26.486 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:19:26.486 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:19:26.486 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:19:26.486 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:19:26.486 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:19:26.486 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:19:26.486 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:19:26.486 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:19:26.486 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:19:26.486 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:19:26.486 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:19:26.487 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:19:26.487 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:19:26.487 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:19:26.487 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:19:26.488 -04:00 [DBG] Connection id "0HN504SVN6V4I", Request id "0HN504SVN6V4I:00000002": started reading request body.
2024-07-09 11:19:26.488 -04:00 [DBG] Connection id "0HN504SVN6V4I", Request id "0HN504SVN6V4I:00000002": done reading request body.
2024-07-09 11:19:26.488 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:19:26.488 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:19:26.488 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:19:26.489 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:19:26.489 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:19:26.489 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:19:26.490 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:19:26.490 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:19:26.490 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.490 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.490 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:19:26.490 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:19:26.490 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:19:26.490 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:19:26.550 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:19:26.551 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:26.551 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:26.551 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:26.551 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:26.551 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:26.551 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.551 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 11:19:26.552 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.552 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:19:26.552 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:26.552 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:26.552 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:19:26.552 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:19:26.553 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:19:26.553 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.553 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.554 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:19:26.554 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:19:26.554 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:19:26.554 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:19:26.616 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:19:26.616 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:19:26.617 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.617 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:19:26.617 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.617 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:19:26.617 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:19:26.617 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:19:26.617 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:19:26.617 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 128.2882ms.
2024-07-09 11:19:26.617 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:19:26.617 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:19:26.617 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:19:26.617 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:19:26.617 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:19:26.617 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:19:26.617 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 130.9632ms
2024-07-09 11:19:26.617 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:19:26.617 -04:00 [DBG] Connection id "0HN504SVN6V4I" completed keep alive response.
2024-07-09 11:19:26.617 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:19:26.617 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:19:26.617 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:19:26.617 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 53 application/json; charset=utf-8 134.6305ms
2024-07-09 11:20:35.562 -04:00 [DBG] Connection id "0HN504SVN6V4I" received FIN.
2024-07-09 11:20:35.564 -04:00 [DBG] Connection id "0HN504SVN6V4I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:20:35.565 -04:00 [DBG] Connection id "0HN504SVN6V4I" disconnecting.
2024-07-09 11:20:35.565 -04:00 [DBG] Connection id "0HN504SVN6V4I" stopped.
2024-07-09 11:24:09.263 -04:00 [DBG] Connection id "0HN504SVN6V4J" accepted.
2024-07-09 11:24:09.264 -04:00 [DBG] Connection id "0HN504SVN6V4J" started.
2024-07-09 11:24:09.265 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:24:09.266 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:24:09.266 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:24:09.266 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:24:09.266 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:24:09.266 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:24:09.267 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:24:09.267 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:24:09.267 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:24:09.267 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:24:09.267 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:24:09.267 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:24:09.267 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:24:09.267 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:24:09.268 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:24:09.268 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:24:09.268 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:24:09.268 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:24:09.268 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:24:09.268 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:24:09.268 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:24:09.268 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:24:09.268 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:24:09.268 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:24:09.268 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:24:09.268 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:24:09.268 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:24:09.269 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:24:09.271 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:24:09.272 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:24:09.273 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:24:09.273 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:09.273 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:09.273 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:24:09.273 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:24:09.273 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:24:09.274 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:24:09.335 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:24:09.335 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:09.336 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:09.336 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 11:24:09.336 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:09.336 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:24:09.336 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.6866ms.
2024-07-09 11:24:09.337 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:24:09.337 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:24:09.337 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:24:09.337 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:24:09.337 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:24:09.337 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:24:09.337 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 70.2816ms
2024-07-09 11:24:09.337 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:24:09.338 -04:00 [DBG] Connection id "0HN504SVN6V4J" completed keep alive response.
2024-07-09 11:24:09.338 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:24:09.338 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:09.338 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:24:09.338 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 72.6852ms
2024-07-09 11:24:13.860 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:24:13.860 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:24:13.860 -04:00 [DBG] POST requests are not supported
2024-07-09 11:24:13.860 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:24:13.860 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:24:13.860 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:24:13.860 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:24:13.860 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:24:13.860 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:24:13.860 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:24:13.860 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:24:13.860 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:24:13.860 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:24:13.860 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:24:13.860 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:24:13.860 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:24:13.860 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:24:13.861 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:24:13.861 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:24:13.861 -04:00 [DBG] Connection id "0HN504SVN6V4J", Request id "0HN504SVN6V4J:00000002": started reading request body.
2024-07-09 11:24:13.861 -04:00 [DBG] Connection id "0HN504SVN6V4J", Request id "0HN504SVN6V4J:00000002": done reading request body.
2024-07-09 11:24:13.861 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:24:13.861 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:24:13.861 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:24:13.862 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:24:13.862 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:24:13.862 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:24:13.862 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:24:13.862 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:24:13.862 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:13.863 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:13.863 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:24:13.863 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:24:13.863 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:24:13.863 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:24:13.922 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:24:13.922 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:13.922 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:13.922 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:13.922 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:13.923 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:13.923 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:13.923 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:24:13.923 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:13.923 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:24:13.923 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:13.924 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:13.924 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:24:13.924 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:24:13.924 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:24:13.925 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:13.925 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:13.925 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:24:13.925 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:24:13.925 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:24:13.925 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:24:14.022 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:24:14.022 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:24:14.022 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:14.022 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:24:14.022 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:14.022 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:24:14.022 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:24:14.022 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:24:14.022 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:24:14.022 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 160.8242ms.
2024-07-09 11:24:14.023 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:24:14.023 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:24:14.023 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:24:14.023 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:24:14.023 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:24:14.023 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:24:14.023 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 162.5212ms
2024-07-09 11:24:14.023 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:24:14.023 -04:00 [DBG] Connection id "0HN504SVN6V4J" completed keep alive response.
2024-07-09 11:24:14.023 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:24:14.023 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:24:14.023 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:24:14.023 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 53 application/json; charset=utf-8 162.9998ms
2024-07-09 11:24:14.031 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 11:24:14.031 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:24:14.031 -04:00 [DBG] POST requests are not supported
2024-07-09 11:24:14.031 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 11:24:14.031 -04:00 [DBG] Request did not match any endpoints
2024-07-09 11:24:14.032 -04:00 [DBG] Connection id "0HN504SVN6V4J" completed keep alive response.
2024-07-09 11:24:14.032 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 0.4578ms
2024-07-09 11:24:14.032 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 11:24:14.032 -04:00 [DBG] Connection id "0HN504SVN6V4J", Request id "0HN504SVN6V4J:00000003": started reading request body.
2024-07-09 11:24:14.032 -04:00 [DBG] Connection id "0HN504SVN6V4J", Request id "0HN504SVN6V4J:00000003": done reading request body.
2024-07-09 11:25:20.996 -04:00 [DBG] Connection id "0HN504SVN6V4J" received FIN.
2024-07-09 11:25:20.998 -04:00 [DBG] Connection id "0HN504SVN6V4J" disconnecting.
2024-07-09 11:25:20.998 -04:00 [DBG] Connection id "0HN504SVN6V4J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:25:20.999 -04:00 [DBG] Connection id "0HN504SVN6V4J" stopped.
2024-07-09 11:25:56.331 -04:00 [DBG] Connection id "0HN504SVN6V4K" accepted.
2024-07-09 11:25:56.331 -04:00 [DBG] Connection id "0HN504SVN6V4K" started.
2024-07-09 11:25:56.334 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:25:56.335 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:25:56.335 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:25:56.335 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:25:56.335 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:25:56.336 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:25:56.336 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:25:56.341 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:25:56.341 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:25:56.341 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:25:56.341 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:25:56.341 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:25:56.341 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:25:56.341 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:25:56.342 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:25:56.342 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:25:56.342 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:25:56.342 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:25:56.342 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:25:56.342 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:25:56.342 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:25:56.342 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:25:56.342 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:25:56.342 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:25:56.342 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:25:56.342 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:25:56.342 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:25:56.342 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:25:56.344 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:25:56.346 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:25:56.347 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:25:56.347 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:25:56.347 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:25:56.347 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:25:56.347 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:25:56.348 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:25:56.348 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:25:56.409 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:25:56.409 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:25:56.410 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:25:56.410 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:25:56.410 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:25:56.410 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:25:56.410 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.4062ms.
2024-07-09 11:25:56.410 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:25:56.410 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:25:56.410 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:25:56.410 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:25:56.410 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:25:56.410 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:25:56.410 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 68.9857ms
2024-07-09 11:25:56.410 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:25:56.411 -04:00 [DBG] Connection id "0HN504SVN6V4K" completed keep alive response.
2024-07-09 11:25:56.411 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:25:56.411 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:25:56.411 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:25:56.411 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 76.4212ms
2024-07-09 11:26:01.959 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:26:01.959 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:26:01.959 -04:00 [DBG] POST requests are not supported
2024-07-09 11:26:01.962 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:26:01.962 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:26:01.962 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:26:01.962 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:26:01.964 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:26:01.964 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:26:01.964 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:26:01.965 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:26:01.965 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:26:01.965 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:26:01.965 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:26:01.965 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:26:01.965 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:26:01.965 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:26:01.965 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:26:01.965 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:26:01.965 -04:00 [DBG] Connection id "0HN504SVN6V4K", Request id "0HN504SVN6V4K:00000002": started reading request body.
2024-07-09 11:26:01.965 -04:00 [DBG] Connection id "0HN504SVN6V4K", Request id "0HN504SVN6V4K:00000002": done reading request body.
2024-07-09 11:26:01.965 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:26:01.965 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:26:01.965 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:26:01.966 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:26:01.966 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:26:01.966 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:26:01.967 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:26:01.967 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:26:01.967 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:01.967 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:01.967 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:26:01.967 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:26:01.967 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:26:01.967 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:26:02.029 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:26:02.030 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:26:02.030 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:26:02.030 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:26:02.030 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:26:02.030 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:26:02.030 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:02.030 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:26:02.030 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:02.030 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:26:02.031 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:26:02.031 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:26:02.031 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:26:02.031 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:26:02.032 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:26:02.033 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:02.033 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:02.033 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:26:02.033 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:26:02.033 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:26:02.033 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:26:02.126 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:26:02.126 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:26:02.126 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:02.127 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:26:02.127 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:02.127 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:26:02.127 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:26:02.127 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:26:02.127 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:26:02.127 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 161.0274ms.
2024-07-09 11:26:02.127 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:26:02.127 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:26:02.127 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:26:02.127 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:26:02.127 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:26:02.127 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:26:02.127 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 162.7054ms
2024-07-09 11:26:02.127 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:26:02.127 -04:00 [DBG] Connection id "0HN504SVN6V4K" completed keep alive response.
2024-07-09 11:26:02.127 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:26:02.127 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:26:02.127 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:26:02.127 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 53 application/json; charset=utf-8 168.2345ms
2024-07-09 11:26:05.064 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 11:26:05.064 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:26:05.064 -04:00 [DBG] POST requests are not supported
2024-07-09 11:26:05.064 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 11:26:05.064 -04:00 [DBG] Request did not match any endpoints
2024-07-09 11:26:05.064 -04:00 [DBG] Connection id "0HN504SVN6V4K" completed keep alive response.
2024-07-09 11:26:05.064 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 1.276ms
2024-07-09 11:26:05.065 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 11:26:05.065 -04:00 [DBG] Connection id "0HN504SVN6V4K", Request id "0HN504SVN6V4K:00000003": started reading request body.
2024-07-09 11:26:05.065 -04:00 [DBG] Connection id "0HN504SVN6V4K", Request id "0HN504SVN6V4K:00000003": done reading request body.
2024-07-09 11:27:11.349 -04:00 [DBG] Connection id "0HN504SVN6V4K" received FIN.
2024-07-09 11:27:11.351 -04:00 [DBG] Connection id "0HN504SVN6V4K" disconnecting.
2024-07-09 11:27:11.351 -04:00 [DBG] Connection id "0HN504SVN6V4K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:27:11.352 -04:00 [DBG] Connection id "0HN504SVN6V4K" stopped.
2024-07-09 11:31:02.307 -04:00 [DBG] Connection id "0HN504SVN6V4L" accepted.
2024-07-09 11:31:02.308 -04:00 [DBG] Connection id "0HN504SVN6V4L" started.
2024-07-09 11:31:02.311 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:31:02.311 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:31:02.312 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:31:02.312 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:31:02.312 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:31:02.312 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:31:02.312 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:31:02.312 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:31:02.312 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:31:02.313 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:31:02.313 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:31:02.313 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:31:02.313 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:31:02.313 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:31:02.313 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:31:02.313 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:31:02.314 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:31:02.314 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:31:02.314 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:31:02.314 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:31:02.314 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:31:02.314 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:31:02.314 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:31:02.314 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:31:02.314 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:31:02.314 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:31:02.314 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:31:02.314 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:31:02.316 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:31:02.317 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:31:02.317 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:31:02.318 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:02.318 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:02.318 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:31:02.318 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:02.318 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:02.318 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:31:02.381 -04:00 [INF] Executed DbCommand (63ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:31:02.382 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:02.382 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:02.382 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:31:02.382 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:02.382 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:31:02.382 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.2074ms.
2024-07-09 11:31:02.383 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:31:02.383 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:31:02.383 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:31:02.383 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:31:02.383 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:31:02.383 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:31:02.383 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 70.4528ms
2024-07-09 11:31:02.383 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:31:02.383 -04:00 [DBG] Connection id "0HN504SVN6V4L" completed keep alive response.
2024-07-09 11:31:02.383 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:31:02.383 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:02.383 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:31:02.383 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 41 application/json; charset=utf-8 72.7892ms
2024-07-09 11:31:05.281 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:31:05.281 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:31:05.281 -04:00 [DBG] POST requests are not supported
2024-07-09 11:31:05.282 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:31:05.282 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:31:05.282 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:31:05.282 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:31:05.282 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:31:05.282 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:31:05.282 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:31:05.282 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:31:05.282 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:31:05.282 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:31:05.282 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:31:05.282 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:31:05.282 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:31:05.282 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:31:05.282 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:31:05.282 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:31:05.282 -04:00 [DBG] Connection id "0HN504SVN6V4L", Request id "0HN504SVN6V4L:00000002": started reading request body.
2024-07-09 11:31:05.283 -04:00 [DBG] Connection id "0HN504SVN6V4L", Request id "0HN504SVN6V4L:00000002": done reading request body.
2024-07-09 11:31:05.283 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:31:05.283 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:31:05.283 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:31:05.283 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:31:05.284 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:31:05.284 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:31:05.284 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:31:05.284 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:31:05.284 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.285 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.285 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:31:05.285 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:05.285 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:05.285 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:31:05.346 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:31:05.347 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:05.347 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:05.347 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:05.347 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:05.347 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:05.347 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.347 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:31:05.347 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.348 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:31:05.348 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:05.348 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:05.348 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:31:05.348 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:31:05.348 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:31:05.349 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.349 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.349 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:31:05.349 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:05.349 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:05.349 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:31:05.438 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:31:05.439 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:05.439 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.439 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:31:05.439 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.439 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:31:05.439 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:05.439 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:31:05.439 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:31:05.439 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 155.6114ms.
2024-07-09 11:31:05.439 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:31:05.439 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:31:05.439 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:31:05.439 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:31:05.439 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:31:05.439 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:31:05.440 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 157.8994ms
2024-07-09 11:31:05.440 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:31:05.440 -04:00 [DBG] Connection id "0HN504SVN6V4L" completed keep alive response.
2024-07-09 11:31:05.440 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:31:05.440 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:05.440 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:31:05.440 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 53 application/json; charset=utf-8 158.6526ms
2024-07-09 11:31:07.141 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/procesarPago - application/json; charset=utf-8 null
2024-07-09 11:31:07.141 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:31:07.141 -04:00 [DBG] POST requests are not supported
2024-07-09 11:31:07.141 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/procesarPago'
2024-07-09 11:31:07.141 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.ProcesarPago (CRUD)' with route pattern 'api/Factura/procesarPago' is valid for the request path '/api/Factura/procesarPago'
2024-07-09 11:31:07.141 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.ProcesarPago (CRUD)'
2024-07-09 11:31:07.141 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.ProcesarPago (CRUD)'
2024-07-09 11:31:07.143 -04:00 [INF] Route matched with {action = "ProcesarPago", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ProcesarPago(CRUD.Controllers.PagoRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:31:07.143 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:31:07.143 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:31:07.143 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:31:07.143 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:31:07.143 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:31:07.143 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:31:07.143 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:31:07.143 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.PagoRequest' ...
2024-07-09 11:31:07.143 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.PagoRequest' using the name '' in request data ...
2024-07-09 11:31:07.143 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:31:07.143 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:31:07.143 -04:00 [DBG] Connection id "0HN504SVN6V4L", Request id "0HN504SVN6V4L:00000003": started reading request body.
2024-07-09 11:31:07.143 -04:00 [DBG] Connection id "0HN504SVN6V4L", Request id "0HN504SVN6V4L:00000003": done reading request body.
2024-07-09 11:31:07.146 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.PagoRequest'.
2024-07-09 11:31:07.146 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.PagoRequest'.
2024-07-09 11:31:07.146 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.PagoRequest' ...
2024-07-09 11:31:07.147 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.PagoRequest'.
2024-07-09 11:31:07.147 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.ProcesarPago (CRUD) - Validation state: "Valid"
2024-07-09 11:31:07.151 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:31:07.152 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .FirstOrDefault(e => EF.Property<int>(e, "IdFactura") == __p_0)'
2024-07-09 11:31:07.155 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Factura>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Factura.IdFactura (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Factura.CodigoEstudiante (int) Required FK Index, 1], [Property: Factura.CuentaPorPagarIdCuentaPorPagar (no field, int?) Shadow FK Index, 2], [Property: Factura.Estado (string), 3], [Property: Factura.FechaCreacion (DateTime) Required, 4], [Property: Factura.FechaPago (DateTime?), 5], [Property: Factura.MarcaTarjeta (string), 6], [Property: Factura.MetodoPago (string), 7], [Property: Factura.MontoTotal (decimal) Required, 8], [Property: Factura.Periodo (string) Required, 9], [Property: Factura.StripeCustomerId (string), 10], [Property: Factura.StripePaymentIntentId (string), 11], [Property: Factura.UltimosDigitosTarjeta (string), 12] }
            SELECT TOP(1) f.IdFactura, f.CodigoEstudiante, f.CuentaPorPagarIdCuentaPorPagar, f.Estado, f.FechaCreacion, f.FechaPago, f.MarcaTarjeta, f.MetodoPago, f.MontoTotal, f.Periodo, f.StripeCustomerId, f.StripePaymentIntentId, f.UltimosDigitosTarjeta
            FROM Facturas AS f
            WHERE f.IdFactura == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Factura entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Factura instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Factura);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Factura.IdFactura PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Factura").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Factura)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                                return 
                                {
                                    Factura instance;
                                    instance = new Factura();
                                    instance.<IdFactura>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Estado>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(4);
                                    instance.<FechaPago>k__BackingField = dataReader.IsDBNull(5) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(5);
                                    instance.<MarcaTarjeta>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MetodoPago>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<MontoTotal>k__BackingField = dataReader.GetDecimal(8);
                                    instance.<Periodo>k__BackingField = dataReader.GetString(9);
                                    instance.<StripeCustomerId>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<StripePaymentIntentId>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<UltimosDigitosTarjeta>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Factura)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-09 11:31:07.156 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:31:07.156 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:31:07.156 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:07.156 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:07.156 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:31:07.156 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:07.156 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:07.156 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta]
FROM [Facturas] AS [f]
WHERE [f].[IdFactura] = @__p_0
2024-07-09 11:31:07.217 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta]
FROM [Facturas] AS [f]
WHERE [f].[IdFactura] = @__p_0
2024-07-09 11:31:07.217 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:07.217 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:07.217 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:31:07.217 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:07.217 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:31:08.689 -04:00 [DBG] Compiling query expression: 
'DbSet<CuentaPorPagar>()
    .Where(c => c.CodigoEstudiante == __factura_CodigoEstudiante_0 && c.EstudianteMateria.PeriodoCursado == __factura_Periodo_1)'
2024-07-09 11:31:08.691 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CuentaPorPagar>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CuentaPorPagar.IdCuentaPorPagar (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CuentaPorPagar.CodigoEstudiante (int) Required FK Index, 1], [Property: CuentaPorPagar.CodigoMateria (string) Required FK Index, 2], [Property: CuentaPorPagar.Estado (string) Required, 3], [Property: CuentaPorPagar.MontoTotalaPagar (decimal?), 4] }
        SELECT c.IdCuentaPorPagar, c.CodigoEstudiante, c.CodigoMateria, c.Estado, c.MontoTotalaPagar
        FROM CuentaPorPagars AS c
        INNER JOIN EstudianteMaterias AS e ON (c.CodigoMateria == e.CodigoMateria) && (c.CodigoEstudiante == e.CodigoEstudiante)
        WHERE (c.CodigoEstudiante == @__factura_CodigoEstudiante_0) && (e.PeriodoCursado == @__factura_Periodo_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CuentaPorPagar entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CuentaPorPagar instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CuentaPorPagar);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CuentaPorPagar.IdCuentaPorPagar PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CuentaPorPagar)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]: 
                        {
                            return 
                            {
                                CuentaPorPagar instance;
                                instance = new CuentaPorPagar();
                                instance.<IdCuentaPorPagar>k__BackingField = dataReader.GetInt32(0);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(2);
                                instance.<Estado>k__BackingField = dataReader.GetString(3);
                                instance.<MontoTotalaPagar>k__BackingField = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CuentaPorPagar)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 11:31:08.692 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.692 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.692 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:31:08.692 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:08.692 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:08.692 -04:00 [DBG] Executing DbCommand [Parameters=[@__factura_CodigoEstudiante_0='?' (DbType = Int32), @__factura_Periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__factura_CodigoEstudiante_0 AND [e].[PeriodoCursado] = @__factura_Periodo_1
2024-07-09 11:31:08.754 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__factura_CodigoEstudiante_0='?' (DbType = Int32), @__factura_Periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__factura_CodigoEstudiante_0 AND [e].[PeriodoCursado] = @__factura_Periodo_1
2024-07-09 11:31:08.754 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:08.754 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:08.754 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:08.754 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:08.754 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.754 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:31:08.754 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.754 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:31:08.754 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:31:08.754 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:31:08.755 -04:00 [DBG] The unchanged property 'Factura.Estado' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:08.755 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:08.756 -04:00 [DBG] The unchanged property 'Factura.FechaPago' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:08.756 -04:00 [DBG] The unchanged property 'Factura.MarcaTarjeta' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:08.756 -04:00 [DBG] The unchanged property 'Factura.MetodoPago' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:08.756 -04:00 [DBG] The unchanged property 'Factura.StripePaymentIntentId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:08.756 -04:00 [DBG] The unchanged property 'Factura.UltimosDigitosTarjeta' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:08.756 -04:00 [DBG] The unchanged property 'CuentaPorPagar.Estado' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:08.756 -04:00 [DBG] An entity of type 'CuentaPorPagar' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:08.756 -04:00 [DBG] The unchanged property 'CuentaPorPagar.MontoTotalaPagar' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:31:08.756 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:31:08.760 -04:00 [DBG] Executing 2 update commands as a batch.
2024-07-09 11:31:08.762 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.762 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.763 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-09 11:31:08.821 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-09 11:31:08.821 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:31:08.821 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:08.821 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:08.821 -04:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CuentaPorPagars] SET [Estado] = @p0, [MontoTotalaPagar] = @p1
OUTPUT 1
WHERE [IdCuentaPorPagar] = @p2;
UPDATE [Facturas] SET [Estado] = @p3, [FechaPago] = @p4, [MarcaTarjeta] = @p5, [MetodoPago] = @p6, [StripePaymentIntentId] = @p7, [UltimosDigitosTarjeta] = @p8
OUTPUT 1
WHERE [IdFactura] = @p9;
2024-07-09 11:31:08.885 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CuentaPorPagars] SET [Estado] = @p0, [MontoTotalaPagar] = @p1
OUTPUT 1
WHERE [IdCuentaPorPagar] = @p2;
UPDATE [Facturas] SET [Estado] = @p3, [FechaPago] = @p4, [MarcaTarjeta] = @p5, [MetodoPago] = @p6, [StripePaymentIntentId] = @p7, [UltimosDigitosTarjeta] = @p8
OUTPUT 1
WHERE [IdFactura] = @p9;
2024-07-09 11:31:08.887 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.887 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 11:31:08.887 -04:00 [DBG] Committing transaction.
2024-07-09 11:31:08.948 -04:00 [DBG] Committed transaction.
2024-07-09 11:31:08.948 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.948 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:31:08.948 -04:00 [DBG] Disposing transaction.
2024-07-09 11:31:08.950 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:08.950 -04:00 [DBG] An entity of type 'CuentaPorPagar' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:31:08.950 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 2 entities written to the database.
2024-07-09 11:31:08.950 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.ProcesarPago (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1803.882ms.
2024-07-09 11:31:08.951 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:31:08.951 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:31:08.951 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:31:08.951 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:31:08.951 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:31:08.951 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType19`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:31:08.952 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.ProcesarPago (CRUD) in 1808.9611ms
2024-07-09 11:31:08.952 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.ProcesarPago (CRUD)'
2024-07-09 11:31:08.952 -04:00 [DBG] Connection id "0HN504SVN6V4L" completed keep alive response.
2024-07-09 11:31:08.952 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:31:08.952 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:08.952 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:31:08.952 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/procesarPago - 200 64 application/json; charset=utf-8 1811.8622ms
2024-07-09 11:31:57.466 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:31:57.468 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:31:57.468 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:31:57.468 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:31:57.469 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:31:57.469 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:31:57.469 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:31:57.470 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:31:57.470 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:31:57.470 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:31:57.470 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:31:57.470 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:31:57.470 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:31:57.470 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:31:57.472 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:31:57.472 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:31:57.472 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:31:57.473 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:31:57.473 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:31:57.473 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:31:57.473 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:31:57.473 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:31:57.473 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:31:57.473 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:31:57.473 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:31:57.473 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:31:57.473 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:31:57.474 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:31:57.479 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:31:57.483 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:31:57.484 -04:00 [DBG] Created DbConnection. (1ms).
2024-07-09 11:31:57.484 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:57.484 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:57.485 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:31:57.485 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:57.485 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:31:57.485 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:31:57.547 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:31:57.547 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:57.547 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:31:57.548 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:57.548 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:31:57.548 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 73.2352ms.
2024-07-09 11:31:57.548 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:31:57.548 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:31:57.548 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:31:57.548 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:31:57.548 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:31:57.548 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:31:57.548 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 78.0559ms
2024-07-09 11:31:57.548 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:31:57.548 -04:00 [DBG] Connection id "0HN504SVN6V4L" completed keep alive response.
2024-07-09 11:31:57.549 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:31:57.549 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:31:57.549 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:31:57.549 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 79 application/json; charset=utf-8 82.9736ms
2024-07-09 11:33:02.317 -04:00 [DBG] Connection id "0HN504SVN6V4L" received FIN.
2024-07-09 11:33:02.319 -04:00 [DBG] Connection id "0HN504SVN6V4L" disconnecting.
2024-07-09 11:33:02.319 -04:00 [DBG] Connection id "0HN504SVN6V4L" stopped.
2024-07-09 11:33:02.320 -04:00 [DBG] Connection id "0HN504SVN6V4L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:33:04.989 -04:00 [DBG] Connection id "0HN504SVN6V4M" accepted.
2024-07-09 11:33:04.990 -04:00 [DBG] Connection id "0HN504SVN6V4M" started.
2024-07-09 11:33:04.993 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - null null
2024-07-09 11:33:04.995 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:04.996 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:33:04.997 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:33:04.997 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasEstudiante/{codigoEstudiante}/{periodo}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:33:04.997 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:33:04.997 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:04.997 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:04.998 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:33:05.005 -04:00 [INF] Route matched with {action = "GetMateriasEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMateriasEstudiante(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-07-09 11:33:05.005 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:05.005 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:05.005 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:05.005 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:05.005 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:05.005 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:33:05.006 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:33:05.006 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:05.007 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:33:05.007 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:05.007 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:05.007 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:05.007 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:05.007 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:05.007 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:33:05.007 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:05.007 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:05.007 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:05.007 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:05.008 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) - Validation state: "Valid"
2024-07-09 11:33:05.011 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:05.013 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:05.013 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:05.013 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:05.014 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:05.014 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:05.014 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:05.014 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:05.014 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:33:05.153 -04:00 [INF] Executed DbCommand (139ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:33:05.154 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:05.154 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:05.155 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:05.155 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:05.155 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 147.1789ms.
2024-07-09 11:33:05.155 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:05.155 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:05.155 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:05.155 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:05.155 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:05.155 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType10`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:05.156 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) in 151.1722ms
2024-07-09 11:33:05.156 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:33:05.156 -04:00 [DBG] Connection id "0HN504SVN6V4M" completed keep alive response.
2024-07-09 11:33:05.156 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:05.156 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:05.156 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:05.156 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - 200 1032 application/json; charset=utf-8 163.9771ms
2024-07-09 11:33:05.992 -04:00 [DBG] Connection id "0HN504SVN6V4M" received FIN.
2024-07-09 11:33:05.992 -04:00 [DBG] Connection id "0HN504SVN6V4M" disconnecting.
2024-07-09 11:33:05.996 -04:00 [DBG] Connection id "0HN504SVN6V4M" stopped.
2024-07-09 11:33:05.996 -04:00 [DBG] Connection id "0HN504SVN6V4M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:33:08.229 -04:00 [DBG] Connection id "0HN504SVN6V4N" accepted.
2024-07-09 11:33:08.229 -04:00 [DBG] Connection id "0HN504SVN6V4O" accepted.
2024-07-09 11:33:08.229 -04:00 [DBG] Connection id "0HN504SVN6V4O" started.
2024-07-09 11:33:08.230 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:33:08.230 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:08.230 -04:00 [DBG] OPTIONS requests are not supported
2024-07-09 11:33:08.230 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:33:08.230 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-09 11:33:08.230 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:08.230 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:08.230 -04:00 [DBG] The request is a preflight request.
2024-07-09 11:33:08.231 -04:00 [DBG] Connection id "0HN504SVN6V4O" completed keep alive response.
2024-07-09 11:33:08.231 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 204 null null 1.008ms
2024-07-09 11:33:08.232 -04:00 [DBG] Connection id "0HN504SVN6V4N" started.
2024-07-09 11:33:08.232 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:33:08.233 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:08.233 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:33:08.233 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:33:08.233 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:33:08.233 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:33:08.233 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:08.233 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:08.233 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:33:08.233 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:33:08.233 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:08.233 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:08.233 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:08.233 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:08.233 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:08.233 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:33:08.233 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:33:08.233 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:08.233 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:33:08.234 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:08.234 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:08.234 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:08.234 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:08.234 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:08.234 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:33:08.234 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:08.234 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:08.234 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:08.234 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:08.234 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:33:08.240 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:08.241 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:08.241 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:08.241 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:08.241 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:08.241 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:08.242 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:08.242 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:08.242 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:33:08.242 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:33:08.243 -04:00 [DBG] Successfully validated the token.
2024-07-09 11:33:08.244 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-09 11:33:08.244 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:33:08.244 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:33:08.244 -04:00 [DBG] Endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)' with route pattern 'api/CuentaPorPagar/cuentaporpagar' is valid for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:33:08.244 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:33:08.245 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:08.245 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:08.245 -04:00 [INF] Executing endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:33:08.248 -04:00 [INF] Route matched with {action = "GetCuentaPorPagar", controller = "CuentaPorPagar"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCuentaPorPagar(System.String, Int32) on controller CRUD.Controllers.CuentaPorPagarController (CRUD).
2024-07-09 11:33:08.248 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:08.248 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:08.248 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:08.248 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:08.248 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:08.248 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:33:08.248 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:33:08.249 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:08.249 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:33:08.249 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:08.249 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:08.249 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:08.249 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:08.249 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:08.249 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:33:08.249 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:08.249 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:08.249 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:08.249 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:08.249 -04:00 [INF] Executing action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) - Validation state: "Valid"
2024-07-09 11:33:08.250 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:08.251 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:08.251 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:08.251 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:08.354 -04:00 [INF] Executed DbCommand (112ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:33:08.354 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:08.354 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:08.354 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:08.354 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:08.354 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.4479ms.
2024-07-09 11:33:08.354 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:08.355 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:08.355 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:08.355 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:08.355 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:08.355 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:33:08.355 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 121.5778ms
2024-07-09 11:33:08.355 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:33:08.355 -04:00 [DBG] Connection id "0HN504SVN6V4N" completed keep alive response.
2024-07-09 11:33:08.355 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:08.355 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:08.355 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:08.355 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 79 application/json; charset=utf-8 122.4284ms
2024-07-09 11:33:10.986 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:10.987 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:10.987 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:10.987 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:10.987 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:33:10.994 -04:00 [DBG] Connection id "0HN504SVN6V4N" received FIN.
2024-07-09 11:33:10.994 -04:00 [DBG] Connection id "0HN504SVN6V4N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:33:10.994 -04:00 [DBG] Connection id "0HN504SVN6V4N" disconnecting.
2024-07-09 11:33:10.994 -04:00 [DBG] Connection id "0HN504SVN6V4N" stopped.
2024-07-09 11:33:11.047 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:33:11.047 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:11.047 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:11.047 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:11.048 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:11.048 -04:00 [INF] Executed action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2798.3897ms.
2024-07-09 11:33:11.048 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:11.048 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:11.048 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:11.048 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:11.048 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:11.048 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:11.048 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:11.048 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:11.048 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:11.048 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:11.048 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:11.048 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:11.048 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:33:11.109 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:33:11.109 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:11.109 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:11.109 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:11.109 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:11.109 -04:00 [INF] Executed action CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) in 2860.9599ms
2024-07-09 11:33:11.109 -04:00 [INF] Executed endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:33:11.109 -04:00 [DBG] Connection id "0HN504SVN6V4O" completed keep alive response.
2024-07-09 11:33:11.109 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:11.109 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:11.109 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:11.109 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 200 1525 application/json; charset=utf-8 2867.388ms
2024-07-09 11:33:14.616 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - null null
2024-07-09 11:33:14.616 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:14.616 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:33:14.618 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:33:14.618 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasEstudiante/{codigoEstudiante}/{periodo}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:33:14.618 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:33:14.618 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:14.618 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:14.618 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:33:14.618 -04:00 [INF] Route matched with {action = "GetMateriasEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMateriasEstudiante(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-07-09 11:33:14.618 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:14.618 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:14.618 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:14.618 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:14.618 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:14.618 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:33:14.618 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:33:14.619 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:14.619 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:33:14.619 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:14.619 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:14.619 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:14.619 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:14.619 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:14.619 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:33:14.619 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:14.619 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:14.619 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:14.619 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:14.619 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) - Validation state: "Valid"
2024-07-09 11:33:14.619 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:14.620 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:14.620 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:14.620 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:14.620 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:14.620 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:14.620 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:14.620 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:14.620 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:33:14.680 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:33:14.680 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:14.680 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:14.680 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:14.680 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:14.680 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 61.1542ms.
2024-07-09 11:33:14.680 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:14.680 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:14.680 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:14.680 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:14.680 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:14.680 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType10`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:14.680 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) in 61.8672ms
2024-07-09 11:33:14.680 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:33:14.680 -04:00 [DBG] Connection id "0HN504SVN6V4O" completed keep alive response.
2024-07-09 11:33:14.680 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:14.680 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:14.680 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:14.680 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - 200 1032 application/json; charset=utf-8 64.6049ms
2024-07-09 11:33:15.997 -04:00 [DBG] Connection id "0HN504SVN6V4O" received FIN.
2024-07-09 11:33:15.997 -04:00 [DBG] Connection id "0HN504SVN6V4O" disconnecting.
2024-07-09 11:33:15.997 -04:00 [DBG] Connection id "0HN504SVN6V4O" stopped.
2024-07-09 11:33:15.998 -04:00 [DBG] Connection id "0HN504SVN6V4O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:33:26.588 -04:00 [DBG] Connection id "0HN504SVN6V4P" accepted.
2024-07-09 11:33:26.589 -04:00 [DBG] Connection id "0HN504SVN6V4P" started.
2024-07-09 11:33:26.589 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/MateriaDocenteApi - null null
2024-07-09 11:33:26.589 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:26.589 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:33:26.589 -04:00 [DBG] 1 candidate(s) found for the request path '/api/MateriaDocenteApi'
2024-07-09 11:33:26.589 -04:00 [DBG] Endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)' with route pattern 'api/MateriaDocenteApi' is valid for the request path '/api/MateriaDocenteApi'
2024-07-09 11:33:26.589 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:33:26.590 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:26.590 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:26.590 -04:00 [INF] Executing endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:33:26.591 -04:00 [INF] Route matched with {action = "GetAllDocentesAndMaterias", controller = "MateriaDocente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CRUD.Models.MateriaDocente]] GetAllDocentesAndMaterias() on controller CRUD.Controllers.MateriaDocenteController (CRUD).
2024-07-09 11:33:26.592 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:26.592 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:26.592 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:26.592 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:26.592 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:26.592 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.MateriaDocenteController (CRUD)
2024-07-09 11:33:26.592 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.MateriaDocenteController (CRUD)
2024-07-09 11:33:26.592 -04:00 [INF] Executing action method CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD) - Validation state: "Valid"
2024-07-09 11:33:26.593 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:26.593 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:26.593 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:26.593 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:26.593 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:26.594 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:26.594 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:26.594 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:26.594 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[DocenteId], [m].[CodigoMateria], [m].[SeccionId], [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente], [m0].[CodigoMateria], [m0].[AreaAcademica], [m0].[AulaCodigoAula], [m0].[CreditosMateria], [m0].[NombreMateria], [m0].[TipoMateria], [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [MateriaDocentes] AS [m]
INNER JOIN [Docentes] AS [d] ON [m].[DocenteId] = [d].[CodigoDocente]
INNER JOIN [Materias] AS [m0] ON [m].[CodigoMateria] = [m0].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [m].[SeccionId] = [s].[CodigoSeccion]
2024-07-09 11:33:26.660 -04:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[DocenteId], [m].[CodigoMateria], [m].[SeccionId], [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente], [m0].[CodigoMateria], [m0].[AreaAcademica], [m0].[AulaCodigoAula], [m0].[CreditosMateria], [m0].[NombreMateria], [m0].[TipoMateria], [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [MateriaDocentes] AS [m]
INNER JOIN [Docentes] AS [d] ON [m].[DocenteId] = [d].[CodigoDocente]
INNER JOIN [Materias] AS [m0] ON [m].[CodigoMateria] = [m0].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [m].[SeccionId] = [s].[CodigoSeccion]
2024-07-09 11:33:26.660 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.661 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.661 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.661 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.661 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.662 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.663 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.663 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.663 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.663 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.663 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.664 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.664 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.664 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:26.664 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:26.664 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 4ms reading results.
2024-07-09 11:33:26.664 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:26.664 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:26.665 -04:00 [INF] Executed action method CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.2995ms.
2024-07-09 11:33:26.665 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:26.665 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:26.665 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:26.665 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:26.665 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:26.665 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CRUD.Models.MateriaDocente, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:26.666 -04:00 [INF] Executed action CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD) in 73.8957ms
2024-07-09 11:33:26.666 -04:00 [INF] Executed endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:33:26.666 -04:00 [DBG] Connection id "0HN504SVN6V4P" completed keep alive response.
2024-07-09 11:33:26.666 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:26.666 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:26.666 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:26.666 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/MateriaDocenteApi - 200 4852 application/json; charset=utf-8 76.8588ms
2024-07-09 11:33:30.995 -04:00 [DBG] Connection id "0HN504SVN6V4P" received FIN.
2024-07-09 11:33:30.995 -04:00 [DBG] Connection id "0HN504SVN6V4P" disconnecting.
2024-07-09 11:33:30.995 -04:00 [DBG] Connection id "0HN504SVN6V4P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:33:30.997 -04:00 [DBG] Connection id "0HN504SVN6V4P" stopped.
2024-07-09 11:33:31.369 -04:00 [DBG] Connection id "0HN504SVN6V4Q" accepted.
2024-07-09 11:33:31.370 -04:00 [DBG] Connection id "0HN504SVN6V4Q" started.
2024-07-09 11:33:31.370 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/EstudianteMateriaApi/SelectSeccion?estudianteId=1949999&seccionId=IDL329-01 - null 0
2024-07-09 11:33:31.371 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:31.371 -04:00 [DBG] POST requests are not supported
2024-07-09 11:33:31.371 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/SelectSeccion'
2024-07-09 11:33:31.371 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)' with route pattern 'api/EstudianteMateriaApi/SelectSeccion' is valid for the request path '/api/EstudianteMateriaApi/SelectSeccion'
2024-07-09 11:33:31.371 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-07-09 11:33:31.372 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:31.372 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:31.372 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-07-09 11:33:31.378 -04:00 [INF] Route matched with {action = "SelectSeccion", controller = "EstudianteMateria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SelectSeccion(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-07-09 11:33:31.379 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:31.379 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:31.379 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:31.379 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:31.379 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:31.379 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:33:31.380 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:33:31.380 -04:00 [DBG] Attempting to bind parameter 'estudianteId' of type 'System.Int32' ...
2024-07-09 11:33:31.380 -04:00 [DBG] Attempting to bind parameter 'estudianteId' of type 'System.Int32' using the name 'estudianteId' in request data ...
2024-07-09 11:33:31.380 -04:00 [DBG] Done attempting to bind parameter 'estudianteId' of type 'System.Int32'.
2024-07-09 11:33:31.380 -04:00 [DBG] Done attempting to bind parameter 'estudianteId' of type 'System.Int32'.
2024-07-09 11:33:31.380 -04:00 [DBG] Attempting to validate the bound parameter 'estudianteId' of type 'System.Int32' ...
2024-07-09 11:33:31.380 -04:00 [DBG] Done attempting to validate the bound parameter 'estudianteId' of type 'System.Int32'.
2024-07-09 11:33:31.380 -04:00 [DBG] Attempting to bind parameter 'seccionId' of type 'System.String' ...
2024-07-09 11:33:31.380 -04:00 [DBG] Attempting to bind parameter 'seccionId' of type 'System.String' using the name 'seccionId' in request data ...
2024-07-09 11:33:31.380 -04:00 [DBG] Done attempting to bind parameter 'seccionId' of type 'System.String'.
2024-07-09 11:33:31.380 -04:00 [DBG] Done attempting to bind parameter 'seccionId' of type 'System.String'.
2024-07-09 11:33:31.380 -04:00 [DBG] Attempting to validate the bound parameter 'seccionId' of type 'System.String' ...
2024-07-09 11:33:31.381 -04:00 [DBG] Done attempting to validate the bound parameter 'seccionId' of type 'System.String'.
2024-07-09 11:33:31.381 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD) - Validation state: "Valid"
2024-07-09 11:33:31.383 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:31.385 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:31.385 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:31.385 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.386 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.387 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:31.387 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.387 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.387 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__p_0
2024-07-09 11:33:31.452 -04:00 [INF] Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__p_0
2024-07-09 11:33:31.454 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.454 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.455 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 11:33:31.455 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.455 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:31.457 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.458 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.458 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:31.458 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.458 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.458 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [Secciones] AS [s]
WHERE [s].[CodigoSeccion] = @__p_0
2024-07-09 11:33:31.520 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [Secciones] AS [s]
WHERE [s].[CodigoSeccion] = @__p_0
2024-07-09 11:33:31.521 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.521 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.522 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:31.522 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.522 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:31.525 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.526 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.526 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:31.526 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.526 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.526 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [Materias] AS [m]
WHERE [m].[CodigoMateria] = @__p_0
2024-07-09 11:33:31.588 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [Materias] AS [m]
WHERE [m].[CodigoMateria] = @__p_0
2024-07-09 11:33:31.589 -04:00 [DBG] The navigation 'Seccion.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.589 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.589 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.589 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:31.589 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.589 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:31.590 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.590 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.590 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:31.590 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.590 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.590 -04:00 [DBG] Executing DbCommand [Parameters=[@__seccion_CodigoMateria_0='?' (Size = 450), @__8__locals1_estudianteId_1='?' (DbType = Int32), @__estudiante_PeriodoActual_2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId]
FROM [EstudianteMaterias] AS [e]
WHERE [e].[CodigoMateria] = @__seccion_CodigoMateria_0 AND [e].[CodigoEstudiante] = @__8__locals1_estudianteId_1 AND [e].[PeriodoCursado] = @__estudiante_PeriodoActual_2
2024-07-09 11:33:31.650 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__seccion_CodigoMateria_0='?' (Size = 450), @__8__locals1_estudianteId_1='?' (DbType = Int32), @__estudiante_PeriodoActual_2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId]
FROM [EstudianteMaterias] AS [e]
WHERE [e].[CodigoMateria] = @__seccion_CodigoMateria_0 AND [e].[CodigoEstudiante] = @__8__locals1_estudianteId_1 AND [e].[PeriodoCursado] = @__estudiante_PeriodoActual_2
2024-07-09 11:33:31.651 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.651 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:31.651 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.651 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:31.651 -04:00 [DBG] The navigation 'EstudianteMateria.Estudiantes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.651 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.651 -04:00 [DBG] The navigation 'EstudianteMateria.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.651 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.651 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'CuentaPorPagar.IdCuentaPorPagar'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.651 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.651 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.651 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:33:31.651 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:33:31.652 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:33:31.656 -04:00 [DBG] Executing 2 update commands as a batch.
2024-07-09 11:33:31.656 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.656 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.656 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-09 11:33:31.716 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-09 11:33:31.716 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:31.716 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.716 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.716 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EstudianteMaterias] ([CodigoEstudiante], [CodigoMateria], [CalificacionFinal], [CalificacionMedioTermino], [PeriodoCursado], [SeccionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INSERT INTO [CuentaPorPagars] ([CodigoEstudiante], [CodigoMateria], [Estado], [MontoTotalaPagar])
OUTPUT INSERTED.[IdCuentaPorPagar]
VALUES (@p6, @p7, @p8, @p9);
2024-07-09 11:33:31.778 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EstudianteMaterias] ([CodigoEstudiante], [CodigoMateria], [CalificacionFinal], [CalificacionMedioTermino], [PeriodoCursado], [SeccionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INSERT INTO [CuentaPorPagars] ([CodigoEstudiante], [CodigoMateria], [Estado], [MontoTotalaPagar])
OUTPUT INSERTED.[IdCuentaPorPagar]
VALUES (@p6, @p7, @p8, @p9);
2024-07-09 11:33:31.778 -04:00 [DBG] The foreign key property 'CuentaPorPagar.IdCuentaPorPagar' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:33:31.778 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.779 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:31.779 -04:00 [DBG] Committing transaction.
2024-07-09 11:33:31.844 -04:00 [DBG] Committed transaction.
2024-07-09 11:33:31.844 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.844 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:31.844 -04:00 [DBG] Disposing transaction.
2024-07-09 11:33:31.844 -04:00 [DBG] An entity of type 'EstudianteMateria' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.844 -04:00 [DBG] An entity of type 'CuentaPorPagar' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.844 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 2 entities written to the database.
2024-07-09 11:33:31.844 -04:00 [INF] El estudiante con ID 1949999 se ha inscrito en la sección IDL329-01 y se ha creado una cuenta por pagar
2024-07-09 11:33:31.844 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 463.0375ms.
2024-07-09 11:33:31.844 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:31.844 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:31.844 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:31.844 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:31.844 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:31.844 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`2[[CRUD.Models.EstudianteMateria, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CRUD.Models.CuentaPorPagar, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:31.845 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD) in 465.6407ms
2024-07-09 11:33:31.845 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-07-09 11:33:31.845 -04:00 [DBG] Connection id "0HN504SVN6V4Q" completed keep alive response.
2024-07-09 11:33:31.845 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:31.845 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.845 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:31.845 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/EstudianteMateriaApi/SelectSeccion?estudianteId=1949999&seccionId=IDL329-01 - 200 2655 application/json; charset=utf-8 475.0386ms
2024-07-09 11:33:31.851 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/MateriaDocenteApi - null null
2024-07-09 11:33:31.851 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:31.851 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:33:31.851 -04:00 [DBG] 1 candidate(s) found for the request path '/api/MateriaDocenteApi'
2024-07-09 11:33:31.851 -04:00 [DBG] Endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)' with route pattern 'api/MateriaDocenteApi' is valid for the request path '/api/MateriaDocenteApi'
2024-07-09 11:33:31.851 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:33:31.851 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:31.851 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:31.851 -04:00 [INF] Executing endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:33:31.851 -04:00 [INF] Route matched with {action = "GetAllDocentesAndMaterias", controller = "MateriaDocente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CRUD.Models.MateriaDocente]] GetAllDocentesAndMaterias() on controller CRUD.Controllers.MateriaDocenteController (CRUD).
2024-07-09 11:33:31.851 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:31.851 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:31.851 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:31.851 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:31.851 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:31.851 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.MateriaDocenteController (CRUD)
2024-07-09 11:33:31.852 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.MateriaDocenteController (CRUD)
2024-07-09 11:33:31.852 -04:00 [INF] Executing action method CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD) - Validation state: "Valid"
2024-07-09 11:33:31.853 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:31.853 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:31.853 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:31.853 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.853 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.854 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:31.854 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.854 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:31.854 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[DocenteId], [m].[CodigoMateria], [m].[SeccionId], [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente], [m0].[CodigoMateria], [m0].[AreaAcademica], [m0].[AulaCodigoAula], [m0].[CreditosMateria], [m0].[NombreMateria], [m0].[TipoMateria], [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [MateriaDocentes] AS [m]
INNER JOIN [Docentes] AS [d] ON [m].[DocenteId] = [d].[CodigoDocente]
INNER JOIN [Materias] AS [m0] ON [m].[CodigoMateria] = [m0].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [m].[SeccionId] = [s].[CodigoSeccion]
2024-07-09 11:33:31.915 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[DocenteId], [m].[CodigoMateria], [m].[SeccionId], [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente], [m0].[CodigoMateria], [m0].[AreaAcademica], [m0].[AulaCodigoAula], [m0].[CreditosMateria], [m0].[NombreMateria], [m0].[TipoMateria], [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [MateriaDocentes] AS [m]
INNER JOIN [Docentes] AS [d] ON [m].[DocenteId] = [d].[CodigoDocente]
INNER JOIN [Materias] AS [m0] ON [m].[CodigoMateria] = [m0].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [m].[SeccionId] = [s].[CodigoSeccion]
2024-07-09 11:33:31.915 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Docentes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Docente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'MateriaDocente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] The navigation 'MateriaDocente.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:31.916 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.916 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:31.916 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.916 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:31.916 -04:00 [INF] Executed action method CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64.1728ms.
2024-07-09 11:33:31.916 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:31.916 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:31.916 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:31.916 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:31.916 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:31.916 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CRUD.Models.MateriaDocente, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:31.916 -04:00 [INF] Executed action CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD) in 64.9794ms
2024-07-09 11:33:31.916 -04:00 [INF] Executed endpoint 'CRUD.Controllers.MateriaDocenteController.GetAllDocentesAndMaterias (CRUD)'
2024-07-09 11:33:31.916 -04:00 [DBG] Connection id "0HN504SVN6V4Q" completed keep alive response.
2024-07-09 11:33:31.916 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:31.916 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:31.916 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:31.916 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/MateriaDocenteApi - 200 4852 application/json; charset=utf-8 65.9057ms
2024-07-09 11:33:34.530 -04:00 [DBG] Connection id "0HN504SVN6V4R" accepted.
2024-07-09 11:33:34.530 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:33:34.531 -04:00 [DBG] Connection id "0HN504SVN6V4R" started.
2024-07-09 11:33:34.531 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:34.531 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:33:34.531 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:33:34.531 -04:00 [DBG] OPTIONS requests are not supported
2024-07-09 11:33:34.531 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:33:34.531 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:33:34.531 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-09 11:33:34.531 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:33:34.531 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:34.531 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:33:34.531 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:34.531 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:33:34.531 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:34.531 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:34.531 -04:00 [DBG] The request is a preflight request.
2024-07-09 11:33:34.532 -04:00 [DBG] Connection id "0HN504SVN6V4R" completed keep alive response.
2024-07-09 11:33:34.532 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 204 null null 0.8525ms
2024-07-09 11:33:34.532 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:33:34.532 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:33:34.532 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:34.532 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:34.532 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:34.532 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:34.532 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:34.532 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:33:34.533 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:33:34.533 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:34.533 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:33:34.533 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:34.533 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:34.533 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:34.533 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:34.533 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:34.533 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:33:34.533 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:34.533 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:34.533 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:34.533 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:33:34.533 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:34.534 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:33:34.535 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:34.536 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:34.536 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:34.536 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.537 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.537 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:34.537 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:34.537 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:34.537 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:33:34.537 -04:00 [DBG] Successfully validated the token.
2024-07-09 11:33:34.540 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-09 11:33:34.540 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:33:34.540 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:33:34.540 -04:00 [DBG] Endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)' with route pattern 'api/CuentaPorPagar/cuentaporpagar' is valid for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:33:34.540 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:33:34.540 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:33:34.543 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:33:34.543 -04:00 [INF] Executing endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:33:34.543 -04:00 [INF] Route matched with {action = "GetCuentaPorPagar", controller = "CuentaPorPagar"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCuentaPorPagar(System.String, Int32) on controller CRUD.Controllers.CuentaPorPagarController (CRUD).
2024-07-09 11:33:34.543 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:33:34.543 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:33:34.543 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:33:34.543 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:33:34.543 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:33:34.543 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:33:34.543 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:33:34.543 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:34.543 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:33:34.543 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:34.543 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:34.544 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:33:34.544 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:33:34.544 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:34.544 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:33:34.544 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:34.544 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:34.544 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:33:34.544 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:33:34.544 -04:00 [INF] Executing action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) - Validation state: "Valid"
2024-07-09 11:33:34.545 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:33:34.545 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:33:34.545 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:33:34.546 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.546 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.546 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:34.546 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:34.546 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:34.546 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:33:34.598 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:33:34.599 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:33:34.599 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.599 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:34.599 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.599 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:34.600 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.8597ms.
2024-07-09 11:33:34.600 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:34.600 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:34.600 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:34.600 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:34.600 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:34.600 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:33:34.600 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 68.3132ms
2024-07-09 11:33:34.600 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:33:34.601 -04:00 [DBG] Connection id "0HN504SVN6V4Q" completed keep alive response.
2024-07-09 11:33:34.601 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:34.601 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.601 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:34.601 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 71.3583ms
2024-07-09 11:33:34.606 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:33:34.607 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.607 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:34.607 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.607 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:34.607 -04:00 [INF] Executed action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 63.3742ms.
2024-07-09 11:33:34.607 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:33:34.607 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:33:34.607 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:33:34.608 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:33:34.608 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:33:34.608 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:34.608 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:33:34.608 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.608 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.608 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:33:34.608 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:34.609 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:33:34.609 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:33:34.668 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:33:34.669 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.669 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:33:34.669 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.669 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:33:34.670 -04:00 [INF] Executed action CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) in 126.661ms
2024-07-09 11:33:34.670 -04:00 [INF] Executed endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:33:34.670 -04:00 [DBG] Connection id "0HN504SVN6V4R" completed keep alive response.
2024-07-09 11:33:34.670 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:33:34.670 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:33:34.670 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:33:34.670 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 200 1852 application/json; charset=utf-8 137.2077ms
2024-07-09 11:33:35.998 -04:00 [DBG] Connection id "0HN504SVN6V4Q" received FIN.
2024-07-09 11:33:35.999 -04:00 [DBG] Connection id "0HN504SVN6V4Q" disconnecting.
2024-07-09 11:33:35.999 -04:00 [DBG] Connection id "0HN504SVN6V4Q" stopped.
2024-07-09 11:33:35.998 -04:00 [DBG] Connection id "0HN504SVN6V4R" received FIN.
2024-07-09 11:33:35.999 -04:00 [DBG] Connection id "0HN504SVN6V4R" disconnecting.
2024-07-09 11:33:35.999 -04:00 [DBG] Connection id "0HN504SVN6V4R" stopped.
2024-07-09 11:33:35.999 -04:00 [DBG] Connection id "0HN504SVN6V4R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:33:35.999 -04:00 [DBG] Connection id "0HN504SVN6V4Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:36:06.693 -04:00 [DBG] Connection id "0HN504SVN6V4S" accepted.
2024-07-09 11:36:06.693 -04:00 [DBG] Connection id "0HN504SVN6V4S" started.
2024-07-09 11:36:06.695 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:36:06.695 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:36:06.696 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:36:06.696 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:36:06.696 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:36:06.696 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:36:06.696 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:36:06.697 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:36:06.697 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:36:06.697 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:36:06.697 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:36:06.697 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:36:06.697 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:36:06.697 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:36:06.698 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:36:06.698 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:36:06.698 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:36:06.698 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:06.698 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:06.698 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:36:06.698 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:06.698 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:36:06.699 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:36:06.699 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:06.699 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:06.699 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:36:06.699 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:06.699 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:36:06.701 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:36:06.702 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:36:06.702 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:36:06.702 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:06.702 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:06.703 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:36:06.703 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:06.703 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:06.703 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:36:06.767 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:36:06.767 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:06.768 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:06.768 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:36:06.768 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:06.768 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:36:06.768 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.926ms.
2024-07-09 11:36:06.768 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:36:06.768 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:36:06.768 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:36:06.768 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:36:06.768 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:36:06.768 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:36:06.769 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 71.5222ms
2024-07-09 11:36:06.769 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:36:06.769 -04:00 [DBG] Connection id "0HN504SVN6V4S" completed keep alive response.
2024-07-09 11:36:06.769 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:36:06.769 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:06.769 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:36:06.769 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 74.0824ms
2024-07-09 11:36:12.657 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 11:36:12.657 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:36:12.657 -04:00 [DBG] POST requests are not supported
2024-07-09 11:36:12.657 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 11:36:12.657 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 11:36:12.657 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:36:12.657 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:36:12.657 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:36:12.657 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:36:12.658 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:36:12.658 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:36:12.658 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:36:12.658 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:36:12.658 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:36:12.658 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:36:12.658 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:36:12.659 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 11:36:12.659 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:36:12.659 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 11:36:12.660 -04:00 [DBG] Connection id "0HN504SVN6V4S", Request id "0HN504SVN6V4S:00000002": started reading request body.
2024-07-09 11:36:12.660 -04:00 [DBG] Connection id "0HN504SVN6V4S", Request id "0HN504SVN6V4S:00000002": done reading request body.
2024-07-09 11:36:12.661 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:36:12.661 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:36:12.661 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 11:36:12.661 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 11:36:12.661 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 11:36:12.662 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:36:12.668 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:36:12.670 -04:00 [DBG] Created DbConnection. (2ms).
2024-07-09 11:36:12.670 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.670 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.670 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:36:12.670 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:12.670 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:12.670 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:36:12.734 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:36:12.734 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:12.735 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:12.735 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:12.735 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:12.735 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:12.735 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.735 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:36:12.735 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.735 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:36:12.735 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:12.736 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:12.736 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 11:36:12.736 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 11:36:12.737 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 11:36:12.737 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.737 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.738 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:36:12.738 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:12.738 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:12.738 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:36:12.833 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 11:36:12.833 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 11:36:12.833 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.833 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:36:12.834 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.834 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:36:12.834 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:12.834 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 11:36:12.834 -04:00 [INF] Factura creada exitosamente
2024-07-09 11:36:12.834 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 172.2968ms.
2024-07-09 11:36:12.834 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:36:12.834 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:36:12.834 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:36:12.834 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:36:12.834 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:36:12.834 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:36:12.834 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 176.7576ms
2024-07-09 11:36:12.834 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 11:36:12.834 -04:00 [DBG] Connection id "0HN504SVN6V4S" completed keep alive response.
2024-07-09 11:36:12.834 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:36:12.834 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:12.834 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:36:12.834 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 178.0019ms
2024-07-09 11:36:12.840 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 11:36:12.840 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:36:12.840 -04:00 [DBG] POST requests are not supported
2024-07-09 11:36:12.840 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 11:36:12.840 -04:00 [DBG] Request did not match any endpoints
2024-07-09 11:36:12.840 -04:00 [DBG] Connection id "0HN504SVN6V4S" completed keep alive response.
2024-07-09 11:36:12.840 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 0.3717ms
2024-07-09 11:36:12.840 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 11:36:12.840 -04:00 [DBG] Connection id "0HN504SVN6V4S", Request id "0HN504SVN6V4S:00000003": started reading request body.
2024-07-09 11:36:12.840 -04:00 [DBG] Connection id "0HN504SVN6V4S", Request id "0HN504SVN6V4S:00000003": done reading request body.
2024-07-09 11:36:33.503 -04:00 [DBG] Connection id "0HN504SVN6V4T" accepted.
2024-07-09 11:36:33.507 -04:00 [DBG] Connection id "0HN504SVN6V4T" started.
2024-07-09 11:36:33.509 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - null null
2024-07-09 11:36:33.509 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:36:33.509 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:36:33.509 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:36:33.509 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasEstudiante/{codigoEstudiante}/{periodo}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL'
2024-07-09 11:36:33.509 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:36:33.509 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:36:33.510 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:36:33.510 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:36:33.510 -04:00 [INF] Route matched with {action = "GetMateriasEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMateriasEstudiante(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-07-09 11:36:33.511 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:36:33.511 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:36:33.511 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:36:33.511 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:36:33.511 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:36:33.511 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:36:33.511 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-07-09 11:36:33.512 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:36:33.512 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:36:33.512 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:33.512 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:33.512 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:36:33.512 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:33.512 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:36:33.512 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:36:33.512 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:33.512 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:33.512 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:36:33.512 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:33.512 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) - Validation state: "Valid"
2024-07-09 11:36:33.514 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:36:33.515 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:36:33.515 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:36:33.515 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:33.516 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:33.516 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:36:33.516 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:33.516 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:33.516 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:36:33.577 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], [a].[Edificio], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-07-09 11:36:33.577 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:33.577 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:36:33.577 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:33.577 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:36:33.577 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.4523ms.
2024-07-09 11:36:33.578 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:36:33.578 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:36:33.578 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:36:33.578 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:36:33.578 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:36:33.578 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType10`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:36:33.578 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) in 67.287ms
2024-07-09 11:36:33.578 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-07-09 11:36:33.578 -04:00 [DBG] Connection id "0HN504SVN6V4T" completed keep alive response.
2024-07-09 11:36:33.578 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:36:33.578 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:33.578 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:36:33.579 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1949999/2024-MAY-JUL - 200 1232 application/json; charset=utf-8 69.9336ms
2024-07-09 11:36:35.668 -04:00 [DBG] Connection id "0HN504SVN6V4U" accepted.
2024-07-09 11:36:35.669 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 11:36:35.669 -04:00 [DBG] Connection id "0HN504SVN6V4U" started.
2024-07-09 11:36:35.669 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:36:35.669 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:36:35.669 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:36:35.669 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 11:36:35.669 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:36:35.669 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:36:35.669 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:36:35.669 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:36:35.669 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:36:35.669 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 11:36:35.669 -04:00 [DBG] OPTIONS requests are not supported
2024-07-09 11:36:35.669 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 11:36:35.669 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:36:35.669 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:36:35.669 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-09 11:36:35.669 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:36:35.669 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:36:35.669 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:36:35.669 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:36:35.669 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:36:35.669 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:36:35.669 -04:00 [DBG] The request is a preflight request.
2024-07-09 11:36:35.669 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:36:35.669 -04:00 [DBG] Connection id "0HN504SVN6V4U" completed keep alive response.
2024-07-09 11:36:35.669 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 204 null null 0.4892ms
2024-07-09 11:36:35.669 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 11:36:35.670 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:36:35.670 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:36:35.670 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:35.670 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:35.670 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:36:35.670 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:35.670 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:36:35.670 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:36:35.670 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:35.670 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:35.670 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:36:35.670 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:35.670 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 11:36:35.670 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - null null
2024-07-09 11:36:35.670 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:36:35.671 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:36:35.671 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:36:35.671 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.671 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.671 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:36:35.671 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:35.671 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:35.671 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:36:35.671 -04:00 [DBG] Successfully validated the token.
2024-07-09 11:36:35.671 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-09 11:36:35.671 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 11:36:35.671 -04:00 [DBG] 1 candidate(s) found for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:36:35.671 -04:00 [DBG] Endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)' with route pattern 'api/CuentaPorPagar/cuentaporpagar' is valid for the request path '/api/CuentaPorPagar/cuentaporpagar'
2024-07-09 11:36:35.671 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:36:35.671 -04:00 [DBG] The request has an origin header: 'http://localhost:5174'.
2024-07-09 11:36:35.671 -04:00 [INF] CORS policy execution successful.
2024-07-09 11:36:35.671 -04:00 [INF] Executing endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:36:35.671 -04:00 [INF] Route matched with {action = "GetCuentaPorPagar", controller = "CuentaPorPagar"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCuentaPorPagar(System.String, Int32) on controller CRUD.Controllers.CuentaPorPagarController (CRUD).
2024-07-09 11:36:35.671 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 11:36:35.671 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 11:36:35.671 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 11:36:35.671 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 11:36:35.672 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 11:36:35.672 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:36:35.672 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.CuentaPorPagarController (CRUD)
2024-07-09 11:36:35.672 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 11:36:35.672 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 11:36:35.672 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:35.672 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:35.672 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 11:36:35.672 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 11:36:35.672 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:36:35.672 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 11:36:35.672 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:35.672 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:35.672 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 11:36:35.672 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 11:36:35.672 -04:00 [INF] Executing action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) - Validation state: "Valid"
2024-07-09 11:36:35.672 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 11:36:35.673 -04:00 [DBG] Creating DbConnection.
2024-07-09 11:36:35.673 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 11:36:35.673 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.673 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.673 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:36:35.673 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:35.673 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:35.673 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:36:35.733 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [CuentaPorPagars] AS [c]
        INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
        WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-09 11:36:35.733 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.733 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:36:35.733 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.733 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:36:35.733 -04:00 [INF] Executed action method CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.8938ms.
2024-07-09 11:36:35.733 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:36:35.733 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:36:35.733 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:36:35.733 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:36:35.733 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:36:35.733 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:36:35.733 -04:00 [DBG] Buffering IAsyncEnumerable instance of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType8`12[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 11:36:35.733 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.733 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.733 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 11:36:35.733 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:35.733 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 11:36:35.733 -04:00 [DBG] Executing DbCommand [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:36:35.734 -04:00 [INF] Executed DbCommand (63ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 11:36:35.734 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 11:36:35.734 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.734 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:36:35.734 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.734 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:36:35.734 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64.1189ms.
2024-07-09 11:36:35.734 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 11:36:35.734 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 11:36:35.734 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 11:36:35.734 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 11:36:35.734 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 11:36:35.734 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 11:36:35.734 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 64.8376ms
2024-07-09 11:36:35.734 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 11:36:35.734 -04:00 [DBG] Connection id "0HN504SVN6V4T" completed keep alive response.
2024-07-09 11:36:35.734 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:36:35.734 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.734 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:36:35.734 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 65.6093ms
2024-07-09 11:36:35.795 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__periodo_0='?' (Size = 50), @__codigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoMateria], [c].[CodigoEstudiante], [c].[MontoTotalaPagar], [m].[NombreMateria], [e].[PeriodoCursado] AS [Periodo], [s].[CodigoSeccion] AS [Seccion], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId] AND [m0].[CodigoMateria] = [c].[CodigoMateria]) AS [Profesor], [s].[CodigoAula] AS [Aula], [s].[Horario], [m].[CreditosMateria] AS [Creditos], [s].[Cupo]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[PeriodoCursado] = @__periodo_0 AND [c].[CodigoEstudiante] = @__codigoEstudiante_1
2024-07-09 11:36:35.795 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.795 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 11:36:35.795 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.795 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 11:36:35.795 -04:00 [INF] Executed action CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD) in 123.6137ms
2024-07-09 11:36:35.795 -04:00 [INF] Executed endpoint 'CRUD.Controllers.CuentaPorPagarController.GetCuentaPorPagar (CRUD)'
2024-07-09 11:36:35.795 -04:00 [DBG] Connection id "0HN504SVN6V4U" completed keep alive response.
2024-07-09 11:36:35.795 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 11:36:35.795 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 11:36:35.795 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 11:36:35.795 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/CuentaPorPagar/cuentaporpagar?periodo=2024-MAY-JUL&codigoEstudiante=1949999 - 200 1852 application/json; charset=utf-8 125.2016ms
2024-07-09 11:36:36.015 -04:00 [DBG] Connection id "0HN504SVN6V4T" received FIN.
2024-07-09 11:36:36.015 -04:00 [DBG] Connection id "0HN504SVN6V4U" received FIN.
2024-07-09 11:36:36.015 -04:00 [DBG] Connection id "0HN504SVN6V4T" disconnecting.
2024-07-09 11:36:36.015 -04:00 [DBG] Connection id "0HN504SVN6V4U" disconnecting.
2024-07-09 11:36:36.015 -04:00 [DBG] Connection id "0HN504SVN6V4U" stopped.
2024-07-09 11:36:36.015 -04:00 [DBG] Connection id "0HN504SVN6V4T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:36:36.015 -04:00 [DBG] Connection id "0HN504SVN6V4U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 11:36:36.016 -04:00 [DBG] Connection id "0HN504SVN6V4T" stopped.
2024-07-09 11:37:21.724 -04:00 [DBG] Connection id "0HN504SVN6V4S" received FIN.
2024-07-09 11:37:21.730 -04:00 [DBG] Connection id "0HN504SVN6V4S" disconnecting.
2024-07-09 11:37:21.731 -04:00 [DBG] Connection id "0HN504SVN6V4S" stopped.
2024-07-09 11:37:21.737 -04:00 [DBG] Connection id "0HN504SVN6V4S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:01:52.411 -04:00 [DBG] Connection id "0HN504SVN6V4V" accepted.
2024-07-09 12:01:52.411 -04:00 [DBG] Connection id "0HN504SVN6V4V" started.
2024-07-09 12:01:52.413 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 12:01:52.414 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:01:52.414 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:01:52.414 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:01:52.414 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:01:52.414 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:01:52.414 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:01:52.415 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:01:52.415 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:01:52.415 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:01:52.415 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:01:52.415 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:01:52.415 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:01:52.415 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:01:52.416 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:01:52.416 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:01:52.416 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:01:52.416 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:01:52.416 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:01:52.416 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:01:52.417 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:01:52.417 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:01:52.417 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:01:52.417 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:01:52.417 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:01:52.417 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:01:52.417 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:01:52.417 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 12:01:52.419 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:01:52.421 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:01:52.421 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:01:52.421 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:53.939 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:53.940 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:01:53.940 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:01:53.940 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:01:53.941 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:01:54.001 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:01:54.002 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:54.002 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:54.002 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:01:54.002 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:54.002 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:01:54.003 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1585.5984ms.
2024-07-09 12:01:54.003 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:01:54.003 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:01:54.003 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:01:54.003 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:01:54.003 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:01:54.003 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:01:54.003 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 1588.1977ms
2024-07-09 12:01:54.004 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:01:54.004 -04:00 [DBG] Connection id "0HN504SVN6V4V" completed keep alive response.
2024-07-09 12:01:54.004 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:01:54.004 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:54.004 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:01:54.004 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 1590.8006ms
2024-07-09 12:01:58.737 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 12:01:58.737 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:01:58.737 -04:00 [DBG] POST requests are not supported
2024-07-09 12:01:58.737 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 12:01:58.737 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 12:01:58.737 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:01:58.737 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:01:58.737 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:01:58.737 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:01:58.737 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:01:58.737 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:01:58.737 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:01:58.737 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:01:58.737 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:01:58.737 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:01:58.738 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:01:58.738 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 12:01:58.738 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:01:58.738 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:01:58.738 -04:00 [DBG] Connection id "0HN504SVN6V4V", Request id "0HN504SVN6V4V:00000002": started reading request body.
2024-07-09 12:01:58.738 -04:00 [DBG] Connection id "0HN504SVN6V4V", Request id "0HN504SVN6V4V:00000002": done reading request body.
2024-07-09 12:01:58.739 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:01:58.739 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:01:58.739 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:01:58.740 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:01:58.740 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:01:58.741 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:01:58.741 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:01:58.741 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:01:58.741 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.742 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.742 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:01:58.742 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:01:58.742 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:01:58.742 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:01:58.801 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:01:58.801 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:58.801 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:58.801 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:58.802 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:58.802 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:58.802 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.802 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:01:58.802 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.802 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:01:58.802 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:58.802 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:58.802 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 12:01:58.802 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 12:01:58.803 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 12:01:58.803 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.803 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.803 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:01:58.803 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:01:58.804 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:01:58.804 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:01:58.867 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:01:58.867 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:01:58.868 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.868 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:01:58.868 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.868 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:01:58.868 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:01:58.868 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 12:01:58.868 -04:00 [INF] Factura creada exitosamente
2024-07-09 12:01:58.868 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 128.1116ms.
2024-07-09 12:01:58.868 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:01:58.868 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:01:58.868 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:01:58.868 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:01:58.868 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:01:58.868 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:01:58.868 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 130.855ms
2024-07-09 12:01:58.868 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:01:58.868 -04:00 [DBG] Connection id "0HN504SVN6V4V" completed keep alive response.
2024-07-09 12:01:58.868 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:01:58.868 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:01:58.868 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:01:58.868 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 131.583ms
2024-07-09 12:01:58.880 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 12:01:58.880 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:01:58.880 -04:00 [DBG] POST requests are not supported
2024-07-09 12:01:58.880 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:01:58.880 -04:00 [DBG] Request did not match any endpoints
2024-07-09 12:01:58.880 -04:00 [DBG] Connection id "0HN504SVN6V4V" completed keep alive response.
2024-07-09 12:01:58.880 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 0.3235ms
2024-07-09 12:01:58.880 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 12:01:58.880 -04:00 [DBG] Connection id "0HN504SVN6V4V", Request id "0HN504SVN6V4V:00000003": started reading request body.
2024-07-09 12:01:58.880 -04:00 [DBG] Connection id "0HN504SVN6V4V", Request id "0HN504SVN6V4V:00000003": done reading request body.
2024-07-09 12:02:22.610 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 12:02:22.611 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:02:22.611 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:02:22.611 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:02:22.612 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:02:22.612 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:02:22.612 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:02:22.612 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:02:22.612 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:02:22.612 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:02:22.612 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:02:22.612 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:02:22.612 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:02:22.613 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:02:22.613 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:02:22.613 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:02:22.613 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:02:22.614 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:02:22.614 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:02:22.614 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:02:22.614 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:02:22.614 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:02:22.614 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:02:22.614 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:02:22.614 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:02:22.614 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:02:22.614 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:02:22.614 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 12:02:22.616 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:02:22.617 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:02:22.618 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:02:22.618 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:22.618 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:22.618 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:02:22.618 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:02:22.618 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:02:22.618 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:02:22.678 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:02:22.679 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:22.679 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:22.679 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:02:22.679 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:22.679 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:02:22.679 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.2493ms.
2024-07-09 12:02:22.680 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:02:22.680 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:02:22.680 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:02:22.680 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:02:22.680 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:02:22.680 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:02:22.680 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 67.5562ms
2024-07-09 12:02:22.680 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:02:22.680 -04:00 [DBG] Connection id "0HN504SVN6V4V" completed keep alive response.
2024-07-09 12:02:22.680 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:02:22.680 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:22.680 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:02:22.680 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 71.0406ms
2024-07-09 12:02:26.914 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 12:02:26.914 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:02:26.914 -04:00 [DBG] POST requests are not supported
2024-07-09 12:02:26.914 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 12:02:26.914 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 12:02:26.914 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:02:26.914 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:02:26.914 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:02:26.914 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:02:26.915 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:02:26.915 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:02:26.915 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:02:26.915 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:02:26.915 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:02:26.916 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:02:26.916 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:02:26.916 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 12:02:26.916 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:02:26.916 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:02:26.916 -04:00 [DBG] Connection id "0HN504SVN6V4V", Request id "0HN504SVN6V4V:00000005": started reading request body.
2024-07-09 12:02:26.917 -04:00 [DBG] Connection id "0HN504SVN6V4V", Request id "0HN504SVN6V4V:00000005": done reading request body.
2024-07-09 12:02:26.917 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:02:26.917 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:02:26.917 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:02:26.918 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:02:26.918 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:02:26.919 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:02:26.920 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:02:26.920 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:02:26.920 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:26.920 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:26.921 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:02:26.921 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:02:26.921 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:02:26.921 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:02:26.983 -04:00 [INF] Executed DbCommand (63ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:02:26.984 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:26.984 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:26.984 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:26.984 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:26.984 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:26.984 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:26.984 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:02:26.984 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:26.984 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:02:26.985 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:26.985 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:26.985 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 12:02:26.985 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 12:02:26.985 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 12:02:26.987 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:26.987 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:26.987 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:02:26.987 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:02:26.987 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:02:26.987 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:02:27.053 -04:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:02:27.053 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:02:27.053 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:27.053 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:02:27.053 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:27.053 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:02:27.053 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:02:27.053 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 12:02:27.053 -04:00 [INF] Factura creada exitosamente
2024-07-09 12:02:27.053 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 135.2496ms.
2024-07-09 12:02:27.053 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:02:27.053 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:02:27.053 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:02:27.053 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:02:27.053 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:02:27.053 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:02:27.054 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 138.8697ms
2024-07-09 12:02:27.054 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:02:27.054 -04:00 [DBG] Connection id "0HN504SVN6V4V" completed keep alive response.
2024-07-09 12:02:27.054 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:02:27.054 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:02:27.054 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:02:27.054 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 139.831ms
2024-07-09 12:02:27.054 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 12:02:27.054 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:02:27.054 -04:00 [DBG] POST requests are not supported
2024-07-09 12:02:27.054 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:02:27.054 -04:00 [DBG] Request did not match any endpoints
2024-07-09 12:02:27.054 -04:00 [DBG] Connection id "0HN504SVN6V4V" completed keep alive response.
2024-07-09 12:02:27.054 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 0.1982ms
2024-07-09 12:02:27.055 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 12:02:27.055 -04:00 [DBG] Connection id "0HN504SVN6V4V", Request id "0HN504SVN6V4V:00000006": started reading request body.
2024-07-09 12:02:27.055 -04:00 [DBG] Connection id "0HN504SVN6V4V", Request id "0HN504SVN6V4V:00000006": done reading request body.
2024-07-09 12:03:37.422 -04:00 [DBG] Connection id "0HN504SVN6V4V" received FIN.
2024-07-09 12:03:37.423 -04:00 [DBG] Connection id "0HN504SVN6V4V" disconnecting.
2024-07-09 12:03:37.424 -04:00 [DBG] Connection id "0HN504SVN6V4V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:03:37.425 -04:00 [DBG] Connection id "0HN504SVN6V4V" stopped.
2024-07-09 12:13:15.413 -04:00 [DBG] Connection id "0HN504SVN6V50" accepted.
2024-07-09 12:13:15.414 -04:00 [DBG] Connection id "0HN504SVN6V50" started.
2024-07-09 12:13:15.416 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 12:13:15.416 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:13:15.417 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:13:15.417 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:13:15.417 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:13:15.417 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:13:15.417 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:13:15.417 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:13:15.417 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:13:15.417 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:13:15.417 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:13:15.417 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:13:15.417 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:13:15.417 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:13:15.418 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:13:15.418 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:13:15.418 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:13:15.418 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:13:15.418 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:13:15.418 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:13:15.418 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:13:15.418 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:13:15.418 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:13:15.418 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:13:15.418 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:13:15.418 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:13:15.418 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:13:15.419 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 12:13:15.420 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:13:15.421 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:13:15.421 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:13:15.421 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:16.998 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:16.998 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:13:16.998 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:16.998 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:16.998 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:13:17.057 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:13:17.058 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:17.058 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:17.058 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:13:17.058 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:17.058 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:13:17.058 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1639.5106ms.
2024-07-09 12:13:17.058 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:13:17.058 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:13:17.058 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:13:17.058 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:13:17.058 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:13:17.058 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:13:17.059 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 1641.275ms
2024-07-09 12:13:17.059 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:13:17.059 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:13:17.059 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:13:17.059 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:17.059 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:13:17.059 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 1642.879ms
2024-07-09 12:13:21.920 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 12:13:21.920 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:13:21.920 -04:00 [DBG] POST requests are not supported
2024-07-09 12:13:21.920 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 12:13:21.920 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 12:13:21.920 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:13:21.920 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:13:21.920 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:13:21.920 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:13:21.920 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:13:21.921 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:13:21.921 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:13:21.921 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:13:21.921 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:13:21.921 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:13:21.921 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:13:21.921 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 12:13:21.921 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:13:21.921 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:13:21.921 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000002": started reading request body.
2024-07-09 12:13:21.922 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000002": done reading request body.
2024-07-09 12:13:21.922 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:13:21.922 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:13:21.922 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:13:21.922 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:13:21.922 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:13:21.923 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:13:21.923 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:13:21.923 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:13:21.923 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:21.923 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:21.923 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:13:21.924 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:21.924 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:21.924 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:13:21.982 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:13:21.982 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:21.983 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:21.983 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:21.983 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:21.983 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:21.983 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:21.983 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:13:21.983 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:21.983 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:13:21.984 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:21.984 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:21.984 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 12:13:21.984 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 12:13:21.984 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 12:13:21.985 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:21.985 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:21.985 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:13:21.985 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:21.985 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:21.985 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:13:22.084 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:13:22.084 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:13:22.084 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:22.084 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:13:22.084 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:22.084 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:13:22.084 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:22.085 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 12:13:22.085 -04:00 [INF] Factura creada exitosamente
2024-07-09 12:13:22.085 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 162.4189ms.
2024-07-09 12:13:22.085 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:13:22.085 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:13:22.085 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:13:22.085 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:13:22.085 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:13:22.085 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:13:22.085 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 164.3852ms
2024-07-09 12:13:22.085 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:13:22.085 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:13:22.085 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:13:22.085 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:22.085 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:13:22.085 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 165.3382ms
2024-07-09 12:13:22.095 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 12:13:22.096 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:13:22.096 -04:00 [DBG] POST requests are not supported
2024-07-09 12:13:22.096 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:13:22.096 -04:00 [DBG] Request did not match any endpoints
2024-07-09 12:13:22.096 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:13:22.096 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 0.2752ms
2024-07-09 12:13:22.096 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 12:13:22.096 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000003": started reading request body.
2024-07-09 12:13:22.096 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000003": done reading request body.
2024-07-09 12:13:57.028 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 12:13:57.030 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:13:57.031 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:13:57.031 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:13:57.031 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:13:57.031 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:13:57.031 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:13:57.031 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:13:57.031 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:13:57.031 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:13:57.031 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:13:57.031 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:13:57.031 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:13:57.032 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:13:57.032 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:13:57.032 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:13:57.033 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:13:57.033 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:13:57.033 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:13:57.033 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:13:57.033 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:13:57.033 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:13:57.033 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:13:57.033 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:13:57.033 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:13:57.033 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:13:57.033 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:13:57.033 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 12:13:57.035 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:13:57.036 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:13:57.036 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:13:57.036 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:57.036 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:57.036 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:13:57.036 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:57.036 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:57.036 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:13:57.097 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:13:57.098 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:13:57.098 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:57.098 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:13:57.098 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:57.098 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:13:57.099 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.5702ms.
2024-07-09 12:13:57.099 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:13:57.099 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:13:57.099 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:13:57.099 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:13:57.099 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:13:57.099 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:13:57.099 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 67.6777ms
2024-07-09 12:13:57.099 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:13:57.099 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:13:57.099 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:13:57.099 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:57.099 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:13:57.100 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 71.516ms
2024-07-09 12:13:59.961 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 12:13:59.961 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:13:59.961 -04:00 [DBG] POST requests are not supported
2024-07-09 12:13:59.961 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 12:13:59.961 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 12:13:59.961 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:13:59.961 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:13:59.961 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:13:59.961 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:13:59.961 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:13:59.961 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:13:59.961 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:13:59.961 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:13:59.961 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:13:59.961 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:13:59.961 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:13:59.962 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 12:13:59.962 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:13:59.962 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:13:59.962 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000005": started reading request body.
2024-07-09 12:13:59.962 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000005": done reading request body.
2024-07-09 12:13:59.962 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:13:59.962 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:13:59.962 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:13:59.962 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:13:59.962 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:13:59.963 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:13:59.963 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:13:59.963 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:13:59.963 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:59.963 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:13:59.963 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:13:59.963 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:59.963 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:13:59.963 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:14:00.023 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:14:00.023 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:00.028 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:00.028 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:00.028 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:00.028 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:00.028 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:00.028 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 5ms reading results.
2024-07-09 12:14:00.028 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:00.029 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:14:00.030 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:00.030 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:00.030 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 12:14:00.030 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 12:14:00.030 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 12:14:00.031 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:00.031 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:00.031 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:14:00.031 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:14:00.031 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:14:00.031 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:14:00.095 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:14:00.095 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:14:00.095 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:00.095 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:14:00.096 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:00.096 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:14:00.096 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:00.096 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 12:14:00.096 -04:00 [INF] Factura creada exitosamente
2024-07-09 12:14:00.096 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 133.5942ms.
2024-07-09 12:14:00.096 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:14:00.096 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:14:00.096 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:14:00.096 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:14:00.096 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:14:00.096 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:14:00.096 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 135.0277ms
2024-07-09 12:14:00.096 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:14:00.096 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:14:00.096 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:14:00.096 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:00.096 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:14:00.096 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 135.6685ms
2024-07-09 12:14:00.097 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 12:14:00.097 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:14:00.097 -04:00 [DBG] POST requests are not supported
2024-07-09 12:14:00.098 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:14:00.098 -04:00 [DBG] Request did not match any endpoints
2024-07-09 12:14:00.098 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:14:00.098 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 0.1734ms
2024-07-09 12:14:00.098 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 12:14:00.098 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000006": started reading request body.
2024-07-09 12:14:00.098 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000006": done reading request body.
2024-07-09 12:14:13.391 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 12:14:13.392 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:14:13.392 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:14:13.392 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:14:13.392 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:14:13.392 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:14:13.392 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:14:13.392 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:14:13.392 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:14:13.392 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:14:13.392 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:14:13.392 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:14:13.392 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:14:13.392 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:14:13.393 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:14:13.393 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:14:13.393 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:14:13.393 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:14:13.393 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:14:13.393 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:14:13.393 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:14:13.393 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:14:13.393 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:14:13.393 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:14:13.393 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:14:13.393 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:14:13.393 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:14:13.393 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 12:14:13.394 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:14:13.394 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:14:13.394 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:14:13.394 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:13.394 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:13.394 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:14:13.394 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:14:13.394 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:14:13.394 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:14:13.454 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:14:13.454 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:13.454 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:13.454 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:14:13.454 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:13.454 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:14:13.455 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 61.4754ms.
2024-07-09 12:14:13.455 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:14:13.455 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:14:13.455 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:14:13.455 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:14:13.455 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:14:13.455 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:14:13.455 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 62.3804ms
2024-07-09 12:14:13.455 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:14:13.455 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:14:13.455 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:14:13.455 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:13.455 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:14:13.455 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 63.8452ms
2024-07-09 12:14:19.505 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 12:14:19.505 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:14:19.505 -04:00 [DBG] POST requests are not supported
2024-07-09 12:14:19.505 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 12:14:19.505 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 12:14:19.505 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:14:19.505 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:14:19.505 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:14:19.505 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:14:19.505 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:14:19.505 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:14:19.505 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:14:19.505 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:14:19.505 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:14:19.506 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:14:19.506 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:14:19.506 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 12:14:19.506 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:14:19.506 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:14:19.506 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000008": started reading request body.
2024-07-09 12:14:19.506 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000008": done reading request body.
2024-07-09 12:14:19.507 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:14:19.507 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:14:19.507 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:14:19.507 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:14:19.507 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:14:19.508 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:14:19.508 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:14:19.508 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:14:19.508 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.509 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.509 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:14:19.509 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:14:19.509 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:14:19.509 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:14:19.587 -04:00 [INF] Executed DbCommand (78ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:14:19.587 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:19.588 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:19.588 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:19.588 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:19.588 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:19.588 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.588 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:14:19.588 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.588 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:14:19.588 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:19.589 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:19.589 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 12:14:19.589 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 12:14:19.590 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 12:14:19.590 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.591 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.591 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:14:19.591 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:14:19.591 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:14:19.591 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:14:19.652 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:14:19.652 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:14:19.652 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.652 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:14:19.653 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.653 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:14:19.653 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:14:19.653 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 12:14:19.653 -04:00 [INF] Factura creada exitosamente
2024-07-09 12:14:19.653 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 145.8325ms.
2024-07-09 12:14:19.653 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:14:19.653 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:14:19.653 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:14:19.653 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:14:19.653 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:14:19.653 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:14:19.653 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 147.8127ms
2024-07-09 12:14:19.653 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:14:19.653 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:14:19.653 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:14:19.654 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:14:19.654 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:14:19.654 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 152.9289ms
2024-07-09 12:14:19.655 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 12:14:19.655 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:14:19.655 -04:00 [DBG] POST requests are not supported
2024-07-09 12:14:19.655 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:14:19.655 -04:00 [DBG] Request did not match any endpoints
2024-07-09 12:14:19.655 -04:00 [DBG] Connection id "0HN504SVN6V50" completed keep alive response.
2024-07-09 12:14:19.655 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 0.3638ms
2024-07-09 12:14:19.655 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 12:14:19.655 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000009": started reading request body.
2024-07-09 12:14:19.656 -04:00 [DBG] Connection id "0HN504SVN6V50", Request id "0HN504SVN6V50:00000009": done reading request body.
2024-07-09 12:15:30.430 -04:00 [DBG] Connection id "0HN504SVN6V50" received FIN.
2024-07-09 12:15:30.432 -04:00 [DBG] Connection id "0HN504SVN6V50" disconnecting.
2024-07-09 12:15:30.432 -04:00 [DBG] Connection id "0HN504SVN6V50" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:15:30.434 -04:00 [DBG] Connection id "0HN504SVN6V50" stopped.
2024-07-09 12:16:33.655 -04:00 [DBG] Connection id "0HN504SVN6V51" accepted.
2024-07-09 12:16:33.656 -04:00 [DBG] Connection id "0HN504SVN6V51" started.
2024-07-09 12:16:33.664 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=[HttpPost(%22actualizarEstadoPago%22)]&periodo=public%20async%20Task%3CIActionResult%3E%20ActualizarEstadoPago([FromBody]%20ActualizarPagoRequest%20request)-%7B - null null
2024-07-09 12:16:33.665 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:16:33.665 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:16:33.666 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.666 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.666 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.667 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.667 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:16:33.667 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:16:33.667 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:16:33.667 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:16:33.668 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:16:33.668 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:16:33.668 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.668 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.669 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.669 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:16:33.670 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.670 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.671 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.671 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.671 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.671 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:16:33.671 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.671 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.671 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.671 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.671 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:16:33.672 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:16:33.676 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:16:33.676 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:16:33.676 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:16:33.676 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:16:33.676 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:16:33.677 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 9.4132ms
2024-07-09 12:16:33.677 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.677 -04:00 [DBG] Connection id "0HN504SVN6V51" completed keep alive response.
2024-07-09 12:16:33.677 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=[HttpPost(%22actualizarEstadoPago%22)]&periodo=public%20async%20Task%3CIActionResult%3E%20ActualizarEstadoPago([FromBody]%20ActualizarPagoRequest%20request)-%7B - 400 289 application/problem+json; charset=utf-8 14.3095ms
2024-07-09 12:16:33.682 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20var%20factura%20=%20await%20_db.Facturas.FindAsync(request.FacturaId);&periodo=%20%20%20%20if%20(factura%20==%20null)-%20%20%20%20%7B - null null
2024-07-09 12:16:33.682 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:16:33.682 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:16:33.682 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.682 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.682 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.682 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.682 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:16:33.682 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:16:33.682 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:16:33.682 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:16:33.682 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:16:33.682 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:16:33.682 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.682 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.682 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.682 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:16:33.682 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.682 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.682 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.682 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.682 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.682 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:16:33.682 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.682 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.682 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.682 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.682 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:16:33.682 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:16:33.682 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:16:33.682 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:16:33.682 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:16:33.682 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:16:33.682 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:16:33.682 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5137ms
2024-07-09 12:16:33.682 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.682 -04:00 [DBG] Connection id "0HN504SVN6V51" completed keep alive response.
2024-07-09 12:16:33.682 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20var%20factura%20=%20await%20_db.Facturas.FindAsync(request.FacturaId);&periodo=%20%20%20%20if%20(factura%20==%20null)-%20%20%20%20%7B - 400 318 application/problem+json; charset=utf-8 0.8042ms
2024-07-09 12:16:33.683 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20return%20NotFound(%22Factura%20no%20encontrada%22);&periodo=%20%20%20%20%7D- - null null
2024-07-09 12:16:33.683 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:16:33.683 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:16:33.683 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.683 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.683 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.683 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.683 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:16:33.683 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:16:33.683 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:16:33.683 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:16:33.683 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:16:33.683 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:16:33.683 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.683 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.683 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.683 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:16:33.683 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.683 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.683 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.683 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.683 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.683 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:16:33.683 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.683 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.683 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.683 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.683 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:16:33.683 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:16:33.683 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:16:33.683 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:16:33.683 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:16:33.683 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:16:33.683 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:16:33.683 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3927ms
2024-07-09 12:16:33.683 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.683 -04:00 [DBG] Connection id "0HN504SVN6V51" completed keep alive response.
2024-07-09 12:16:33.683 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20return%20NotFound(%22Factura%20no%20encontrada%22);&periodo=%20%20%20%20%7D- - 400 303 application/problem+json; charset=utf-8 0.6333ms
2024-07-09 12:16:33.684 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20factura.Estado%20=%20%22Pagado%22;&periodo=%20%20%20%20factura.FechaPago%20=%20DateTime.UtcNow;-%20%20%20%20factura.MetodoPago%20=%20request.MetodoPago; - null null
2024-07-09 12:16:33.684 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:16:33.684 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:16:33.684 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.684 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.684 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.684 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.684 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:16:33.684 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:16:33.684 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:16:33.684 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:16:33.684 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:16:33.684 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:16:33.684 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.684 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.684 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.684 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:16:33.684 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.684 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.684 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.684 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.684 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.684 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:16:33.684 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.684 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.684 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.684 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.684 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:16:33.684 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:16:33.684 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:16:33.684 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:16:33.684 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:16:33.684 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:16:33.684 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:16:33.684 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3064ms
2024-07-09 12:16:33.684 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.684 -04:00 [DBG] Connection id "0HN504SVN6V51" completed keep alive response.
2024-07-09 12:16:33.684 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20factura.Estado%20=%20%22Pagado%22;&periodo=%20%20%20%20factura.FechaPago%20=%20DateTime.UtcNow;-%20%20%20%20factura.MetodoPago%20=%20request.MetodoPago; - 400 284 application/problem+json; charset=utf-8 0.4544ms
2024-07-09 12:16:33.685 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20factura.StripePaymentIntentId%20=%20request.PaymentIntentId;&periodo=-%20%20%20%20//%20Actualizar%20las%20cuentas%20por%20pagar - null null
2024-07-09 12:16:33.685 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:16:33.685 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:16:33.685 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.685 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:16:33.685 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.685 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.685 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:16:33.685 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:16:33.685 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:16:33.685 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:16:33.685 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:16:33.685 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:16:33.685 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.685 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:16:33.685 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.685 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:16:33.685 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.685 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.685 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:16:33.685 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:16:33.685 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.685 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:16:33.685 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.685 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.685 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:16:33.685 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:16:33.685 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:16:33.685 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:16:33.685 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:16:33.685 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:16:33.685 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:16:33.685 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:16:33.685 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:16:33.685 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.3928ms
2024-07-09 12:16:33.685 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:16:33.685 -04:00 [DBG] Connection id "0HN504SVN6V51" completed keep alive response.
2024-07-09 12:16:33.685 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20factura.StripePaymentIntentId%20=%20request.PaymentIntentId;&periodo=-%20%20%20%20//%20Actualizar%20las%20cuentas%20por%20pagar - 400 312 application/problem+json; charset=utf-8 0.5757ms
2024-07-09 12:16:38.198 -04:00 [DBG] Connection id "0HN504SVN6V51" received FIN.
2024-07-09 12:16:38.199 -04:00 [DBG] Connection id "0HN504SVN6V51" disconnecting.
2024-07-09 12:16:38.200 -04:00 [DBG] Connection id "0HN504SVN6V51" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:16:38.201 -04:00 [DBG] Connection id "0HN504SVN6V51" stopped.
2024-07-09 12:17:14.423 -04:00 [DBG] Connection id "0HN504SVN6V52" accepted.
2024-07-09 12:17:14.424 -04:00 [DBG] Connection id "0HN504SVN6V52" started.
2024-07-09 12:17:14.425 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=[HttpPost(%22actualizarEstadoPago%22)]&periodo=public%20async%20Task%3CIActionResult%3E%20ActualizarEstadoPago([FromBody]%20ActualizarPagoRequest%20request)-%7B - null null
2024-07-09 12:17:14.425 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:17:14.425 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:17:14.425 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.425 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.425 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.425 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.425 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:17:14.425 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:17:14.425 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:17:14.425 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:17:14.425 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:17:14.425 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:17:14.425 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.426 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.426 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.426 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:17:14.426 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.426 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.426 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.426 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.426 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.426 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:17:14.426 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.426 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.426 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.427 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.427 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:17:14.427 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:17:14.427 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:17:14.427 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:17:14.427 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:17:14.427 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:17:14.427 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:17:14.427 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 1.8694ms
2024-07-09 12:17:14.427 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.427 -04:00 [DBG] Connection id "0HN504SVN6V52" completed keep alive response.
2024-07-09 12:17:14.427 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=[HttpPost(%22actualizarEstadoPago%22)]&periodo=public%20async%20Task%3CIActionResult%3E%20ActualizarEstadoPago([FromBody]%20ActualizarPagoRequest%20request)-%7B - 400 289 application/problem+json; charset=utf-8 2.8016ms
2024-07-09 12:17:14.432 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20var%20factura%20=%20await%20_db.Facturas.FindAsync(request.FacturaId);&periodo=%20%20%20%20if%20(factura%20==%20null)-%20%20%20%20%7B - null null
2024-07-09 12:17:14.432 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:17:14.432 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:17:14.432 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.432 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.432 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.432 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.432 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:17:14.432 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:17:14.432 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:17:14.432 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:17:14.432 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:17:14.432 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:17:14.432 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.432 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.432 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.432 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:17:14.432 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.432 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.432 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.432 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.433 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.433 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:17:14.433 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.433 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.433 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.433 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.433 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:17:14.433 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:17:14.433 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:17:14.433 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:17:14.433 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:17:14.433 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:17:14.433 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:17:14.433 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.6082ms
2024-07-09 12:17:14.433 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.433 -04:00 [DBG] Connection id "0HN504SVN6V52" completed keep alive response.
2024-07-09 12:17:14.433 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20var%20factura%20=%20await%20_db.Facturas.FindAsync(request.FacturaId);&periodo=%20%20%20%20if%20(factura%20==%20null)-%20%20%20%20%7B - 400 318 application/problem+json; charset=utf-8 1.1823ms
2024-07-09 12:17:14.433 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20return%20NotFound(%22Factura%20no%20encontrada%22);&periodo=%20%20%20%20%7D- - null null
2024-07-09 12:17:14.433 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:17:14.433 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:17:14.433 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.433 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.433 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.433 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.433 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:17:14.433 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:17:14.433 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:17:14.433 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:17:14.433 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:17:14.433 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:17:14.433 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.433 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:17:14.434 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.434 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.434 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:17:14.434 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.434 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.434 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.434 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:17:14.434 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:17:14.434 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:17:14.434 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:17:14.434 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:17:14.434 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:17:14.434 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4145ms
2024-07-09 12:17:14.434 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.434 -04:00 [DBG] Connection id "0HN504SVN6V52" completed keep alive response.
2024-07-09 12:17:14.434 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20%20%20%20%20return%20NotFound(%22Factura%20no%20encontrada%22);&periodo=%20%20%20%20%7D- - 400 303 application/problem+json; charset=utf-8 0.6455ms
2024-07-09 12:17:14.434 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20factura.Estado%20=%20%22Pagado%22;&periodo=%20%20%20%20factura.FechaPago%20=%20DateTime.UtcNow;-%20%20%20%20factura.MetodoPago%20=%20request.MetodoPago; - null null
2024-07-09 12:17:14.434 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:17:14.434 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:17:14.434 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.434 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.434 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.434 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.434 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:17:14.434 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:17:14.434 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:17:14.434 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:17:14.434 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:17:14.434 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:17:14.434 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.434 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.434 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:17:14.435 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.435 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.435 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.435 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.435 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.435 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:17:14.435 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.435 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.435 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.435 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.435 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:17:14.435 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:17:14.435 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:17:14.435 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:17:14.435 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:17:14.435 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:17:14.435 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:17:14.435 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.4831ms
2024-07-09 12:17:14.435 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.435 -04:00 [DBG] Connection id "0HN504SVN6V52" completed keep alive response.
2024-07-09 12:17:14.435 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20factura.Estado%20=%20%22Pagado%22;&periodo=%20%20%20%20factura.FechaPago%20=%20DateTime.UtcNow;-%20%20%20%20factura.MetodoPago%20=%20request.MetodoPago; - 400 284 application/problem+json; charset=utf-8 0.706ms
2024-07-09 12:17:14.435 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20factura.StripePaymentIntentId%20=%20request.PaymentIntentId;&periodo=-%20%20%20%20//%20Actualizar%20las%20cuentas%20por%20pagar - null null
2024-07-09 12:17:14.435 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:17:14.435 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:17:14.435 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.435 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:14.435 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.436 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.436 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:17:14.436 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:17:14.436 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:17:14.436 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:17:14.436 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:17:14.436 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:17:14.436 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.436 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:14.436 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.436 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:17:14.436 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.436 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.436 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:14.436 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:14.436 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.436 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:17:14.436 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.436 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.436 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:14.436 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:14.436 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:17:14.436 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:17:14.436 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:17:14.436 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:17:14.436 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-09 12:17:14.436 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:17:14.436 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:17:14.436 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 0.5216ms
2024-07-09 12:17:14.436 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:14.436 -04:00 [DBG] Connection id "0HN504SVN6V52" completed keep alive response.
2024-07-09 12:17:14.436 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=%20%20%20factura.StripePaymentIntentId%20=%20request.PaymentIntentId;&periodo=-%20%20%20%20//%20Actualizar%20las%20cuentas%20por%20pagar - 400 312 application/problem+json; charset=utf-8 0.7936ms
2024-07-09 12:17:17.570 -04:00 [DBG] Connection id "0HN504SVN6V52" received FIN.
2024-07-09 12:17:17.571 -04:00 [DBG] Connection id "0HN504SVN6V52" disconnecting.
2024-07-09 12:17:17.571 -04:00 [DBG] Connection id "0HN504SVN6V52" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:17:17.572 -04:00 [DBG] Connection id "0HN504SVN6V52" stopped.
2024-07-09 12:17:34.836 -04:00 [DBG] Connection id "0HN504SVN6V53" accepted.
2024-07-09 12:17:34.836 -04:00 [DBG] Connection id "0HN504SVN6V53" started.
2024-07-09 12:17:34.840 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 12:17:34.840 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:17:34.840 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:17:34.840 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:34.840 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:17:34.840 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:34.840 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:34.840 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:17:34.840 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:17:34.840 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:17:34.840 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:17:34.840 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:17:34.840 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:17:34.840 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:34.841 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:34.841 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:34.841 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:17:34.841 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:34.841 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:34.841 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:17:34.841 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:17:34.841 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:34.841 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:17:34.841 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:34.841 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:34.841 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:17:34.841 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:17:34.841 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 12:17:34.843 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:17:34.844 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:17:34.844 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:17:34.844 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:34.844 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:34.844 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:17:34.844 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:17:34.844 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:17:34.844 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:17:34.906 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:17:34.906 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:34.906 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:34.906 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:17:34.906 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:34.906 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:17:34.907 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.2664ms.
2024-07-09 12:17:34.907 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:17:34.907 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:17:34.907 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:17:34.907 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:17:34.907 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:17:34.907 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:17:34.907 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 66.3953ms
2024-07-09 12:17:34.907 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:17:34.907 -04:00 [DBG] Connection id "0HN504SVN6V53" completed keep alive response.
2024-07-09 12:17:34.907 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:17:34.907 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:34.907 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:17:34.907 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 67.205ms
2024-07-09 12:17:38.403 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 12:17:38.403 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:17:38.404 -04:00 [DBG] POST requests are not supported
2024-07-09 12:17:38.404 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 12:17:38.404 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 12:17:38.404 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:17:38.404 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:17:38.404 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:17:38.404 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:17:38.404 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:17:38.404 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:17:38.404 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:17:38.404 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:17:38.404 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:38.404 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:17:38.404 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:17:38.404 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 12:17:38.404 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:17:38.404 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:17:38.405 -04:00 [DBG] Connection id "0HN504SVN6V53", Request id "0HN504SVN6V53:00000002": started reading request body.
2024-07-09 12:17:38.405 -04:00 [DBG] Connection id "0HN504SVN6V53", Request id "0HN504SVN6V53:00000002": done reading request body.
2024-07-09 12:17:38.405 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:17:38.405 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:17:38.405 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:17:38.405 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:17:38.405 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:17:38.406 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:17:38.406 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:17:38.406 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:17:38.406 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.406 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.406 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:17:38.406 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:17:38.406 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:17:38.406 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:17:38.470 -04:00 [INF] Executed DbCommand (63ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:17:38.470 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:38.470 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:38.470 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:38.471 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:38.471 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:38.471 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.471 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:17:38.471 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.471 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:17:38.471 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:38.472 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:38.472 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 12:17:38.472 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 12:17:38.472 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 12:17:38.473 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.473 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.473 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:17:38.473 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:17:38.473 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:17:38.473 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:17:38.562 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:17:38.562 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:17:38.563 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.563 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:17:38.563 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.563 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:17:38.563 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:17:38.563 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 12:17:38.563 -04:00 [INF] Factura creada exitosamente
2024-07-09 12:17:38.563 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 157.7398ms.
2024-07-09 12:17:38.563 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:17:38.563 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:17:38.563 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:17:38.563 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:17:38.563 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:17:38.563 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:17:38.564 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 159.9158ms
2024-07-09 12:17:38.564 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:17:38.564 -04:00 [DBG] Connection id "0HN504SVN6V53" completed keep alive response.
2024-07-09 12:17:38.564 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:17:38.564 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:17:38.564 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:17:38.564 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 160.5001ms
2024-07-09 12:17:38.577 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 12:17:38.577 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:17:38.577 -04:00 [DBG] POST requests are not supported
2024-07-09 12:17:38.577 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:17:38.577 -04:00 [DBG] Request did not match any endpoints
2024-07-09 12:17:38.577 -04:00 [DBG] Connection id "0HN504SVN6V53" completed keep alive response.
2024-07-09 12:17:38.577 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 0.2762ms
2024-07-09 12:17:38.577 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 12:17:38.577 -04:00 [DBG] Connection id "0HN504SVN6V53", Request id "0HN504SVN6V53:00000003": started reading request body.
2024-07-09 12:17:38.577 -04:00 [DBG] Connection id "0HN504SVN6V53", Request id "0HN504SVN6V53:00000003": done reading request body.
2024-07-09 12:18:49.861 -04:00 [DBG] Connection id "0HN504SVN6V53" received FIN.
2024-07-09 12:18:49.862 -04:00 [DBG] Connection id "0HN504SVN6V53" disconnecting.
2024-07-09 12:18:49.863 -04:00 [DBG] Connection id "0HN504SVN6V53" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:18:49.864 -04:00 [DBG] Connection id "0HN504SVN6V53" stopped.
2024-07-09 12:19:41.085 -04:00 [DBG] Connection id "0HN504SVN6V54" received FIN.
2024-07-09 12:19:41.085 -04:00 [DBG] Connection id "0HN504SVN6V54" accepted.
2024-07-09 12:19:41.085 -04:00 [DBG] Connection id "0HN504SVN6V54" started.
2024-07-09 12:19:41.085 -04:00 [DBG] Connection id "0HN504SVN6V55" accepted.
2024-07-09 12:19:41.085 -04:00 [DBG] Connection id "0HN504SVN6V55" started.
2024-07-09 12:19:41.086 -04:00 [DBG] Connection id "0HN504SVN6V54" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:19:41.086 -04:00 [DBG] Connection id "0HN504SVN6V54" disconnecting.
2024-07-09 12:19:41.086 -04:00 [DBG] Connection id "0HN504SVN6V54" stopped.
2024-07-09 12:19:41.086 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json 89
2024-07-09 12:19:41.095 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/8/2024 7:16:56 PM', Current time (UTC): '7/9/2024 4:19:41 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-07-09 12:19:41.097 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/8/2024 7:16:56 PM', Current time (UTC): '7/9/2024 4:19:41 PM'.
2024-07-09 12:19:41.097 -04:00 [DBG] POST requests are not supported
2024-07-09 12:19:41.097 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:19:41.097 -04:00 [DBG] Request did not match any endpoints
2024-07-09 12:19:41.097 -04:00 [DBG] Connection id "0HN504SVN6V55" completed keep alive response.
2024-07-09 12:19:41.097 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 11.0348ms
2024-07-09 12:19:41.097 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 12:19:41.097 -04:00 [DBG] Connection id "0HN504SVN6V55", Request id "0HN504SVN6V55:00000001": started reading request body.
2024-07-09 12:19:41.098 -04:00 [DBG] Connection id "0HN504SVN6V55", Request id "0HN504SVN6V55:00000001": done reading request body.
2024-07-09 12:19:45.507 -04:00 [DBG] Connection id "0HN504SVN6V55" received FIN.
2024-07-09 12:19:45.512 -04:00 [DBG] Connection id "0HN504SVN6V55" disconnecting.
2024-07-09 12:19:45.512 -04:00 [DBG] Connection id "0HN504SVN6V55" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:19:45.513 -04:00 [DBG] Connection id "0HN504SVN6V55" stopped.
2024-07-09 12:22:00.550 -04:00 [DBG] Connection id "0HN504SVN6V56" received FIN.
2024-07-09 12:22:00.551 -04:00 [DBG] Connection id "0HN504SVN6V56" accepted.
2024-07-09 12:22:00.552 -04:00 [DBG] Connection id "0HN504SVN6V57" accepted.
2024-07-09 12:22:00.552 -04:00 [DBG] Connection id "0HN504SVN6V56" started.
2024-07-09 12:22:00.552 -04:00 [DBG] Connection id "0HN504SVN6V57" started.
2024-07-09 12:22:00.552 -04:00 [DBG] Connection id "0HN504SVN6V56" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:22:00.553 -04:00 [DBG] Connection id "0HN504SVN6V56" disconnecting.
2024-07-09 12:22:00.553 -04:00 [DBG] Connection id "0HN504SVN6V56" stopped.
2024-07-09 12:22:00.553 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json 95
2024-07-09 12:22:00.557 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/8/2024 7:16:56 PM', Current time (UTC): '7/9/2024 4:22:00 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-07-09 12:22:00.558 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/8/2024 7:16:56 PM', Current time (UTC): '7/9/2024 4:22:00 PM'.
2024-07-09 12:22:00.559 -04:00 [DBG] POST requests are not supported
2024-07-09 12:22:00.559 -04:00 [DBG] No candidates found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:22:00.559 -04:00 [DBG] Request did not match any endpoints
2024-07-09 12:22:00.559 -04:00 [DBG] Connection id "0HN504SVN6V57" completed keep alive response.
2024-07-09 12:22:00.559 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 404 0 null 6.4197ms
2024-07-09 12:22:00.559 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5104/api/Factura/actualizarEstadoPago, Response status code: 404
2024-07-09 12:22:00.559 -04:00 [DBG] Connection id "0HN504SVN6V57", Request id "0HN504SVN6V57:00000001": started reading request body.
2024-07-09 12:22:00.559 -04:00 [DBG] Connection id "0HN504SVN6V57", Request id "0HN504SVN6V57:00000001": done reading request body.
2024-07-09 12:22:17.032 -04:00 [DBG] Connection id "0HN504SVN6V58" accepted.
2024-07-09 12:22:17.032 -04:00 [DBG] Connection id "0HN504SVN6V58" started.
2024-07-09 12:22:17.032 -04:00 [DBG] Connection id "0HN504SVN6V59" accepted.
2024-07-09 12:22:17.032 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:22:17.034 -04:00 [DBG] Connection id "0HN504SVN6V59" started.
2024-07-09 12:22:17.034 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:17.036 -04:00 [DBG] Connection id "0HN504SVN6V58" completed keep alive response.
2024-07-09 12:22:17.036 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 4.2573ms
2024-07-09 12:22:17.230 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:22:17.230 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:17.339 -04:00 [DBG] Connection id "0HN504SVN6V58" completed keep alive response.
2024-07-09 12:22:17.339 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.7788ms
2024-07-09 12:22:17.814 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:22:17.814 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:17.814 -04:00 [DBG] Connection id "0HN504SVN6V58" completed keep alive response.
2024-07-09 12:22:17.814 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.5689ms
2024-07-09 12:22:17.875 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:22:17.875 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:17.926 -04:00 [DBG] Connection id "0HN504SVN6V58" completed keep alive response.
2024-07-09 12:22:17.926 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.2458ms
2024-07-09 12:22:18.001 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:22:18.001 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:18.001 -04:00 [DBG] Connection id "0HN504SVN6V58" completed keep alive response.
2024-07-09 12:22:18.001 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.5361ms
2024-07-09 12:22:18.080 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:22:18.080 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:18.114 -04:00 [DBG] Connection id "0HN504SVN6V58" completed keep alive response.
2024-07-09 12:22:18.114 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.5491ms
2024-07-09 12:22:18.187 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:22:18.187 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:18.189 -04:00 [DBG] Connection id "0HN504SVN6V58" completed keep alive response.
2024-07-09 12:22:18.190 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 3.691ms
2024-07-09 12:22:18.256 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:22:18.257 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:18.306 -04:00 [DBG] Connection id "0HN504SVN6V58" completed keep alive response.
2024-07-09 12:22:18.307 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.1417ms
2024-07-09 12:22:19.266 -04:00 [DBG] Connection id "0HN504SVN6V59" received FIN.
2024-07-09 12:22:19.266 -04:00 [DBG] Connection id "0HN504SVN6V58" received FIN.
2024-07-09 12:22:19.266 -04:00 [DBG] Connection id "0HN504SVN6V59" disconnecting.
2024-07-09 12:22:19.266 -04:00 [DBG] Connection id "0HN504SVN6V58" disconnecting.
2024-07-09 12:22:19.266 -04:00 [DBG] Connection id "0HN504SVN6V59" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:22:19.266 -04:00 [DBG] Connection id "0HN504SVN6V58" stopped.
2024-07-09 12:22:19.266 -04:00 [DBG] Connection id "0HN504SVN6V58" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:22:19.267 -04:00 [DBG] Connection id "0HN504SVN6V59" stopped.
2024-07-09 12:22:45.126 -04:00 [INF] Application is shutting down...
2024-07-09 12:22:45.129 -04:00 [DBG] Hosting stopping
2024-07-09 12:22:45.142 -04:00 [DBG] Connection id "0HN504SVN6V57" disconnecting.
2024-07-09 12:22:45.142 -04:00 [DBG] Connection id "0HN504SVN6V57" stopped.
2024-07-09 12:22:45.142 -04:00 [DBG] Connection id "0HN504SVN6V57" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:22:45.147 -04:00 [DBG] Hosting stopped
2024-07-09 12:22:56.579 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-09 12:22:56.639 -04:00 [DBG] Hosting starting
2024-07-09 12:22:56.643 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-07-09 12:22:56.649 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2024-07-09 12:22:56.651 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2024-07-09 12:22:56.652 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2024-07-09 12:22:56.653 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2024-07-09 12:22:56.656 -04:00 [DBG] Considering key {b06a4e2e-7908-41eb-9b39-8691b777fc93} with expiration date 2024-08-26 20:47:39Z as default key.
2024-07-09 12:22:56.657 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-09 12:22:56.659 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-07-09 12:22:56.659 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-07-09 12:22:56.661 -04:00 [DBG] Using key {b06a4e2e-7908-41eb-9b39-8691b777fc93} as the default key.
2024-07-09 12:22:56.661 -04:00 [DBG] Key ring with default key {b06a4e2e-7908-41eb-9b39-8691b777fc93} was loaded during application startup.
2024-07-09 12:22:56.693 -04:00 [INF] Now listening on: http://localhost:5104
2024-07-09 12:22:56.693 -04:00 [DBG] Loaded hosting startup assembly CRUD
2024-07-09 12:22:56.694 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-09 12:22:56.694 -04:00 [INF] Hosting environment: Development
2024-07-09 12:22:56.694 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/University-Backend/CRUD
2024-07-09 12:22:56.694 -04:00 [DBG] Hosting started
2024-07-09 12:22:56.876 -04:00 [DBG] Connection id "0HN506DI74R13" received FIN.
2024-07-09 12:22:56.879 -04:00 [DBG] Connection id "0HN506DI74R13" accepted.
2024-07-09 12:22:56.880 -04:00 [DBG] Connection id "0HN506DI74R13" started.
2024-07-09 12:22:56.883 -04:00 [DBG] Connection id "0HN506DI74R13" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:22:56.886 -04:00 [DBG] Connection id "0HN506DI74R13" disconnecting.
2024-07-09 12:22:56.888 -04:00 [DBG] Connection id "0HN506DI74R13" stopped.
2024-07-09 12:22:57.131 -04:00 [DBG] Connection id "0HN506DI74R14" accepted.
2024-07-09 12:22:57.132 -04:00 [DBG] Connection id "0HN506DI74R14" started.
2024-07-09 12:22:57.132 -04:00 [DBG] Connection id "0HN506DI74R15" accepted.
2024-07-09 12:22:57.132 -04:00 [DBG] Connection id "0HN506DI74R15" started.
2024-07-09 12:22:57.742 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:22:57.745 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-09 12:22:57.765 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:57.836 -04:00 [DBG] Connection id "0HN506DI74R14" completed keep alive response.
2024-07-09 12:22:57.837 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 96.5952ms
2024-07-09 12:22:57.914 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:22:57.915 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:22:58.087 -04:00 [DBG] Connection id "0HN506DI74R14" completed keep alive response.
2024-07-09 12:22:58.087 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.299ms
2024-07-09 12:22:59.272 -04:00 [DBG] Connection id "0HN506DI74R15" received FIN.
2024-07-09 12:22:59.272 -04:00 [DBG] Connection id "0HN506DI74R14" received FIN.
2024-07-09 12:22:59.273 -04:00 [DBG] Connection id "0HN506DI74R15" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:22:59.275 -04:00 [DBG] Connection id "0HN506DI74R15" disconnecting.
2024-07-09 12:22:59.277 -04:00 [DBG] Connection id "0HN506DI74R14" disconnecting.
2024-07-09 12:22:59.278 -04:00 [DBG] Connection id "0HN506DI74R14" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:22:59.278 -04:00 [DBG] Connection id "0HN506DI74R15" stopped.
2024-07-09 12:22:59.288 -04:00 [DBG] Connection id "0HN506DI74R14" stopped.
2024-07-09 12:23:15.296 -04:00 [DBG] Connection id "0HN506DI74R16" received FIN.
2024-07-09 12:23:15.299 -04:00 [DBG] Connection id "0HN506DI74R16" accepted.
2024-07-09 12:23:15.300 -04:00 [DBG] Connection id "0HN506DI74R17" accepted.
2024-07-09 12:23:15.300 -04:00 [DBG] Connection id "0HN506DI74R16" started.
2024-07-09 12:23:15.301 -04:00 [DBG] Connection id "0HN506DI74R16" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:23:15.302 -04:00 [DBG] Connection id "0HN506DI74R16" disconnecting.
2024-07-09 12:23:15.302 -04:00 [DBG] Connection id "0HN506DI74R16" stopped.
2024-07-09 12:23:15.302 -04:00 [DBG] Connection id "0HN506DI74R17" started.
2024-07-09 12:23:15.305 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json 95
2024-07-09 12:23:15.350 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/8/2024 7:16:56 PM', Current time (UTC): '7/9/2024 4:23:15 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-07-09 12:23:15.358 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/8/2024 7:16:56 PM', Current time (UTC): '7/9/2024 4:23:15 PM'.
2024-07-09 12:23:15.359 -04:00 [DBG] POST requests are not supported
2024-07-09 12:23:15.360 -04:00 [WRN] Failed to determine the https port for redirect.
2024-07-09 12:23:15.380 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:23:15.383 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD)' with route pattern 'api/Factura/actualizarEstadoPago' is valid for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:23:15.383 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD)'
2024-07-09 12:23:15.385 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD)'
2024-07-09 12:23:15.401 -04:00 [INF] Route matched with {action = "ActualizarEstadoPago", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ActualizarEstadoPago(CRUD.Controllers.ActualizarPagoRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:23:15.402 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:23:15.402 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:23:15.402 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:23:15.402 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:23:15.402 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:23:15.403 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:23:15.495 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-09 12:23:15.510 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:23:15.511 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest' ...
2024-07-09 12:23:15.512 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest' using the name '' in request data ...
2024-07-09 12:23:15.512 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-07-09 12:23:15.512 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-07-09 12:23:15.515 -04:00 [DBG] Connection id "0HN506DI74R17", Request id "0HN506DI74R17:00000001": started reading request body.
2024-07-09 12:23:15.515 -04:00 [DBG] Connection id "0HN506DI74R17", Request id "0HN506DI74R17:00000001": done reading request body.
2024-07-09 12:23:15.566 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest'.
2024-07-09 12:23:15.566 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest'.
2024-07-09 12:23:15.566 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest' ...
2024-07-09 12:23:15.569 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest'.
2024-07-09 12:23:15.570 -04:00 [DBG] The request has model state errors, returning an error response.
2024-07-09 12:23:15.571 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-09 12:23:15.571 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:23:15.572 -04:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-07-09 12:23:15.572 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-09 12:23:15.572 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-09 12:23:15.608 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD) in 204.0545ms
2024-07-09 12:23:15.608 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD)'
2024-07-09 12:23:15.608 -04:00 [DBG] Connection id "0HN506DI74R17" completed keep alive response.
2024-07-09 12:23:15.609 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 400 264 application/problem+json; charset=utf-8 304.5007ms
2024-07-09 12:23:35.512 -04:00 [DBG] Connection id "0HN506DI74R17" received FIN.
2024-07-09 12:23:35.516 -04:00 [DBG] Connection id "0HN506DI74R17" disconnecting.
2024-07-09 12:23:35.516 -04:00 [DBG] Connection id "0HN506DI74R17" stopped.
2024-07-09 12:23:35.517 -04:00 [DBG] Connection id "0HN506DI74R17" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:23:39.094 -04:00 [INF] Application is shutting down...
2024-07-09 12:23:39.095 -04:00 [DBG] Hosting stopping
2024-07-09 12:23:39.103 -04:00 [DBG] Hosting stopped
2024-07-09 12:23:52.654 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-09 12:23:52.717 -04:00 [DBG] Hosting starting
2024-07-09 12:23:52.720 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-07-09 12:23:52.725 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2024-07-09 12:23:52.727 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2024-07-09 12:23:52.728 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2024-07-09 12:23:52.729 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2024-07-09 12:23:52.731 -04:00 [DBG] Considering key {b06a4e2e-7908-41eb-9b39-8691b777fc93} with expiration date 2024-08-26 20:47:39Z as default key.
2024-07-09 12:23:52.732 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-09 12:23:52.734 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-07-09 12:23:52.734 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-07-09 12:23:52.737 -04:00 [DBG] Using key {b06a4e2e-7908-41eb-9b39-8691b777fc93} as the default key.
2024-07-09 12:23:52.737 -04:00 [DBG] Key ring with default key {b06a4e2e-7908-41eb-9b39-8691b777fc93} was loaded during application startup.
2024-07-09 12:23:52.773 -04:00 [INF] Now listening on: http://localhost:5104
2024-07-09 12:23:52.773 -04:00 [DBG] Loaded hosting startup assembly CRUD
2024-07-09 12:23:52.773 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-09 12:23:52.773 -04:00 [INF] Hosting environment: Development
2024-07-09 12:23:52.773 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/University-Backend/CRUD
2024-07-09 12:23:52.773 -04:00 [DBG] Hosting started
2024-07-09 12:23:53.071 -04:00 [DBG] Connection id "0HN506E2V21A9" received FIN.
2024-07-09 12:23:53.078 -04:00 [DBG] Connection id "0HN506E2V21A9" accepted.
2024-07-09 12:23:53.078 -04:00 [DBG] Connection id "0HN506E2V21A9" started.
2024-07-09 12:23:53.087 -04:00 [DBG] Connection id "0HN506E2V21A9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:23:53.089 -04:00 [DBG] Connection id "0HN506E2V21A9" disconnecting.
2024-07-09 12:23:53.092 -04:00 [DBG] Connection id "0HN506E2V21A9" stopped.
2024-07-09 12:23:53.208 -04:00 [DBG] Connection id "0HN506E2V21AA" accepted.
2024-07-09 12:23:53.208 -04:00 [DBG] Connection id "0HN506E2V21AB" accepted.
2024-07-09 12:23:53.208 -04:00 [DBG] Connection id "0HN506E2V21AA" started.
2024-07-09 12:23:53.208 -04:00 [DBG] Connection id "0HN506E2V21AB" started.
2024-07-09 12:23:53.226 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:23:53.228 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-09 12:23:53.249 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:23:53.320 -04:00 [DBG] Connection id "0HN506E2V21AA" completed keep alive response.
2024-07-09 12:23:53.321 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 97.4067ms
2024-07-09 12:23:53.389 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:23:53.390 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:23:53.578 -04:00 [DBG] Connection id "0HN506E2V21AA" completed keep alive response.
2024-07-09 12:23:53.579 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 189.7485ms
2024-07-09 12:23:54.273 -04:00 [DBG] Connection id "0HN506E2V21AB" received FIN.
2024-07-09 12:23:54.273 -04:00 [DBG] Connection id "0HN506E2V21AA" received FIN.
2024-07-09 12:23:54.273 -04:00 [DBG] Connection id "0HN506E2V21AB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:23:54.273 -04:00 [DBG] Connection id "0HN506E2V21AA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:23:54.274 -04:00 [DBG] Connection id "0HN506E2V21AB" disconnecting.
2024-07-09 12:23:54.274 -04:00 [DBG] Connection id "0HN506E2V21AA" disconnecting.
2024-07-09 12:23:54.275 -04:00 [DBG] Connection id "0HN506E2V21AA" stopped.
2024-07-09 12:23:54.275 -04:00 [DBG] Connection id "0HN506E2V21AB" stopped.
2024-07-09 12:24:51.887 -04:00 [DBG] Connection id "0HN506E2V21AC" accepted.
2024-07-09 12:24:51.888 -04:00 [DBG] Connection id "0HN506E2V21AC" started.
2024-07-09 12:24:51.891 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - null null
2024-07-09 12:24:51.892 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:24:51.893 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:24:51.893 -04:00 [WRN] Failed to determine the https port for redirect.
2024-07-09 12:24:51.909 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:24:51.911 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)' with route pattern 'api/Factura/verificarDeuda' is valid for the request path '/api/Factura/verificarDeuda'
2024-07-09 12:24:51.911 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:24:51.913 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:24:51.926 -04:00 [INF] Route matched with {action = "VerificarDeuda", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerificarDeuda(Int32, System.String) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:24:51.926 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:24:51.926 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:24:51.926 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:24:51.926 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:24:51.927 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:24:51.927 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:24:51.990 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-09 12:24:52.002 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:24:52.006 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:24:52.006 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-07-09 12:24:52.006 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:24:52.006 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:24:52.006 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-07-09 12:24:52.007 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-07-09 12:24:52.008 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-07-09 12:24:52.008 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-07-09 12:24:52.008 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:24:52.008 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-07-09 12:24:52.008 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-07-09 12:24:52.009 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-07-09 12:24:52.012 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) - Validation state: "Valid"
2024-07-09 12:24:52.335 -04:00 [DBG] The index {'CarreraId'} was not created on entity type 'CarreraMateria' as the properties are already covered by the index {'CarreraId', 'CodigoMateria'}.
2024-07-09 12:24:52.336 -04:00 [DBG] The index {'CodigoMateria'} was not created on entity type 'EstudianteMateria' as the properties are already covered by the index {'CodigoMateria', 'CodigoEstudiante'}.
2024-07-09 12:24:52.336 -04:00 [DBG] The index {'DocenteId'} was not created on entity type 'MateriaDocente' as the properties are already covered by the index {'DocenteId', 'CodigoMateria'}.
2024-07-09 12:24:52.415 -04:00 [DBG] The property 'CarreraMateria.EstudianteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 12:24:52.416 -04:00 [DBG] The property 'Factura.CuentaPorPagarIdCuentaPorPagar' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 12:24:52.416 -04:00 [DBG] The property 'Materia.AulaCodigoAula' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 12:24:52.498 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:24:52.535 -04:00 [DBG] Compiling query expression: 
'DbSet<CuentaPorPagar>()
    .Where(c => c.CodigoEstudiante == __codigoEstudiante_0 && c.EstudianteMateria.PeriodoCursado == __periodo_1 && c.MontoTotalaPagar > (decimal?)0)'
2024-07-09 12:24:52.752 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CuentaPorPagar>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CuentaPorPagar.IdCuentaPorPagar (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CuentaPorPagar.CodigoEstudiante (int) Required FK Index, 1], [Property: CuentaPorPagar.CodigoMateria (string) Required FK Index, 2], [Property: CuentaPorPagar.Estado (string) Required, 3], [Property: CuentaPorPagar.MontoTotalaPagar (decimal?), 4] }
        SELECT c.IdCuentaPorPagar, c.CodigoEstudiante, c.CodigoMateria, c.Estado, c.MontoTotalaPagar
        FROM CuentaPorPagars AS c
        INNER JOIN EstudianteMaterias AS e ON (c.CodigoMateria == e.CodigoMateria) && (c.CodigoEstudiante == e.CodigoEstudiante)
        WHERE ((c.CodigoEstudiante == @__codigoEstudiante_0) && (e.PeriodoCursado == @__periodo_1)) && (c.MontoTotalaPagar > 0.0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CuentaPorPagar entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CuentaPorPagar instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CuentaPorPagar);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CuentaPorPagar.IdCuentaPorPagar PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CuentaPorPagar)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]: 
                        {
                            return 
                            {
                                CuentaPorPagar instance;
                                instance = new CuentaPorPagar();
                                instance.<IdCuentaPorPagar>k__BackingField = dataReader.GetInt32(0);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(2);
                                instance.<Estado>k__BackingField = dataReader.GetString(3);
                                instance.<MontoTotalaPagar>k__BackingField = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CuentaPorPagar)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 12:24:52.777 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:24:52.793 -04:00 [DBG] Created DbConnection. (14ms).
2024-07-09 12:24:52.795 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:53.267 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:53.271 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:24:53.275 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-09 12:24:53.281 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-07-09 12:24:53.287 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:24:53.380 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:24:53.411 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:53.428 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:53.433 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 48ms reading results.
2024-07-09 12:24:53.435 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:53.439 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (4ms).
2024-07-09 12:24:53.443 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.VerificarDeuda (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1429.6045ms.
2024-07-09 12:24:53.446 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:24:53.447 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:24:53.447 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:24:53.447 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:24:53.447 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:24:53.447 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:24:53.519 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.VerificarDeuda (CRUD) in 1589.7457ms
2024-07-09 12:24:53.519 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.VerificarDeuda (CRUD)'
2024-07-09 12:24:53.522 -04:00 [DBG] Connection id "0HN506E2V21AC" completed keep alive response.
2024-07-09 12:24:53.524 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:24:53.527 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:53.528 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-09 12:24:53.528 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/verificarDeuda?codigoEstudiante=1949999&periodo=2024-MAY-JUL - 200 40 application/json; charset=utf-8 1637.92ms
2024-07-09 12:24:58.130 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - application/json; charset=utf-8 null
2024-07-09 12:24:58.131 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:24:58.131 -04:00 [DBG] POST requests are not supported
2024-07-09 12:24:58.133 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/generarFactura'
2024-07-09 12:24:58.134 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)' with route pattern 'api/Factura/generarFactura' is valid for the request path '/api/Factura/generarFactura'
2024-07-09 12:24:58.134 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:24:58.134 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:24:58.137 -04:00 [INF] Route matched with {action = "GenerarFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerarFactura(CRUD.Controllers.FacturaRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:24:58.137 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:24:58.137 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:24:58.137 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:24:58.137 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:24:58.137 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:24:58.137 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:24:58.137 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:24:58.138 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:24:58.138 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest' using the name '' in request data ...
2024-07-09 12:24:58.139 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:24:58.139 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:24:58.142 -04:00 [DBG] Connection id "0HN506E2V21AC", Request id "0HN506E2V21AC:00000002": started reading request body.
2024-07-09 12:24:58.145 -04:00 [DBG] Connection id "0HN506E2V21AC", Request id "0HN506E2V21AC:00000002": done reading request body.
2024-07-09 12:24:58.163 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:24:58.163 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:24:58.163 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest' ...
2024-07-09 12:24:58.164 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.FacturaRequest'.
2024-07-09 12:24:58.164 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:24:58.173 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:24:58.175 -04:00 [DBG] Compiling query expression: 
'DbSet<CuentaPorPagar>()
    .Include(cp => cp.EstudianteMateria)
    .ThenInclude(em => em.Materias)
    .Where(c => c.EstudianteMateria.PeriodoCursado == __request_Periodo_0 && c.CodigoEstudiante == __request_CodigoEstudiante_1 && c.MontoTotalaPagar > (decimal?)0)'
2024-07-09 12:24:58.179 -04:00 [DBG] Including navigation: 'CuentaPorPagar.EstudianteMateria'.
2024-07-09 12:24:58.179 -04:00 [DBG] Including navigation: 'EstudianteMateria.Materias'.
2024-07-09 12:24:58.191 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CuentaPorPagar>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: CuentaPorPagar.IdCuentaPorPagar (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CuentaPorPagar.CodigoEstudiante (int) Required FK Index, 1], [Property: CuentaPorPagar.CodigoMateria (string) Required FK Index, 2], [Property: CuentaPorPagar.Estado (string) Required, 3], [Property: CuentaPorPagar.MontoTotalaPagar (decimal?), 4] }
            1 -> Dictionary<IProperty, int> { [Property: EstudianteMateria.CodigoMateria (string) Required PK FK AfterSave:Throw, 5], [Property: EstudianteMateria.CodigoEstudiante (int) Required PK FK Index AfterSave:Throw, 6], [Property: EstudianteMateria.CalificacionFinal (string) Required MaxLength(2), 7], [Property: EstudianteMateria.CalificacionMedioTermino (string) Required, 8], [Property: EstudianteMateria.PeriodoCursado (string) Required MaxLength(50), 9], [Property: EstudianteMateria.SeccionId (string) FK Index, 10] }
            2 -> Dictionary<IProperty, int> { [Property: Materia.CodigoMateria (string) Required PK AfterSave:Throw, 11], [Property: Materia.AreaAcademica (string) Required MaxLength(100), 12], [Property: Materia.AulaCodigoAula (no field, string) Shadow FK Index, 13], [Property: Materia.CreditosMateria (int) Required, 14], [Property: Materia.NombreMateria (string) Required MaxLength(100), 15], [Property: Materia.TipoMateria (string) Required MaxLength(50), 16] }
        SELECT c.IdCuentaPorPagar, c.CodigoEstudiante, c.CodigoMateria, c.Estado, c.MontoTotalaPagar, e.CodigoMateria, e.CodigoEstudiante, e.CalificacionFinal, e.CalificacionMedioTermino, e.PeriodoCursado, e.SeccionId, m.CodigoMateria, m.AreaAcademica, m.AulaCodigoAula, m.CreditosMateria, m.NombreMateria, m.TipoMateria
        FROM CuentaPorPagars AS c
        INNER JOIN EstudianteMaterias AS e ON (c.CodigoMateria == e.CodigoMateria) && (c.CodigoEstudiante == e.CodigoEstudiante)
        INNER JOIN Materias AS m ON e.CodigoMateria == m.CodigoMateria
        WHERE ((e.PeriodoCursado == @__request_Periodo_0) && (c.CodigoEstudiante == @__request_CodigoEstudiante_1)) && (c.MontoTotalaPagar > 0.0)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CuentaPorPagar entity;
        EstudianteMateria entity;
        Materia entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CuentaPorPagar instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CuentaPorPagar);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CuentaPorPagar.IdCuentaPorPagar PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CuentaPorPagar)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]: 
                        {
                            return 
                            {
                                CuentaPorPagar instance;
                                instance = new CuentaPorPagar();
                                instance.<IdCuentaPorPagar>k__BackingField = dataReader.GetInt32(0);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(2);
                                instance.<Estado>k__BackingField = dataReader.GetString(3);
                                instance.<MontoTotalaPagar>k__BackingField = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CuentaPorPagar)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            EstudianteMateria instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(EstudianteMateria);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: EstudianteMateria.CodigoMateria, EstudianteMateria.CodigoEstudiante PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindPrimaryKey()], 
                keyValues: new object[]
                { 
                    (object)dataReader.GetString(5), 
                    (object)dataReader.GetInt32(6) 
                }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (EstudianteMateria)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")]: 
                        {
                            return 
                            {
                                EstudianteMateria instance;
                                instance = new EstudianteMateria();
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(5);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(6);
                                instance.<CalificacionFinal>k__BackingField = dataReader.GetString(7);
                                instance.<CalificacionMedioTermino>k__BackingField = dataReader.GetString(8);
                                instance.<PeriodoCursado>k__BackingField = dataReader.GetString(9);
                                instance.<SeccionId>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(EstudianteMateria)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Materia instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Materia);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Materia.CodigoMateria PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(11) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Materia)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<string>(dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13));
                            return 
                            {
                                Materia instance;
                                instance = new Materia();
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(11);
                                instance.<AreaAcademica>k__BackingField = dataReader.GetString(12);
                                instance.<CreditosMateria>k__BackingField = dataReader.GetInt32(14);
                                instance.<NombreMateria>k__BackingField = dataReader.GetString(15);
                                instance.<TipoMateria>k__BackingField = dataReader.GetString(16);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Materia)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<EstudianteMateria, EstudianteMateria, Materia>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: EstudianteMateria.Materias (Materia) ToPrincipal Materia Inverse: EstudianteMaterias | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindNavigation("Materias")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Materia.EstudianteMaterias (ICollection<EstudianteMateria>) Collection ToDependent EstudianteMateria Inverse: Materias | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindNavigation("EstudianteMaterias")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Materias>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Materia, ICollection<EstudianteMateria>, EstudianteMateria> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindNavigation("EstudianteMaterias").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<CuentaPorPagar, CuentaPorPagar, EstudianteMateria>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: CuentaPorPagar.EstudianteMateria (EstudianteMateria) ToPrincipal EstudianteMateria Inverse: CuentaPorPagars | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar").FindNavigation("EstudianteMateria")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: EstudianteMateria.CuentaPorPagars (ICollection<CuentaPorPagar>) Collection ToDependent CuentaPorPagar Inverse: EstudianteMateria | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindNavigation("CuentaPorPagars")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<EstudianteMateria>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<EstudianteMateria, ICollection<CuentaPorPagar>, CuentaPorPagar> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindNavigation("CuentaPorPagars").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 12:24:58.193 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:24:58.193 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:24:58.193 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.194 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.194 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:24:58.194 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.194 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.194 -04:00 [DBG] Executing DbCommand [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:24:58.256 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__request_Periodo_0='?' (Size = 50), @__request_CodigoEstudiante_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar], [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[CalificacionFinal], [e].[CalificacionMedioTermino], [e].[PeriodoCursado], [e].[SeccionId], [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
WHERE [e].[PeriodoCursado] = @__request_Periodo_0 AND [c].[CodigoEstudiante] = @__request_CodigoEstudiante_1 AND [c].[MontoTotalaPagar] > 0.0
2024-07-09 12:24:58.256 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.271 -04:00 [DBG] The navigation 'CuentaPorPagar.EstudianteMateria' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.277 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.288 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.291 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.295 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.295 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 38ms reading results.
2024-07-09 12:24:58.295 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.295 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:24:58.308 -04:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Factura.IdFactura'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.327 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.329 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 12:24:58.330 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 12:24:58.348 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 12:24:58.391 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.391 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.393 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:24:58.393 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.394 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.394 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:24:58.490 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([CodigoEstudiante], [CuentaPorPagarIdCuentaPorPagar], [Estado], [FechaCreacion], [FechaPago], [MarcaTarjeta], [MetodoPago], [MontoTotal], [Periodo], [StripeCustomerId], [StripePaymentIntentId], [UltimosDigitosTarjeta])
OUTPUT INSERTED.[IdFactura]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-07-09 12:24:58.498 -04:00 [DBG] The foreign key property 'Factura.IdFactura' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:24:58.502 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.502 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 11ms reading results.
2024-07-09 12:24:58.502 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.503 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:24:58.510 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.511 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-07-09 12:24:58.511 -04:00 [INF] Factura creada exitosamente
2024-07-09 12:24:58.511 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GenerarFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 347.3972ms.
2024-07-09 12:24:58.512 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:24:58.512 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:24:58.512 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:24:58.512 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:24:58.512 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:24:58.512 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:24:58.514 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GenerarFactura (CRUD) in 377.07ms
2024-07-09 12:24:58.514 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GenerarFactura (CRUD)'
2024-07-09 12:24:58.514 -04:00 [DBG] Connection id "0HN506E2V21AC" completed keep alive response.
2024-07-09 12:24:58.514 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:24:58.514 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.514 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:24:58.514 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/generarFactura - 200 52 application/json; charset=utf-8 384.0442ms
2024-07-09 12:24:58.523 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - application/json; charset=utf-8 null
2024-07-09 12:24:58.523 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:24:58.523 -04:00 [DBG] POST requests are not supported
2024-07-09 12:24:58.523 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:24:58.523 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD)' with route pattern 'api/Factura/actualizarEstadoPago' is valid for the request path '/api/Factura/actualizarEstadoPago'
2024-07-09 12:24:58.523 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD)'
2024-07-09 12:24:58.524 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD)'
2024-07-09 12:24:58.525 -04:00 [INF] Route matched with {action = "ActualizarEstadoPago", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ActualizarEstadoPago(CRUD.Controllers.ActualizarPagoRequest) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:24:58.525 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:24:58.525 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:24:58.525 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:24:58.525 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:24:58.525 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:24:58.525 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:24:58.526 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:24:58.526 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest' ...
2024-07-09 12:24:58.526 -04:00 [DBG] Attempting to bind parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest' using the name '' in request data ...
2024-07-09 12:24:58.526 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:24:58.526 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2024-07-09 12:24:58.527 -04:00 [DBG] Connection id "0HN506E2V21AC", Request id "0HN506E2V21AC:00000003": started reading request body.
2024-07-09 12:24:58.527 -04:00 [DBG] Connection id "0HN506E2V21AC", Request id "0HN506E2V21AC:00000003": done reading request body.
2024-07-09 12:24:58.529 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest'.
2024-07-09 12:24:58.529 -04:00 [DBG] Done attempting to bind parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest'.
2024-07-09 12:24:58.529 -04:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest' ...
2024-07-09 12:24:58.529 -04:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CRUD.Controllers.ActualizarPagoRequest'.
2024-07-09 12:24:58.529 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD) - Validation state: "Valid"
2024-07-09 12:24:58.553 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:24:58.558 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .FirstOrDefault(e => EF.Property<int>(e, "IdFactura") == __p_0)'
2024-07-09 12:24:58.562 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Factura>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Factura.IdFactura (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Factura.CodigoEstudiante (int) Required FK Index, 1], [Property: Factura.CuentaPorPagarIdCuentaPorPagar (no field, int?) Shadow FK Index, 2], [Property: Factura.Estado (string), 3], [Property: Factura.FechaCreacion (DateTime) Required, 4], [Property: Factura.FechaPago (DateTime?), 5], [Property: Factura.MarcaTarjeta (string), 6], [Property: Factura.MetodoPago (string), 7], [Property: Factura.MontoTotal (decimal) Required, 8], [Property: Factura.Periodo (string) Required, 9], [Property: Factura.StripeCustomerId (string), 10], [Property: Factura.StripePaymentIntentId (string), 11], [Property: Factura.UltimosDigitosTarjeta (string), 12] }
            SELECT TOP(1) f.IdFactura, f.CodigoEstudiante, f.CuentaPorPagarIdCuentaPorPagar, f.Estado, f.FechaCreacion, f.FechaPago, f.MarcaTarjeta, f.MetodoPago, f.MontoTotal, f.Periodo, f.StripeCustomerId, f.StripePaymentIntentId, f.UltimosDigitosTarjeta
            FROM Facturas AS f
            WHERE f.IdFactura == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Factura entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Factura instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Factura);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Factura.IdFactura PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Factura").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Factura)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                                return 
                                {
                                    Factura instance;
                                    instance = new Factura();
                                    instance.<IdFactura>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Estado>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(4);
                                    instance.<FechaPago>k__BackingField = dataReader.IsDBNull(5) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(5);
                                    instance.<MarcaTarjeta>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MetodoPago>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<MontoTotal>k__BackingField = dataReader.GetDecimal(8);
                                    instance.<Periodo>k__BackingField = dataReader.GetString(9);
                                    instance.<StripeCustomerId>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<StripePaymentIntentId>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<UltimosDigitosTarjeta>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Factura)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-09 12:24:58.564 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:24:58.564 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:24:58.564 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.564 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.564 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:24:58.564 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.564 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.564 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta]
FROM [Facturas] AS [f]
WHERE [f].[IdFactura] = @__p_0
2024-07-09 12:24:58.625 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta]
FROM [Facturas] AS [f]
WHERE [f].[IdFactura] = @__p_0
2024-07-09 12:24:58.626 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.627 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.627 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 12:24:58.627 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.627 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:24:58.628 -04:00 [DBG] Compiling query expression: 
'DbSet<CuentaPorPagar>()
    .Where(c => c.CodigoEstudiante == __factura_CodigoEstudiante_0 && c.EstudianteMateria.PeriodoCursado == __factura_Periodo_1)'
2024-07-09 12:24:58.630 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CuentaPorPagar>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CuentaPorPagar.IdCuentaPorPagar (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CuentaPorPagar.CodigoEstudiante (int) Required FK Index, 1], [Property: CuentaPorPagar.CodigoMateria (string) Required FK Index, 2], [Property: CuentaPorPagar.Estado (string) Required, 3], [Property: CuentaPorPagar.MontoTotalaPagar (decimal?), 4] }
        SELECT c.IdCuentaPorPagar, c.CodigoEstudiante, c.CodigoMateria, c.Estado, c.MontoTotalaPagar
        FROM CuentaPorPagars AS c
        INNER JOIN EstudianteMaterias AS e ON (c.CodigoMateria == e.CodigoMateria) && (c.CodigoEstudiante == e.CodigoEstudiante)
        WHERE (c.CodigoEstudiante == @__factura_CodigoEstudiante_0) && (e.PeriodoCursado == @__factura_Periodo_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        CuentaPorPagar entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            CuentaPorPagar instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(CuentaPorPagar);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: CuentaPorPagar.IdCuentaPorPagar PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (CuentaPorPagar)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]: 
                        {
                            return 
                            {
                                CuentaPorPagar instance;
                                instance = new CuentaPorPagar();
                                instance.<IdCuentaPorPagar>k__BackingField = dataReader.GetInt32(0);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                instance.<CodigoMateria>k__BackingField = dataReader.GetString(2);
                                instance.<Estado>k__BackingField = dataReader.GetString(3);
                                instance.<MontoTotalaPagar>k__BackingField = dataReader.IsDBNull(4) ? default(decimal?) : (decimal?)dataReader.GetDecimal(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: CuentaPorPagar | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.CuentaPorPagar")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(CuentaPorPagar)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 12:24:58.631 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.631 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.631 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:24:58.631 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.631 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.631 -04:00 [DBG] Executing DbCommand [Parameters=[@__factura_CodigoEstudiante_0='?' (DbType = Int32), @__factura_Periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__factura_CodigoEstudiante_0 AND [e].[PeriodoCursado] = @__factura_Periodo_1
2024-07-09 12:24:58.695 -04:00 [INF] Executed DbCommand (63ms) [Parameters=[@__factura_CodigoEstudiante_0='?' (DbType = Int32), @__factura_Periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCuentaPorPagar], [c].[CodigoEstudiante], [c].[CodigoMateria], [c].[Estado], [c].[MontoTotalaPagar]
FROM [CuentaPorPagars] AS [c]
INNER JOIN [EstudianteMaterias] AS [e] ON [c].[CodigoMateria] = [e].[CodigoMateria] AND [c].[CodigoEstudiante] = [e].[CodigoEstudiante]
WHERE [c].[CodigoEstudiante] = @__factura_CodigoEstudiante_0 AND [e].[PeriodoCursado] = @__factura_Periodo_1
2024-07-09 12:24:58.696 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.696 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.696 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.696 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.696 -04:00 [DBG] Context 'MyDbContext' started tracking 'CuentaPorPagar' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.696 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.696 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 12:24:58.696 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.696 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:24:58.696 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-07-09 12:24:58.697 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-07-09 12:24:58.697 -04:00 [DBG] The unchanged property 'Factura.Estado' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:24:58.698 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.698 -04:00 [DBG] The unchanged property 'Factura.FechaPago' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:24:58.698 -04:00 [DBG] The unchanged property 'Factura.MetodoPago' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:24:58.698 -04:00 [DBG] The unchanged property 'Factura.StripePaymentIntentId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:24:58.698 -04:00 [DBG] The unchanged property 'CuentaPorPagar.Estado' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:24:58.698 -04:00 [DBG] An entity of type 'CuentaPorPagar' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.698 -04:00 [DBG] The unchanged property 'CuentaPorPagar.MontoTotalaPagar' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-09 12:24:58.698 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-07-09 12:24:58.703 -04:00 [DBG] Executing 2 update commands as a batch.
2024-07-09 12:24:58.705 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.705 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.706 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-09 12:24:58.773 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-09 12:24:58.774 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:24:58.774 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.775 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:24:58.775 -04:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CuentaPorPagars] SET [Estado] = @p0, [MontoTotalaPagar] = @p1
OUTPUT 1
WHERE [IdCuentaPorPagar] = @p2;
UPDATE [Facturas] SET [Estado] = @p3, [FechaPago] = @p4, [MetodoPago] = @p5, [StripePaymentIntentId] = @p6
OUTPUT 1
WHERE [IdFactura] = @p7;
2024-07-09 12:24:58.841 -04:00 [INF] Executed DbCommand (66ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CuentaPorPagars] SET [Estado] = @p0, [MontoTotalaPagar] = @p1
OUTPUT 1
WHERE [IdCuentaPorPagar] = @p2;
UPDATE [Facturas] SET [Estado] = @p3, [FechaPago] = @p4, [MetodoPago] = @p5, [StripePaymentIntentId] = @p6
OUTPUT 1
WHERE [IdFactura] = @p7;
2024-07-09 12:24:58.842 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.842 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 12:24:58.844 -04:00 [DBG] Committing transaction.
2024-07-09 12:24:58.911 -04:00 [DBG] Committed transaction.
2024-07-09 12:24:58.913 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.913 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:24:58.915 -04:00 [DBG] Disposing transaction.
2024-07-09 12:24:58.916 -04:00 [DBG] An entity of type 'Factura' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.917 -04:00 [DBG] An entity of type 'CuentaPorPagar' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:24:58.917 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 2 entities written to the database.
2024-07-09 12:24:58.917 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 387.896ms.
2024-07-09 12:24:58.918 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:24:58.918 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:24:58.918 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:24:58.918 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:24:58.918 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:24:58.918 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-09 12:24:58.919 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD) in 394.24ms
2024-07-09 12:24:58.919 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.ActualizarEstadoPago (CRUD)'
2024-07-09 12:24:58.920 -04:00 [DBG] Connection id "0HN506E2V21AC" completed keep alive response.
2024-07-09 12:24:58.920 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:24:58.920 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:24:58.920 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:24:58.920 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Factura/actualizarEstadoPago - 200 16 application/json; charset=utf-8 396.6155ms
2024-07-09 12:25:32.571 -04:00 [INF] Application is shutting down...
2024-07-09 12:25:32.573 -04:00 [DBG] Hosting stopping
2024-07-09 12:25:32.582 -04:00 [DBG] Connection id "0HN506E2V21AC" received FIN.
2024-07-09 12:25:32.583 -04:00 [DBG] Connection id "0HN506E2V21AC" disconnecting.
2024-07-09 12:25:32.583 -04:00 [DBG] Connection id "0HN506E2V21AC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:25:32.583 -04:00 [DBG] Connection id "0HN506E2V21AC" stopped.
2024-07-09 12:25:32.586 -04:00 [DBG] Hosting stopped
2024-07-09 12:28:16.720 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-09 12:28:16.777 -04:00 [DBG] Hosting starting
2024-07-09 12:28:16.780 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-07-09 12:28:16.786 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2024-07-09 12:28:16.788 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2024-07-09 12:28:16.790 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2024-07-09 12:28:16.791 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2024-07-09 12:28:16.793 -04:00 [DBG] Considering key {b06a4e2e-7908-41eb-9b39-8691b777fc93} with expiration date 2024-08-26 20:47:39Z as default key.
2024-07-09 12:28:16.794 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-09 12:28:16.796 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-07-09 12:28:16.796 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-07-09 12:28:16.798 -04:00 [DBG] Using key {b06a4e2e-7908-41eb-9b39-8691b777fc93} as the default key.
2024-07-09 12:28:16.798 -04:00 [DBG] Key ring with default key {b06a4e2e-7908-41eb-9b39-8691b777fc93} was loaded during application startup.
2024-07-09 12:28:16.831 -04:00 [INF] Now listening on: http://localhost:5104
2024-07-09 12:28:16.831 -04:00 [DBG] Loaded hosting startup assembly CRUD
2024-07-09 12:28:16.831 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-09 12:28:16.831 -04:00 [INF] Hosting environment: Development
2024-07-09 12:28:16.831 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/University-Backend/CRUD
2024-07-09 12:28:16.831 -04:00 [DBG] Hosting started
2024-07-09 12:28:17.133 -04:00 [DBG] Connection id "0HN506GHLBF2T" received FIN.
2024-07-09 12:28:17.137 -04:00 [DBG] Connection id "0HN506GHLBF2T" accepted.
2024-07-09 12:28:17.137 -04:00 [DBG] Connection id "0HN506GHLBF2T" started.
2024-07-09 12:28:17.141 -04:00 [DBG] Connection id "0HN506GHLBF2T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:28:17.144 -04:00 [DBG] Connection id "0HN506GHLBF2T" disconnecting.
2024-07-09 12:28:17.146 -04:00 [DBG] Connection id "0HN506GHLBF2T" stopped.
2024-07-09 12:28:17.345 -04:00 [DBG] Connection id "0HN506GHLBF2U" accepted.
2024-07-09 12:28:17.346 -04:00 [DBG] Connection id "0HN506GHLBF2U" started.
2024-07-09 12:28:17.346 -04:00 [DBG] Connection id "0HN506GHLBF2V" accepted.
2024-07-09 12:28:17.346 -04:00 [DBG] Connection id "0HN506GHLBF2V" started.
2024-07-09 12:28:17.361 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:28:17.363 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-09 12:28:17.394 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:28:17.466 -04:00 [DBG] Connection id "0HN506GHLBF2U" completed keep alive response.
2024-07-09 12:28:17.467 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 107.4301ms
2024-07-09 12:28:17.544 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:28:17.545 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:28:17.724 -04:00 [DBG] Connection id "0HN506GHLBF2U" completed keep alive response.
2024-07-09 12:28:17.724 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 179.9325ms
2024-07-09 12:28:19.303 -04:00 [DBG] Connection id "0HN506GHLBF2V" received FIN.
2024-07-09 12:28:19.305 -04:00 [DBG] Connection id "0HN506GHLBF2V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:28:19.308 -04:00 [DBG] Connection id "0HN506GHLBF2V" disconnecting.
2024-07-09 12:28:19.303 -04:00 [DBG] Connection id "0HN506GHLBF2U" received FIN.
2024-07-09 12:28:19.308 -04:00 [DBG] Connection id "0HN506GHLBF2U" disconnecting.
2024-07-09 12:28:19.311 -04:00 [DBG] Connection id "0HN506GHLBF2U" stopped.
2024-07-09 12:28:19.312 -04:00 [DBG] Connection id "0HN506GHLBF2V" stopped.
2024-07-09 12:28:19.314 -04:00 [DBG] Connection id "0HN506GHLBF2U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:28:59.468 -04:00 [DBG] Connection id "0HN506GHLBF30" accepted.
2024-07-09 12:28:59.469 -04:00 [DBG] Connection id "0HN506GHLBF30" started.
2024-07-09 12:28:59.472 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura - null null
2024-07-09 12:28:59.474 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:28:59.476 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:28:59.476 -04:00 [WRN] Failed to determine the https port for redirect.
2024-07-09 12:28:59.503 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura'
2024-07-09 12:28:59.506 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.GetAllFacturas (CRUD)' with route pattern 'api/Factura' is valid for the request path '/api/Factura'
2024-07-09 12:28:59.506 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.GetAllFacturas (CRUD)'
2024-07-09 12:28:59.508 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.GetAllFacturas (CRUD)'
2024-07-09 12:28:59.522 -04:00 [INF] Route matched with {action = "GetAllFacturas", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllFacturas() on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:28:59.523 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:28:59.523 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:28:59.523 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:28:59.523 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:28:59.523 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:28:59.524 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:28:59.599 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-09 12:28:59.613 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:28:59.616 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.GetAllFacturas (CRUD) - Validation state: "Valid"
2024-07-09 12:28:59.975 -04:00 [DBG] The index {'CarreraId'} was not created on entity type 'CarreraMateria' as the properties are already covered by the index {'CarreraId', 'CodigoMateria'}.
2024-07-09 12:28:59.975 -04:00 [DBG] The index {'CodigoMateria'} was not created on entity type 'EstudianteMateria' as the properties are already covered by the index {'CodigoMateria', 'CodigoEstudiante'}.
2024-07-09 12:28:59.975 -04:00 [DBG] The index {'DocenteId'} was not created on entity type 'MateriaDocente' as the properties are already covered by the index {'DocenteId', 'CodigoMateria'}.
2024-07-09 12:29:00.059 -04:00 [DBG] The property 'CarreraMateria.EstudianteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 12:29:00.059 -04:00 [DBG] The property 'Factura.CuentaPorPagarIdCuentaPorPagar' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 12:29:00.059 -04:00 [DBG] The property 'Materia.AulaCodigoAula' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-09 12:29:00.143 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:29:00.169 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()'
2024-07-09 12:29:00.338 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Factura>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Factura.IdFactura (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Factura.CodigoEstudiante (int) Required FK Index, 1], [Property: Factura.CuentaPorPagarIdCuentaPorPagar (no field, int?) Shadow FK Index, 2], [Property: Factura.Estado (string), 3], [Property: Factura.FechaCreacion (DateTime) Required, 4], [Property: Factura.FechaPago (DateTime?), 5], [Property: Factura.MarcaTarjeta (string), 6], [Property: Factura.MetodoPago (string), 7], [Property: Factura.MontoTotal (decimal) Required, 8], [Property: Factura.Periodo (string) Required, 9], [Property: Factura.StripeCustomerId (string), 10], [Property: Factura.StripePaymentIntentId (string), 11], [Property: Factura.UltimosDigitosTarjeta (string), 12] }
        SELECT f.IdFactura, f.CodigoEstudiante, f.CuentaPorPagarIdCuentaPorPagar, f.Estado, f.FechaCreacion, f.FechaPago, f.MarcaTarjeta, f.MetodoPago, f.MontoTotal, f.Periodo, f.StripeCustomerId, f.StripePaymentIntentId, f.UltimosDigitosTarjeta
        FROM Facturas AS f) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Factura entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Factura instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Factura);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Factura.IdFactura PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Factura").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Factura)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")]: 
                        {
                            shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                            return 
                            {
                                Factura instance;
                                instance = new Factura();
                                instance.<IdFactura>k__BackingField = dataReader.GetInt32(0);
                                instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                instance.<Estado>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(4);
                                instance.<FechaPago>k__BackingField = dataReader.IsDBNull(5) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(5);
                                instance.<MarcaTarjeta>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MetodoPago>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<MontoTotal>k__BackingField = dataReader.GetDecimal(8);
                                instance.<Periodo>k__BackingField = dataReader.GetString(9);
                                instance.<StripeCustomerId>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<StripePaymentIntentId>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<UltimosDigitosTarjeta>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Factura)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-07-09 12:29:00.364 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:29:00.382 -04:00 [DBG] Created DbConnection. (16ms).
2024-07-09 12:29:00.384 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:29:01.995 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:29:02.001 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:29:02.007 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-09 12:29:02.009 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-07-09 12:29:02.015 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta]
FROM [Facturas] AS [f]
2024-07-09 12:29:02.107 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta]
FROM [Facturas] AS [f]
2024-07-09 12:29:02.133 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.151 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.152 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.153 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.153 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.153 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.153 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:29:02.155 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:29:02.159 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 47ms reading results.
2024-07-09 12:29:02.161 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:29:02.165 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (3ms).
2024-07-09 12:29:02.168 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.GetAllFacturas (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2549.5437ms.
2024-07-09 12:29:02.170 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:29:02.171 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:29:02.171 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:29:02.171 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:29:02.172 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:29:02.172 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CRUD.Models.Factura, CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-09 12:29:02.257 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.GetAllFacturas (CRUD) in 2731.8981ms
2024-07-09 12:29:02.258 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.GetAllFacturas (CRUD)'
2024-07-09 12:29:02.259 -04:00 [DBG] Connection id "0HN506GHLBF30" completed keep alive response.
2024-07-09 12:29:02.261 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:29:02.264 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:29:02.265 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:29:02.266 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura - 200 6796 application/json; charset=utf-8 2793.9729ms
2024-07-09 12:29:04.305 -04:00 [DBG] Connection id "0HN506GHLBF30" received FIN.
2024-07-09 12:29:04.306 -04:00 [DBG] Connection id "0HN506GHLBF30" disconnecting.
2024-07-09 12:29:04.306 -04:00 [DBG] Connection id "0HN506GHLBF30" stopped.
2024-07-09 12:29:04.306 -04:00 [DBG] Connection id "0HN506GHLBF30" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:29:24.092 -04:00 [DBG] Connection id "0HN506GHLBF31" accepted.
2024-07-09 12:29:24.092 -04:00 [DBG] Connection id "0HN506GHLBF32" accepted.
2024-07-09 12:29:24.092 -04:00 [DBG] Connection id "0HN506GHLBF31" started.
2024-07-09 12:29:24.096 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:24.096 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:24.099 -04:00 [DBG] Connection id "0HN506GHLBF31" completed keep alive response.
2024-07-09 12:29:24.099 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 3.8494ms
2024-07-09 12:29:24.099 -04:00 [DBG] Connection id "0HN506GHLBF32" started.
2024-07-09 12:29:24.174 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:24.174 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:24.248 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-09 12:29:24.263 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:24.265 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:24.265 -04:00 [DBG] Connection id "0HN506GHLBF32" completed keep alive response.
2024-07-09 12:29:24.266 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 3.2227ms
2024-07-09 12:29:24.267 -04:00 [DBG] Connection id "0HN506GHLBF31" received FIN.
2024-07-09 12:29:24.268 -04:00 [DBG] Connection id "0HN506GHLBF31" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:29:24.268 -04:00 [DBG] Connection id "0HN506GHLBF31" disconnecting.
2024-07-09 12:29:24.269 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 95.0883ms
2024-07-09 12:29:24.269 -04:00 [DBG] Connection id "0HN506GHLBF31" stopped.
2024-07-09 12:29:24.301 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:24.301 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:24.330 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-09 12:29:24.330 -04:00 [DBG] Connection id "0HN506GHLBF32" completed keep alive response.
2024-07-09 12:29:24.330 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 29.6843ms
2024-07-09 12:29:24.422 -04:00 [DBG] Connection id "0HN506GHLBF33" accepted.
2024-07-09 12:29:24.422 -04:00 [DBG] Connection id "0HN506GHLBF33" started.
2024-07-09 12:29:24.422 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:24.422 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:24.422 -04:00 [DBG] Connection id "0HN506GHLBF32" completed keep alive response.
2024-07-09 12:29:24.422 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.5312ms
2024-07-09 12:29:24.451 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:24.451 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:24.476 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-09 12:29:24.476 -04:00 [DBG] Connection id "0HN506GHLBF32" completed keep alive response.
2024-07-09 12:29:24.476 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 25.6941ms
2024-07-09 12:29:28.096 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:28.096 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:28.097 -04:00 [DBG] Connection id "0HN506GHLBF32" completed keep alive response.
2024-07-09 12:29:28.097 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.6304ms
2024-07-09 12:29:28.152 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:28.152 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:28.208 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-09 12:29:28.208 -04:00 [DBG] Connection id "0HN506GHLBF32" completed keep alive response.
2024-07-09 12:29:28.208 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 57.4478ms
2024-07-09 12:29:28.272 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:28.272 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:28.273 -04:00 [DBG] Connection id "0HN506GHLBF32" completed keep alive response.
2024-07-09 12:29:28.273 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 1.2179ms
2024-07-09 12:29:28.305 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:28.305 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:28.338 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-09 12:29:28.339 -04:00 [DBG] Connection id "0HN506GHLBF32" completed keep alive response.
2024-07-09 12:29:28.339 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 34.0043ms
2024-07-09 12:29:29.319 -04:00 [DBG] Connection id "0HN506GHLBF33" received FIN.
2024-07-09 12:29:29.319 -04:00 [DBG] Connection id "0HN506GHLBF32" received FIN.
2024-07-09 12:29:29.320 -04:00 [DBG] Connection id "0HN506GHLBF33" disconnecting.
2024-07-09 12:29:29.321 -04:00 [DBG] Connection id "0HN506GHLBF32" disconnecting.
2024-07-09 12:29:29.321 -04:00 [DBG] Connection id "0HN506GHLBF33" stopped.
2024-07-09 12:29:29.321 -04:00 [DBG] Connection id "0HN506GHLBF32" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:29:29.321 -04:00 [DBG] Connection id "0HN506GHLBF33" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:29:29.322 -04:00 [DBG] Connection id "0HN506GHLBF32" stopped.
2024-07-09 12:29:42.696 -04:00 [DBG] Connection id "0HN506GHLBF34" accepted.
2024-07-09 12:29:42.697 -04:00 [DBG] Connection id "0HN506GHLBF35" accepted.
2024-07-09 12:29:42.697 -04:00 [DBG] Connection id "0HN506GHLBF34" started.
2024-07-09 12:29:42.698 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:42.698 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:42.700 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:42.700 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 1.624ms
2024-07-09 12:29:42.700 -04:00 [DBG] Connection id "0HN506GHLBF35" started.
2024-07-09 12:29:42.756 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:42.757 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:42.833 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:42.833 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.1809ms
2024-07-09 12:29:42.904 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:42.904 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:42.905 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:42.906 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 3.3932ms
2024-07-09 12:29:42.971 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:42.972 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.032 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:43.033 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.2912ms
2024-07-09 12:29:43.039 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:43.039 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.039 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:43.039 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.4602ms
2024-07-09 12:29:43.137 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:43.137 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.182 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:43.182 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.4243ms
2024-07-09 12:29:43.243 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:43.243 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.243 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:43.243 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.553ms
2024-07-09 12:29:43.318 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:43.318 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.351 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:43.351 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.3147ms
2024-07-09 12:29:43.364 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:43.364 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.365 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:43.365 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.3617ms
2024-07-09 12:29:43.452 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:43.452 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.485 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:43.486 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.5884ms
2024-07-09 12:29:43.571 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:43.571 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.571 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:43.571 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 8.3468ms
2024-07-09 12:29:43.630 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:43.630 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.670 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:43.670 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.8445ms
2024-07-09 12:29:43.681 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:43.681 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.682 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:43.682 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.4022ms
2024-07-09 12:29:43.765 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:43.765 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.796 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:43.797 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.8323ms
2024-07-09 12:29:43.859 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:43.860 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.860 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:43.860 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.5001ms
2024-07-09 12:29:43.906 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:43.906 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.937 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:43.937 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.7004ms
2024-07-09 12:29:43.996 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:43.996 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:43.996 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:43.996 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.3448ms
2024-07-09 12:29:44.059 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:44.059 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.089 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:44.089 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.7706ms
2024-07-09 12:29:44.117 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:44.117 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.117 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:44.117 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.4195ms
2024-07-09 12:29:44.207 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:44.207 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.242 -04:00 [DBG] Connection id "0HN506GHLBF35" completed keep alive response.
2024-07-09 12:29:44.242 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.9374ms
2024-07-09 12:29:44.254 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:44.254 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.254 -04:00 [DBG] Connection id "0HN506GHLBF34" completed keep alive response.
2024-07-09 12:29:44.254 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 1.2725ms
2024-07-09 12:29:44.316 -04:00 [DBG] Connection id "0HN506GHLBF35" received FIN.
2024-07-09 12:29:44.316 -04:00 [DBG] Connection id "0HN506GHLBF34" received FIN.
2024-07-09 12:29:44.316 -04:00 [DBG] Connection id "0HN506GHLBF35" disconnecting.
2024-07-09 12:29:44.316 -04:00 [DBG] Connection id "0HN506GHLBF35" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:29:44.316 -04:00 [DBG] Connection id "0HN506GHLBF34" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:29:44.316 -04:00 [DBG] Connection id "0HN506GHLBF34" disconnecting.
2024-07-09 12:29:44.316 -04:00 [DBG] Connection id "0HN506GHLBF34" stopped.
2024-07-09 12:29:44.317 -04:00 [DBG] Connection id "0HN506GHLBF35" stopped.
2024-07-09 12:29:44.363 -04:00 [DBG] Connection id "0HN506GHLBF36" accepted.
2024-07-09 12:29:44.363 -04:00 [DBG] Connection id "0HN506GHLBF36" started.
2024-07-09 12:29:44.364 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:44.365 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.397 -04:00 [DBG] Connection id "0HN506GHLBF37" accepted.
2024-07-09 12:29:44.397 -04:00 [DBG] Connection id "0HN506GHLBF37" started.
2024-07-09 12:29:44.397 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:44.397 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.397 -04:00 [DBG] Connection id "0HN506GHLBF36" completed keep alive response.
2024-07-09 12:29:44.397 -04:00 [DBG] Connection id "0HN506GHLBF37" completed keep alive response.
2024-07-09 12:29:44.397 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.5097ms
2024-07-09 12:29:44.397 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.2576ms
2024-07-09 12:29:44.428 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:44.428 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.456 -04:00 [DBG] Connection id "0HN506GHLBF36" completed keep alive response.
2024-07-09 12:29:44.456 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.8238ms
2024-07-09 12:29:44.590 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:44.590 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.590 -04:00 [DBG] Connection id "0HN506GHLBF36" completed keep alive response.
2024-07-09 12:29:44.590 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.4387ms
2024-07-09 12:29:44.630 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:44.630 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.659 -04:00 [DBG] Connection id "0HN506GHLBF36" completed keep alive response.
2024-07-09 12:29:44.659 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.9127ms
2024-07-09 12:29:44.770 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:29:44.770 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.771 -04:00 [DBG] Connection id "0HN506GHLBF36" completed keep alive response.
2024-07-09 12:29:44.771 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.4526ms
2024-07-09 12:29:44.820 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:29:44.820 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:29:44.856 -04:00 [DBG] Connection id "0HN506GHLBF36" completed keep alive response.
2024-07-09 12:29:44.856 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.82ms
2024-07-09 12:29:49.316 -04:00 [DBG] Connection id "0HN506GHLBF37" received FIN.
2024-07-09 12:29:49.316 -04:00 [DBG] Connection id "0HN506GHLBF36" received FIN.
2024-07-09 12:29:49.316 -04:00 [DBG] Connection id "0HN506GHLBF37" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:29:49.316 -04:00 [DBG] Connection id "0HN506GHLBF36" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:29:49.316 -04:00 [DBG] Connection id "0HN506GHLBF37" disconnecting.
2024-07-09 12:29:49.316 -04:00 [DBG] Connection id "0HN506GHLBF36" disconnecting.
2024-07-09 12:29:49.316 -04:00 [DBG] Connection id "0HN506GHLBF37" stopped.
2024-07-09 12:29:49.316 -04:00 [DBG] Connection id "0HN506GHLBF36" stopped.
2024-07-09 12:40:47.888 -04:00 [DBG] Connection id "0HN506GHLBF38" accepted.
2024-07-09 12:40:47.889 -04:00 [DBG] Connection id "0HN506GHLBF38" started.
2024-07-09 12:40:47.889 -04:00 [DBG] Connection id "0HN506GHLBF39" accepted.
2024-07-09 12:40:47.889 -04:00 [DBG] Connection id "0HN506GHLBF39" started.
2024-07-09 12:40:47.890 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:40:47.891 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:40:47.893 -04:00 [DBG] Connection id "0HN506GHLBF38" completed keep alive response.
2024-07-09 12:40:47.893 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 2.5587ms
2024-07-09 12:40:48.028 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:40:48.028 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:40:48.100 -04:00 [DBG] Connection id "0HN506GHLBF38" completed keep alive response.
2024-07-09 12:40:48.101 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.6994ms
2024-07-09 12:40:48.348 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:40:48.349 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:40:48.349 -04:00 [DBG] Connection id "0HN506GHLBF38" completed keep alive response.
2024-07-09 12:40:48.349 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 0.7775ms
2024-07-09 12:40:48.404 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:40:48.404 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:40:48.450 -04:00 [DBG] Connection id "0HN506GHLBF38" completed keep alive response.
2024-07-09 12:40:48.450 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.8933ms
2024-07-09 12:40:48.539 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-07-09 12:40:48.540 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:40:48.540 -04:00 [DBG] Connection id "0HN506GHLBF38" completed keep alive response.
2024-07-09 12:40:48.541 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 4.9928ms
2024-07-09 12:40:48.599 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-07-09 12:40:48.600 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:40:48.655 -04:00 [DBG] Connection id "0HN506GHLBF38" completed keep alive response.
2024-07-09 12:40:48.655 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.6572ms
2024-07-09 12:40:51.771 -04:00 [DBG] Connection id "0HN506GHLBF38" received FIN.
2024-07-09 12:40:51.771 -04:00 [DBG] Connection id "0HN506GHLBF39" received FIN.
2024-07-09 12:40:51.772 -04:00 [DBG] Connection id "0HN506GHLBF38" disconnecting.
2024-07-09 12:40:51.772 -04:00 [DBG] Connection id "0HN506GHLBF39" disconnecting.
2024-07-09 12:40:51.772 -04:00 [DBG] Connection id "0HN506GHLBF39" stopped.
2024-07-09 12:40:51.772 -04:00 [DBG] Connection id "0HN506GHLBF38" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:40:51.772 -04:00 [DBG] Connection id "0HN506GHLBF38" stopped.
2024-07-09 12:40:51.772 -04:00 [DBG] Connection id "0HN506GHLBF39" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:40:55.298 -04:00 [DBG] Connection id "0HN506GHLBF3A" accepted.
2024-07-09 12:40:55.298 -04:00 [DBG] Connection id "0HN506GHLBF3A" started.
2024-07-09 12:40:55.299 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/obtenerFactura?facturaId=1 - null null
2024-07-09 12:40:55.299 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:40:55.301 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:40:55.302 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/obtenerFactura'
2024-07-09 12:40:55.303 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)' with route pattern 'api/Factura/obtenerFactura' is valid for the request path '/api/Factura/obtenerFactura'
2024-07-09 12:40:55.303 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:40:55.304 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:40:55.321 -04:00 [INF] Route matched with {action = "ObtenerFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerFactura(Int32) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:40:55.322 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:40:55.322 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:40:55.322 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:40:55.322 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:40:55.322 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:40:55.322 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:40:55.323 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:40:55.328 -04:00 [DBG] Attempting to bind parameter 'facturaId' of type 'System.Int32' ...
2024-07-09 12:40:55.329 -04:00 [DBG] Attempting to bind parameter 'facturaId' of type 'System.Int32' using the name 'facturaId' in request data ...
2024-07-09 12:40:55.330 -04:00 [DBG] Done attempting to bind parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:40:55.330 -04:00 [DBG] Done attempting to bind parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:40:55.330 -04:00 [DBG] Attempting to validate the bound parameter 'facturaId' of type 'System.Int32' ...
2024-07-09 12:40:55.333 -04:00 [DBG] Done attempting to validate the bound parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:40:55.335 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.ObtenerFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:40:55.349 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:40:55.364 -04:00 [DBG] Compiling query expression: 
'DbSet<Factura>()
    .Include(f => f.Estudiante)
    .FirstOrDefault(f => f.IdFactura == __facturaId_0)'
2024-07-09 12:40:55.406 -04:00 [DBG] Including navigation: 'Factura.Estudiante'.
2024-07-09 12:40:55.461 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Factura>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Factura>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Factura.IdFactura (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Factura.CodigoEstudiante (int) Required FK Index, 1], [Property: Factura.CuentaPorPagarIdCuentaPorPagar (no field, int?) Shadow FK Index, 2], [Property: Factura.Estado (string), 3], [Property: Factura.FechaCreacion (DateTime) Required, 4], [Property: Factura.FechaPago (DateTime?), 5], [Property: Factura.MarcaTarjeta (string), 6], [Property: Factura.MetodoPago (string), 7], [Property: Factura.MontoTotal (decimal) Required, 8], [Property: Factura.Periodo (string) Required, 9], [Property: Factura.StripeCustomerId (string), 10], [Property: Factura.StripePaymentIntentId (string), 11], [Property: Factura.UltimosDigitosTarjeta (string), 12] }
                1 -> Dictionary<IProperty, int> { [Property: Estudiante.Id (int) Required PK AfterSave:Throw, 13], [Property: Estudiante.Alertas (string) MaxLength(50), 14], [Property: Estudiante.CarreraId (int?) FK Index, 15], [Property: Estudiante.CiudadEstudiante (string) Required MaxLength(100), 16], [Property: Estudiante.CondicionAcademica (string) Required MaxLength(50), 17], [Property: Estudiante.ContraseñaEstudiante (string) Required MaxLength(100), 18], [Property: Estudiante.CorreoEstudiante (string) Required MaxLength(150), 19], [Property: Estudiante.CreditosAprobados (int?), 20], [Property: Estudiante.DireccionEstudiante (string) Required MaxLength(200), 21], [Property: Estudiante.FechaIngreso (DateTime) Required, 22], [Property: Estudiante.IndiceGeneral (decimal?), 23], [Property: Estudiante.IndicePeriodo (decimal?), 24], [Property: Estudiante.Nacionalidad (string) Required MaxLength(50), 25], [Property: Estudiante.NombreEstudiante (string) Required MaxLength(100), 26], [Property: Estudiante.PeriodoActual (string), 27], [Property: Estudiante.PeriodosCursados (int?), 28], [Property: Estudiante.Rol (string) Required MaxLength(50), 29], [Property: Estudiante.SexoEstudiante (string) Required MaxLength(1), 30], [Property: Estudiante.TelefonoEstudiante (string) Required MaxLength(15), 31] }
            SELECT TOP(1) f.IdFactura, f.CodigoEstudiante, f.CuentaPorPagarIdCuentaPorPagar, f.Estado, f.FechaCreacion, f.FechaPago, f.MarcaTarjeta, f.MetodoPago, f.MontoTotal, f.Periodo, f.StripeCustomerId, f.StripePaymentIntentId, f.UltimosDigitosTarjeta, e.Id, e.Alertas, e.CarreraId, e.CiudadEstudiante, e.CondicionAcademica, e.ContraseñaEstudiante, e.CorreoEstudiante, e.CreditosAprobados, e.DireccionEstudiante, e.FechaIngreso, e.IndiceGeneral, e.IndicePeriodo, e.Nacionalidad, e.NombreEstudiante, e.PeriodoActual, e.PeriodosCursados, e.Rol, e.SexoEstudiante, e.TelefonoEstudiante
            FROM Facturas AS f
            INNER JOIN Estudiantes AS e ON f.CodigoEstudiante == e.Id
            WHERE f.IdFactura == @__facturaId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Factura entity;
            Estudiante entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Factura instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Factura);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Factura.IdFactura PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Factura").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Factura)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                                return 
                                {
                                    Factura instance;
                                    instance = new Factura();
                                    instance.<IdFactura>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Estado>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<FechaCreacion>k__BackingField = dataReader.GetDateTime(4);
                                    instance.<FechaPago>k__BackingField = dataReader.IsDBNull(5) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(5);
                                    instance.<MarcaTarjeta>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MetodoPago>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<MontoTotal>k__BackingField = dataReader.GetDecimal(8);
                                    instance.<Periodo>k__BackingField = dataReader.GetString(9);
                                    instance.<StripeCustomerId>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<StripePaymentIntentId>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<UltimosDigitosTarjeta>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Factura | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Factura")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Factura)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Estudiante instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Estudiante);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Estudiante.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Estudiante").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Estudiante)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Estudiante")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Estudiante")]: 
                            {
                                return 
                                {
                                    Estudiante instance;
                                    instance = new Estudiante();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(13);
                                    instance.<Alertas>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<CarreraId>k__BackingField = dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15);
                                    instance.<CiudadEstudiante>k__BackingField = dataReader.GetString(16);
                                    instance.<CondicionAcademica>k__BackingField = dataReader.GetString(17);
                                    instance.<ContraseñaEstudiante>k__BackingField = dataReader.GetString(18);
                                    instance.<CorreoEstudiante>k__BackingField = dataReader.GetString(19);
                                    instance.<CreditosAprobados>k__BackingField = dataReader.IsDBNull(20) ? default(int?) : (int?)dataReader.GetInt32(20);
                                    instance.<DireccionEstudiante>k__BackingField = dataReader.GetString(21);
                                    instance.<FechaIngreso>k__BackingField = dataReader.GetDateTime(22);
                                    instance.<IndiceGeneral>k__BackingField = dataReader.IsDBNull(23) ? default(decimal?) : (decimal?)dataReader.GetDecimal(23);
                                    instance.<IndicePeriodo>k__BackingField = dataReader.IsDBNull(24) ? default(decimal?) : (decimal?)dataReader.GetDecimal(24);
                                    instance.<Nacionalidad>k__BackingField = dataReader.GetString(25);
                                    instance.<NombreEstudiante>k__BackingField = dataReader.GetString(26);
                                    instance.<PeriodoActual>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                    instance.<PeriodosCursados>k__BackingField = dataReader.IsDBNull(28) ? default(int?) : (int?)dataReader.GetInt32(28);
                                    instance.<Rol>k__BackingField = dataReader.GetString(29);
                                    instance.<SexoEstudiante>k__BackingField = dataReader.GetString(30);
                                    instance.<TelefonoEstudiante>k__BackingField = dataReader.GetString(31);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Estudiante")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Estudiante)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Factura, Factura, Estudiante>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Factura.Estudiante (Estudiante) ToPrincipal Estudiante Inverse: Facturas | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CRUD.Models.Factura").FindNavigation("Estudiante")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Estudiante.Facturas (ICollection<Factura>) Collection ToDependent Factura Inverse: Estudiante | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Estudiante").FindNavigation("Facturas")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Estudiante>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Estudiante, ICollection<Factura>, Factura> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("Estudiante").FindNavigation("Facturas").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-09 12:40:55.468 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:40:55.468 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:40:55.468 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:40:56.972 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:40:56.972 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:40:56.972 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:40:56.975 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-09 12:40:56.977 -04:00 [DBG] Executing DbCommand [Parameters=[@__facturaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta], [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Facturas] AS [f]
INNER JOIN [Estudiantes] AS [e] ON [f].[CodigoEstudiante] = [e].[Id]
WHERE [f].[IdFactura] = @__facturaId_0
2024-07-09 12:40:57.047 -04:00 [INF] Executed DbCommand (72ms) [Parameters=[@__facturaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta], [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Facturas] AS [f]
INNER JOIN [Estudiantes] AS [e] ON [f].[CodigoEstudiante] = [e].[Id]
WHERE [f].[IdFactura] = @__facturaId_0
2024-07-09 12:40:57.047 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:40:57.062 -04:00 [DBG] The navigation 'Factura.Estudiante' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:40:57.067 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:40:57.083 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:40:57.083 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 36ms reading results.
2024-07-09 12:40:57.084 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:40:57.084 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:40:57.084 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.ObtenerFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1748.6583ms.
2024-07-09 12:40:57.084 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:40:57.084 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:40:57.084 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:40:57.084 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:40:57.084 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:40:57.084 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Factura'.
2024-07-09 12:40:57.089 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.ObtenerFactura (CRUD) in 1767.609ms
2024-07-09 12:40:57.089 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:40:57.089 -04:00 [DBG] Connection id "0HN506GHLBF3A" completed keep alive response.
2024-07-09 12:40:57.089 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:40:57.089 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:40:57.090 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:40:57.090 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/obtenerFactura?facturaId=1 - 200 888 application/json; charset=utf-8 1790.8838ms
2024-07-09 12:41:01.775 -04:00 [DBG] Connection id "0HN506GHLBF3A" received FIN.
2024-07-09 12:41:01.775 -04:00 [DBG] Connection id "0HN506GHLBF3A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:41:01.775 -04:00 [DBG] Connection id "0HN506GHLBF3A" disconnecting.
2024-07-09 12:41:01.775 -04:00 [DBG] Connection id "0HN506GHLBF3A" stopped.
2024-07-09 12:41:10.389 -04:00 [DBG] Connection id "0HN506GHLBF3B" accepted.
2024-07-09 12:41:10.389 -04:00 [DBG] Connection id "0HN506GHLBF3B" started.
2024-07-09 12:41:10.389 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/obtenerFactura?facturaId=2 - null null
2024-07-09 12:41:10.390 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:41:10.390 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:41:10.396 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/obtenerFactura'
2024-07-09 12:41:10.396 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)' with route pattern 'api/Factura/obtenerFactura' is valid for the request path '/api/Factura/obtenerFactura'
2024-07-09 12:41:10.396 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:41:10.397 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:41:10.397 -04:00 [INF] Route matched with {action = "ObtenerFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerFactura(Int32) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:41:10.397 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:41:10.401 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:41:10.401 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:41:10.401 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:41:10.401 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:41:10.401 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:41:10.408 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:41:10.409 -04:00 [DBG] Attempting to bind parameter 'facturaId' of type 'System.Int32' ...
2024-07-09 12:41:10.409 -04:00 [DBG] Attempting to bind parameter 'facturaId' of type 'System.Int32' using the name 'facturaId' in request data ...
2024-07-09 12:41:10.410 -04:00 [DBG] Done attempting to bind parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:41:10.410 -04:00 [DBG] Done attempting to bind parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:41:10.410 -04:00 [DBG] Attempting to validate the bound parameter 'facturaId' of type 'System.Int32' ...
2024-07-09 12:41:10.410 -04:00 [DBG] Done attempting to validate the bound parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:41:10.410 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.ObtenerFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:41:10.446 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:41:10.449 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:41:10.449 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:41:10.449 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:41:10.450 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:41:10.450 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:41:10.450 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:41:10.450 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:41:10.450 -04:00 [DBG] Executing DbCommand [Parameters=[@__facturaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta], [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Facturas] AS [f]
INNER JOIN [Estudiantes] AS [e] ON [f].[CodigoEstudiante] = [e].[Id]
WHERE [f].[IdFactura] = @__facturaId_0
2024-07-09 12:41:10.512 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__facturaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta], [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Facturas] AS [f]
INNER JOIN [Estudiantes] AS [e] ON [f].[CodigoEstudiante] = [e].[Id]
WHERE [f].[IdFactura] = @__facturaId_0
2024-07-09 12:41:10.512 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:41:10.513 -04:00 [DBG] The navigation 'Factura.Estudiante' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:41:10.513 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:41:10.513 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:41:10.513 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 0ms reading results.
2024-07-09 12:41:10.513 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:41:10.513 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:41:10.513 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.ObtenerFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 103.3982ms.
2024-07-09 12:41:10.513 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:41:10.513 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:41:10.513 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:41:10.513 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:41:10.513 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:41:10.513 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Factura'.
2024-07-09 12:41:10.514 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.ObtenerFactura (CRUD) in 112.4701ms
2024-07-09 12:41:10.514 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:41:10.514 -04:00 [DBG] Connection id "0HN506GHLBF3B" completed keep alive response.
2024-07-09 12:41:10.514 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:41:10.514 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:41:10.514 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:41:10.514 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/obtenerFactura?facturaId=2 - 200 943 application/json; charset=utf-8 124.7033ms
2024-07-09 12:41:11.779 -04:00 [DBG] Connection id "0HN506GHLBF3B" received FIN.
2024-07-09 12:41:11.779 -04:00 [DBG] Connection id "0HN506GHLBF3B" disconnecting.
2024-07-09 12:41:11.779 -04:00 [DBG] Connection id "0HN506GHLBF3B" stopped.
2024-07-09 12:41:11.780 -04:00 [DBG] Connection id "0HN506GHLBF3B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:46:47.784 -04:00 [DBG] Connection id "0HN506GHLBF3C" accepted.
2024-07-09 12:46:47.785 -04:00 [DBG] Connection id "0HN506GHLBF3C" started.
2024-07-09 12:46:47.787 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/obtenerFactura?facturaId=2 - null null
2024-07-09 12:46:47.787 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:46:47.787 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:46:47.788 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/obtenerFactura'
2024-07-09 12:46:47.788 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)' with route pattern 'api/Factura/obtenerFactura' is valid for the request path '/api/Factura/obtenerFactura'
2024-07-09 12:46:47.788 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:46:47.789 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:46:47.794 -04:00 [INF] Route matched with {action = "ObtenerFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerFactura(Int32) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:46:47.794 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:46:47.794 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:46:47.794 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:46:47.795 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:46:47.795 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:46:47.795 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:46:47.796 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:46:47.798 -04:00 [DBG] Attempting to bind parameter 'facturaId' of type 'System.Int32' ...
2024-07-09 12:46:47.798 -04:00 [DBG] Attempting to bind parameter 'facturaId' of type 'System.Int32' using the name 'facturaId' in request data ...
2024-07-09 12:46:47.798 -04:00 [DBG] Done attempting to bind parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:46:47.798 -04:00 [DBG] Done attempting to bind parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:46:47.798 -04:00 [DBG] Attempting to validate the bound parameter 'facturaId' of type 'System.Int32' ...
2024-07-09 12:46:47.798 -04:00 [DBG] Done attempting to validate the bound parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:46:47.799 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.ObtenerFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:46:47.806 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:46:47.813 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:46:47.813 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:46:47.813 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:46:47.814 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:46:47.814 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:46:47.814 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:46:47.814 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:46:47.815 -04:00 [DBG] Executing DbCommand [Parameters=[@__facturaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta], [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Facturas] AS [f]
INNER JOIN [Estudiantes] AS [e] ON [f].[CodigoEstudiante] = [e].[Id]
WHERE [f].[IdFactura] = @__facturaId_0
2024-07-09 12:46:47.877 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__facturaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta], [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Facturas] AS [f]
INNER JOIN [Estudiantes] AS [e] ON [f].[CodigoEstudiante] = [e].[Id]
WHERE [f].[IdFactura] = @__facturaId_0
2024-07-09 12:46:47.878 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:46:47.878 -04:00 [DBG] The navigation 'Factura.Estudiante' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:46:47.878 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:46:47.878 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:46:47.878 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 12:46:47.879 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:46:47.879 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:46:47.879 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.ObtenerFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.8375ms.
2024-07-09 12:46:47.879 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:46:47.880 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:46:47.880 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:46:47.880 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:46:47.880 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:46:47.880 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Factura'.
2024-07-09 12:46:47.880 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.ObtenerFactura (CRUD) in 85.797ms
2024-07-09 12:46:47.880 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:46:47.880 -04:00 [DBG] Connection id "0HN506GHLBF3C" completed keep alive response.
2024-07-09 12:46:47.881 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:46:47.881 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:46:47.881 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:46:47.881 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/obtenerFactura?facturaId=2 - 200 943 application/json; charset=utf-8 94.2754ms
2024-07-09 12:47:26.933 -04:00 [DBG] Connection id "0HN506GHLBF3C" received FIN.
2024-07-09 12:47:26.935 -04:00 [DBG] Connection id "0HN506GHLBF3C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:47:26.936 -04:00 [DBG] Connection id "0HN506GHLBF3C" disconnecting.
2024-07-09 12:47:26.936 -04:00 [DBG] Connection id "0HN506GHLBF3C" stopped.
2024-07-09 12:50:50.086 -04:00 [DBG] Connection id "0HN506GHLBF3D" accepted.
2024-07-09 12:50:50.087 -04:00 [DBG] Connection id "0HN506GHLBF3D" started.
2024-07-09 12:50:50.090 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Factura/obtenerFactura?facturaId=2 - null null
2024-07-09 12:50:50.090 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-09 12:50:50.091 -04:00 [DBG] The request path  does not match the path filter
2024-07-09 12:50:50.091 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Factura/obtenerFactura'
2024-07-09 12:50:50.092 -04:00 [DBG] Endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)' with route pattern 'api/Factura/obtenerFactura' is valid for the request path '/api/Factura/obtenerFactura'
2024-07-09 12:50:50.092 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:50:50.092 -04:00 [INF] Executing endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:50:50.096 -04:00 [INF] Route matched with {action = "ObtenerFactura", controller = "Factura"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerFactura(Int32) on controller CRUD.Controllers.FacturaController (CRUD).
2024-07-09 12:50:50.096 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-09 12:50:50.096 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-09 12:50:50.096 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-09 12:50:50.096 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-09 12:50:50.096 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-09 12:50:50.096 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:50:50.096 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.FacturaController (CRUD)
2024-07-09 12:50:50.097 -04:00 [DBG] Attempting to bind parameter 'facturaId' of type 'System.Int32' ...
2024-07-09 12:50:50.097 -04:00 [DBG] Attempting to bind parameter 'facturaId' of type 'System.Int32' using the name 'facturaId' in request data ...
2024-07-09 12:50:50.097 -04:00 [DBG] Done attempting to bind parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:50:50.097 -04:00 [DBG] Done attempting to bind parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:50:50.097 -04:00 [DBG] Attempting to validate the bound parameter 'facturaId' of type 'System.Int32' ...
2024-07-09 12:50:50.097 -04:00 [DBG] Done attempting to validate the bound parameter 'facturaId' of type 'System.Int32'.
2024-07-09 12:50:50.097 -04:00 [INF] Executing action method CRUD.Controllers.FacturaController.ObtenerFactura (CRUD) - Validation state: "Valid"
2024-07-09 12:50:50.098 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-07-09 12:50:50.099 -04:00 [DBG] Creating DbConnection.
2024-07-09 12:50:50.099 -04:00 [DBG] Created DbConnection. (0ms).
2024-07-09 12:50:50.099 -04:00 [DBG] Opening connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:50:50.100 -04:00 [DBG] Opened connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:50:50.100 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-09 12:50:50.100 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:50:50.100 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-09 12:50:50.100 -04:00 [DBG] Executing DbCommand [Parameters=[@__facturaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta], [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Facturas] AS [f]
INNER JOIN [Estudiantes] AS [e] ON [f].[CodigoEstudiante] = [e].[Id]
WHERE [f].[IdFactura] = @__facturaId_0
2024-07-09 12:50:50.162 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__facturaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[IdFactura], [f].[CodigoEstudiante], [f].[CuentaPorPagarIdCuentaPorPagar], [f].[Estado], [f].[FechaCreacion], [f].[FechaPago], [f].[MarcaTarjeta], [f].[MetodoPago], [f].[MontoTotal], [f].[Periodo], [f].[StripeCustomerId], [f].[StripePaymentIntentId], [f].[UltimosDigitosTarjeta], [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[Rol], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Facturas] AS [f]
INNER JOIN [Estudiantes] AS [e] ON [f].[CodigoEstudiante] = [e].[Id]
WHERE [f].[IdFactura] = @__facturaId_0
2024-07-09 12:50:50.163 -04:00 [DBG] Context 'MyDbContext' started tracking 'Factura' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:50:50.163 -04:00 [DBG] The navigation 'Factura.Estudiante' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:50:50.163 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-09 12:50:50.163 -04:00 [DBG] Closing data reader to 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:50:50.163 -04:00 [DBG] A data reader for 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' is being disposed after spending 1ms reading results.
2024-07-09 12:50:50.163 -04:00 [DBG] Closing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:50:50.164 -04:00 [DBG] Closed connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433' (0ms).
2024-07-09 12:50:50.164 -04:00 [INF] Executed action method CRUD.Controllers.FacturaController.ObtenerFactura (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 66.3838ms.
2024-07-09 12:50:50.164 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-09 12:50:50.164 -04:00 [DBG] No information found on request to perform content negotiation.
2024-07-09 12:50:50.164 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-09 12:50:50.164 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-09 12:50:50.164 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-09 12:50:50.164 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Factura'.
2024-07-09 12:50:50.165 -04:00 [INF] Executed action CRUD.Controllers.FacturaController.ObtenerFactura (CRUD) in 68.8415ms
2024-07-09 12:50:50.165 -04:00 [INF] Executed endpoint 'CRUD.Controllers.FacturaController.ObtenerFactura (CRUD)'
2024-07-09 12:50:50.165 -04:00 [DBG] Connection id "0HN506GHLBF3D" completed keep alive response.
2024-07-09 12:50:50.165 -04:00 [DBG] 'MyDbContext' disposed.
2024-07-09 12:50:50.165 -04:00 [DBG] Disposing connection to database 'CRUD' on server 'tcp:elguelo.database.windows.net,1433'.
2024-07-09 12:50:50.165 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-09 12:50:50.165 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Factura/obtenerFactura?facturaId=2 - 200 943 application/json; charset=utf-8 75.3667ms
2024-07-09 12:51:24.653 -04:00 [INF] Application is shutting down...
2024-07-09 12:51:24.655 -04:00 [DBG] Hosting stopping
2024-07-09 12:51:24.657 -04:00 [DBG] Connection id "0HN506GHLBF3D" received FIN.
2024-07-09 12:51:24.658 -04:00 [DBG] Connection id "0HN506GHLBF3D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-09 12:51:24.658 -04:00 [DBG] Connection id "0HN506GHLBF3D" disconnecting.
2024-07-09 12:51:24.658 -04:00 [DBG] Connection id "0HN506GHLBF3D" stopped.
2024-07-09 12:51:24.664 -04:00 [DBG] Hosting stopped
