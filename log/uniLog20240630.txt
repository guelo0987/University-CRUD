2024-06-30 00:20:18.149 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" accepted.
2024-06-30 00:20:18.154 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" started.
2024-06-30 00:20:18.155 -04:00 [DBG] Connection id "0HN4OMJ8IFT2J" accepted.
2024-06-30 00:20:18.155 -04:00 [DBG] Connection id "0HN4OMJ8IFT2J" started.
2024-06-30 00:20:18.156 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-06-30 00:20:18.156 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:20:18.158 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" completed keep alive response.
2024-06-30 00:20:18.158 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 2.1242ms
2024-06-30 00:20:18.224 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-06-30 00:20:18.224 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:20:18.307 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" completed keep alive response.
2024-06-30 00:20:18.308 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.5716ms
2024-06-30 00:20:47.545 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/111112/2023-02 - null null
2024-06-30 00:20:47.545 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:20:47.546 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 00:20:47.546 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/111112/2023-02'
2024-06-30 00:20:47.546 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasEstudiante/{codigoEstudiante}/{periodo}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/111112/2023-02'
2024-06-30 00:20:47.546 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:20:47.546 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:20:47.561 -04:00 [INF] Route matched with {action = "GetMateriasEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMateriasEstudiante(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-06-30 00:20:47.561 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 00:20:47.561 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 00:20:47.561 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 00:20:47.561 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 00:20:47.561 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 00:20:47.561 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:20:47.563 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:20:47.564 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-06-30 00:20:47.564 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-06-30 00:20:47.564 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:20:47.564 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:20:47.564 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-06-30 00:20:47.564 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:20:47.564 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-06-30 00:20:47.564 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-06-30 00:20:47.564 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-06-30 00:20:47.564 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-06-30 00:20:47.564 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-06-30 00:20:47.564 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-06-30 00:20:47.565 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) - Validation state: "Valid"
2024-06-30 00:20:47.572 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 00:20:47.575 -04:00 [DBG] Compiling query expression: 
'DbSet<EstudianteMateria>()
    .Include(em => em.Materias)
    .Include(em => em.Seccions)
    .ThenInclude(s => s.Aulas)
    .Include(em => em.Seccions)
    .ThenInclude(s => s.MateriaDocentes)
    .ThenInclude(md => md.Docentes)
    .Where(em => em.CodigoEstudiante == __codigoEstudiante_0 && em.PeriodoCursado == __periodo_1)
    .Select(em => new { 
        NombreMateria = em.Materias.NombreMateria, 
        CodigoSeccion = em.Seccions.CodigoSeccion, 
        Horario = em.Seccions.Horario, 
        Aula = em.Seccions.Aulas.CodigoAula, 
        Profesor = em.Seccions.MateriaDocentes
            .Select(md => md.Docentes.NombreDocente)
            .FirstOrDefault()
     })'
2024-06-30 00:20:47.593 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<<>f__AnonymousType10<string, string, string, string, string>>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            NombreMateria -> 0
            CodigoSeccion -> 1
            Horario -> 2
            Aula -> 3
            Profesor -> 4
        SELECT m.NombreMateria, s.CodigoSeccion, s.Horario, a.CodigoAula AS Aula, (
            SELECT TOP(1) d.NombreDocente
            FROM MateriaDocentes AS m0
            INNER JOIN Docentes AS d ON m0.DocenteId == d.CodigoDocente
            WHERE (s.CodigoSeccion != NULL) && (s.CodigoSeccion == m0.SeccionId)) AS Profesor
        FROM EstudianteMaterias AS e
        INNER JOIN Materias AS m ON e.CodigoMateria == m.CodigoMateria
        LEFT JOIN Secciones AS s ON e.SeccionId == s.CodigoSeccion
        LEFT JOIN Aulas AS a ON s.CodigoAula == a.CodigoAula
        WHERE (e.CodigoEstudiante == @__codigoEstudiante_0) && (e.PeriodoCursado == @__periodo_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = dataReader.GetString(0);
        value2 = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
        return new { 
            NombreMateria = value1, 
            CodigoSeccion = value2, 
            Horario = value3, 
            Aula = value4, 
            Profesor = value5
         };
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-06-30 00:20:47.600 -04:00 [DBG] Creating DbConnection.
2024-06-30 00:20:47.600 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 00:20:47.600 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:20:47.619 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:20:47.619 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:20:47.619 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:20:47.619 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:20:47.619 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-06-30 00:20:47.657 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-06-30 00:20:47.657 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:20:47.657 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 00:20:47.657 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:20:47.657 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:20:47.657 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 92.2806ms.
2024-06-30 00:20:47.657 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 00:20:47.657 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 00:20:47.657 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 00:20:47.657 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 00:20:47.657 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 00:20:47.657 -04:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-06-30 00:20:47.657 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) in 96.185ms
2024-06-30 00:20:47.657 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:20:47.658 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" completed keep alive response.
2024-06-30 00:20:47.658 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 00:20:47.658 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 00:20:47.658 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 00:20:47.658 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/111112/2023-02 - 404 null text/plain; charset=utf-8 112.6014ms
2024-06-30 00:20:56.186 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1111112/2023-02 - null null
2024-06-30 00:20:56.187 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:20:56.187 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 00:20:56.189 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1111112/2023-02'
2024-06-30 00:20:56.189 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasEstudiante/{codigoEstudiante}/{periodo}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1111112/2023-02'
2024-06-30 00:20:56.189 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:20:56.189 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:20:56.189 -04:00 [INF] Route matched with {action = "GetMateriasEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMateriasEstudiante(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-06-30 00:20:56.189 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 00:20:56.189 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 00:20:56.189 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 00:20:56.189 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 00:20:56.189 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 00:20:56.189 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:20:56.189 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:20:56.189 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-06-30 00:20:56.189 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-06-30 00:20:56.189 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:20:56.189 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:20:56.189 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-06-30 00:20:56.189 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:20:56.189 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-06-30 00:20:56.189 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-06-30 00:20:56.189 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-06-30 00:20:56.189 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-06-30 00:20:56.189 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-06-30 00:20:56.189 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-06-30 00:20:56.190 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) - Validation state: "Valid"
2024-06-30 00:20:56.190 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 00:20:56.191 -04:00 [DBG] Creating DbConnection.
2024-06-30 00:20:56.191 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 00:20:56.191 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:20:56.191 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:20:56.191 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:20:56.191 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:20:56.191 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:20:56.191 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-06-30 00:20:56.198 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-06-30 00:20:56.199 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:20:56.199 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 00:20:56.199 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:20:56.199 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:20:56.199 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.2125ms.
2024-06-30 00:20:56.199 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 00:20:56.199 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 00:20:56.199 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 00:20:56.199 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 00:20:56.199 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 00:20:56.199 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType10`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 00:20:56.201 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) in 12.4896ms
2024-06-30 00:20:56.201 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:20:56.201 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" completed keep alive response.
2024-06-30 00:20:56.201 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 00:20:56.201 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 00:20:56.202 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 00:20:56.202 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1111112/2023-02 - 200 456 application/json; charset=utf-8 15.1962ms
2024-06-30 00:21:14.314 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasYSeccionesPorEstudiante/1111112 - null null
2024-06-30 00:21:14.314 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:21:14.314 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 00:21:14.315 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasYSeccionesPorEstudiante/1111112'
2024-06-30 00:21:14.315 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasYSeccionesPorEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasYSeccionesPorEstudiante/{codigoEstudiante}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasYSeccionesPorEstudiante/1111112'
2024-06-30 00:21:14.315 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasYSeccionesPorEstudiante (CRUD)'
2024-06-30 00:21:14.315 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasYSeccionesPorEstudiante (CRUD)'
2024-06-30 00:21:14.322 -04:00 [INF] Route matched with {action = "GetMateriasYSeccionesPorEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMateriasYSeccionesPorEstudiante(Int32) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-06-30 00:21:14.322 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 00:21:14.322 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 00:21:14.322 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 00:21:14.322 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 00:21:14.322 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 00:21:14.322 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:21:14.323 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:21:14.323 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-06-30 00:21:14.323 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-06-30 00:21:14.323 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:21:14.323 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:21:14.323 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-06-30 00:21:14.323 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:21:14.323 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasYSeccionesPorEstudiante (CRUD) - Validation state: "Valid"
2024-06-30 00:21:14.327 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 00:21:14.333 -04:00 [DBG] Compiling query expression: 
'DbSet<EstudianteMateria>()
    .Include(em => em.Materias)
    .Include(em => em.Seccions)
    .Where(em => em.CodigoEstudiante == __codigoEstudiante_0)
    .Select(em => new { 
        CodigoMateria = em.Materias.CodigoMateria, 
        NombreMateria = em.Materias.NombreMateria, 
        CodigoSeccion = em.Seccions.CodigoSeccion, 
        Horario = em.Seccions.Horario, 
        Calificacion = em.Calificacion
     })'
2024-06-30 00:21:14.337 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<<>f__AnonymousType11<string, string, string, string, string>>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            CodigoMateria -> 0
            NombreMateria -> 1
            CodigoSeccion -> 2
            Horario -> 3
            Calificacion -> 4
        SELECT m.CodigoMateria, m.NombreMateria, s.CodigoSeccion, s.Horario, e.Calificacion
        FROM EstudianteMaterias AS e
        INNER JOIN Materias AS m ON e.CodigoMateria == m.CodigoMateria
        LEFT JOIN Secciones AS s ON e.SeccionId == s.CodigoSeccion
        WHERE e.CodigoEstudiante == @__codigoEstudiante_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        string value3;
        string value4;
        string value5;
        value1 = dataReader.GetString(0);
        value2 = dataReader.GetString(1);
        value3 = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
        value4 = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
        value5 = dataReader.GetString(4);
        return new { 
            CodigoMateria = value1, 
            NombreMateria = value2, 
            CodigoSeccion = value3, 
            Horario = value4, 
            Calificacion = value5
         };
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-06-30 00:21:14.338 -04:00 [DBG] Creating DbConnection.
2024-06-30 00:21:14.338 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 00:21:14.338 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:21:14.338 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:21:14.338 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:21:14.338 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:21:14.338 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:21:14.338 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[CodigoMateria], [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [e].[Calificacion]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0
2024-06-30 00:21:14.346 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[CodigoMateria], [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [e].[Calificacion]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0
2024-06-30 00:21:14.347 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:21:14.347 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 00:21:14.347 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:21:14.347 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:21:14.347 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasYSeccionesPorEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.2215ms.
2024-06-30 00:21:14.347 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 00:21:14.347 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 00:21:14.347 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 00:21:14.347 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 00:21:14.347 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 00:21:14.347 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType11`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 00:21:14.350 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasYSeccionesPorEstudiante (CRUD) in 27.3842ms
2024-06-30 00:21:14.350 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasYSeccionesPorEstudiante (CRUD)'
2024-06-30 00:21:14.350 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" completed keep alive response.
2024-06-30 00:21:14.350 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 00:21:14.350 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 00:21:14.350 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 00:21:14.350 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasYSeccionesPorEstudiante/1111112 - 200 455 application/json; charset=utf-8 36.38ms
2024-06-30 00:21:52.090 -04:00 [DBG] Connection id "0HN4OMJ8IFT2J" received FIN.
2024-06-30 00:21:52.091 -04:00 [DBG] Connection id "0HN4OMJ8IFT2J" disconnecting.
2024-06-30 00:21:52.092 -04:00 [DBG] Connection id "0HN4OMJ8IFT2J" stopped.
2024-06-30 00:21:52.092 -04:00 [DBG] Connection id "0HN4OMJ8IFT2J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 00:21:54.257 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1111112/2023-02 - null null
2024-06-30 00:21:54.258 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:21:54.260 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 00:21:54.260 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1111112/2023-02'
2024-06-30 00:21:54.260 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)' with route pattern 'api/EstudianteMateriaApi/GetMateriasEstudiante/{codigoEstudiante}/{periodo}' is valid for the request path '/api/EstudianteMateriaApi/GetMateriasEstudiante/1111112/2023-02'
2024-06-30 00:21:54.260 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:21:54.261 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:21:54.261 -04:00 [INF] Route matched with {action = "GetMateriasEstudiante", controller = "EstudianteMateria"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetMateriasEstudiante(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-06-30 00:21:54.261 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 00:21:54.261 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 00:21:54.261 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 00:21:54.262 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 00:21:54.262 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 00:21:54.263 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:21:54.263 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:21:54.263 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-06-30 00:21:54.263 -04:00 [DBG] Attempting to bind parameter 'codigoEstudiante' of type 'System.Int32' using the name 'codigoEstudiante' in request data ...
2024-06-30 00:21:54.263 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:21:54.263 -04:00 [DBG] Done attempting to bind parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:21:54.264 -04:00 [DBG] Attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32' ...
2024-06-30 00:21:54.264 -04:00 [DBG] Done attempting to validate the bound parameter 'codigoEstudiante' of type 'System.Int32'.
2024-06-30 00:21:54.264 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' ...
2024-06-30 00:21:54.264 -04:00 [DBG] Attempting to bind parameter 'periodo' of type 'System.String' using the name 'periodo' in request data ...
2024-06-30 00:21:54.264 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-06-30 00:21:54.264 -04:00 [DBG] Done attempting to bind parameter 'periodo' of type 'System.String'.
2024-06-30 00:21:54.264 -04:00 [DBG] Attempting to validate the bound parameter 'periodo' of type 'System.String' ...
2024-06-30 00:21:54.264 -04:00 [DBG] Done attempting to validate the bound parameter 'periodo' of type 'System.String'.
2024-06-30 00:21:54.264 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) - Validation state: "Valid"
2024-06-30 00:21:54.265 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 00:21:54.266 -04:00 [DBG] Creating DbConnection.
2024-06-30 00:21:54.266 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 00:21:54.267 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:21:54.267 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:21:54.267 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:21:54.267 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:21:54.267 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:21:54.268 -04:00 [DBG] Executing DbCommand [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-06-30 00:21:54.275 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__codigoEstudiante_0='?' (DbType = Int32), @__periodo_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[NombreMateria], [s].[CodigoSeccion], [s].[Horario], [a].[CodigoAula] AS [Aula], (
    SELECT TOP(1) [d].[NombreDocente]
    FROM [MateriaDocentes] AS [m0]
    INNER JOIN [Docentes] AS [d] ON [m0].[DocenteId] = [d].[CodigoDocente]
    WHERE [s].[CodigoSeccion] IS NOT NULL AND [s].[CodigoSeccion] = [m0].[SeccionId]) AS [Profesor]
FROM [EstudianteMaterias] AS [e]
INNER JOIN [Materias] AS [m] ON [e].[CodigoMateria] = [m].[CodigoMateria]
LEFT JOIN [Secciones] AS [s] ON [e].[SeccionId] = [s].[CodigoSeccion]
LEFT JOIN [Aulas] AS [a] ON [s].[CodigoAula] = [a].[CodigoAula]
WHERE [e].[CodigoEstudiante] = @__codigoEstudiante_0 AND [e].[PeriodoCursado] = @__periodo_1
2024-06-30 00:21:54.275 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:21:54.275 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 00:21:54.275 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:21:54.275 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:21:54.275 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.1377ms.
2024-06-30 00:21:54.275 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 00:21:54.275 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 00:21:54.275 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 00:21:54.275 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 00:21:54.275 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 00:21:54.275 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType10`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CRUD, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 00:21:54.276 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD) in 13.1868ms
2024-06-30 00:21:54.276 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.GetMateriasEstudiante (CRUD)'
2024-06-30 00:21:54.276 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" completed keep alive response.
2024-06-30 00:21:54.276 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 00:21:54.276 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 00:21:54.276 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 00:21:54.276 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/EstudianteMateriaApi/GetMateriasEstudiante/1111112/2023-02 - 200 456 application/json; charset=utf-8 19.1666ms
2024-06-30 00:24:05.217 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" disconnecting.
2024-06-30 00:24:05.218 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" stopped.
2024-06-30 00:24:05.220 -04:00 [DBG] Connection id "0HN4OMJ8IFT2I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 00:26:05.770 -04:00 [DBG] Connection id "0HN4OMJ8IFT2K" accepted.
2024-06-30 00:26:05.771 -04:00 [DBG] Connection id "0HN4OMJ8IFT2K" started.
2024-06-30 00:26:05.771 -04:00 [DBG] Connection id "0HN4OMJ8IFT2L" accepted.
2024-06-30 00:26:05.771 -04:00 [DBG] Connection id "0HN4OMJ8IFT2L" started.
2024-06-30 00:26:05.772 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-06-30 00:26:05.772 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:26:05.774 -04:00 [DBG] Connection id "0HN4OMJ8IFT2K" completed keep alive response.
2024-06-30 00:26:05.775 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 3.0645ms
2024-06-30 00:26:05.850 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-06-30 00:26:05.850 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:26:05.943 -04:00 [DBG] Connection id "0HN4OMJ8IFT2K" completed keep alive response.
2024-06-30 00:26:05.943 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.216ms
2024-06-30 00:26:22.097 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/EstudianteMateriaApi/SelectSeccion?estudianteId=1111112&seccionId=MAT101-02 - null 0
2024-06-30 00:26:22.098 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 00:26:22.098 -04:00 [DBG] POST requests are not supported
2024-06-30 00:26:22.098 -04:00 [DBG] 1 candidate(s) found for the request path '/api/EstudianteMateriaApi/SelectSeccion'
2024-06-30 00:26:22.098 -04:00 [DBG] Endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)' with route pattern 'api/EstudianteMateriaApi/SelectSeccion' is valid for the request path '/api/EstudianteMateriaApi/SelectSeccion'
2024-06-30 00:26:22.098 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-06-30 00:26:22.099 -04:00 [DBG] The request has an origin header: 'http://localhost:5104'.
2024-06-30 00:26:22.099 -04:00 [INF] CORS policy execution successful.
2024-06-30 00:26:22.099 -04:00 [INF] Executing endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-06-30 00:26:22.109 -04:00 [INF] Route matched with {action = "SelectSeccion", controller = "EstudianteMateria"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SelectSeccion(Int32, System.String) on controller CRUD.Controllers.EstudianteMateriaController (CRUD).
2024-06-30 00:26:22.109 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 00:26:22.109 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 00:26:22.109 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 00:26:22.109 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 00:26:22.109 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 00:26:22.109 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:26:22.111 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.EstudianteMateriaController (CRUD)
2024-06-30 00:26:22.117 -04:00 [DBG] Attempting to bind parameter 'estudianteId' of type 'System.Int32' ...
2024-06-30 00:26:22.117 -04:00 [DBG] Attempting to bind parameter 'estudianteId' of type 'System.Int32' using the name 'estudianteId' in request data ...
2024-06-30 00:26:22.117 -04:00 [DBG] Done attempting to bind parameter 'estudianteId' of type 'System.Int32'.
2024-06-30 00:26:22.117 -04:00 [DBG] Done attempting to bind parameter 'estudianteId' of type 'System.Int32'.
2024-06-30 00:26:22.117 -04:00 [DBG] Attempting to validate the bound parameter 'estudianteId' of type 'System.Int32' ...
2024-06-30 00:26:22.117 -04:00 [DBG] Done attempting to validate the bound parameter 'estudianteId' of type 'System.Int32'.
2024-06-30 00:26:22.117 -04:00 [DBG] Attempting to bind parameter 'seccionId' of type 'System.String' ...
2024-06-30 00:26:22.117 -04:00 [DBG] Attempting to bind parameter 'seccionId' of type 'System.String' using the name 'seccionId' in request data ...
2024-06-30 00:26:22.117 -04:00 [DBG] Done attempting to bind parameter 'seccionId' of type 'System.String'.
2024-06-30 00:26:22.117 -04:00 [DBG] Done attempting to bind parameter 'seccionId' of type 'System.String'.
2024-06-30 00:26:22.117 -04:00 [DBG] Attempting to validate the bound parameter 'seccionId' of type 'System.String' ...
2024-06-30 00:26:22.118 -04:00 [DBG] Done attempting to validate the bound parameter 'seccionId' of type 'System.String'.
2024-06-30 00:26:22.118 -04:00 [INF] Executing action method CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD) - Validation state: "Valid"
2024-06-30 00:26:22.121 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 00:26:22.128 -04:00 [DBG] Compiling query expression: 
'DbSet<Estudiante>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-06-30 00:26:22.132 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Estudiante>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Estudiante>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Estudiante.Id (int) Required PK AfterSave:Throw, 0], [Property: Estudiante.Alertas (string) MaxLength(50), 1], [Property: Estudiante.CarreraId (int?) FK Index, 2], [Property: Estudiante.CiudadEstudiante (string) Required MaxLength(100), 3], [Property: Estudiante.CondicionAcademica (string) Required MaxLength(50), 4], [Property: Estudiante.ContraseñaEstudiante (string) Required MaxLength(100), 5], [Property: Estudiante.CorreoEstudiante (string) Required MaxLength(150), 6], [Property: Estudiante.CreditosAprobados (int?), 7], [Property: Estudiante.DireccionEstudiante (string) Required MaxLength(200), 8], [Property: Estudiante.FechaIngreso (DateTime) Required, 9], [Property: Estudiante.IndiceGeneral (decimal?), 10], [Property: Estudiante.IndicePeriodo (decimal?), 11], [Property: Estudiante.Nacionalidad (string) Required MaxLength(50), 12], [Property: Estudiante.NombreEstudiante (string) Required MaxLength(100), 13], [Property: Estudiante.PeriodoActual (string), 14], [Property: Estudiante.PeriodosCursados (int?), 15], [Property: Estudiante.SexoEstudiante (string) Required MaxLength(1), 16], [Property: Estudiante.TelefonoEstudiante (string) Required MaxLength(15), 17] }
            SELECT TOP(1) e.Id, e.Alertas, e.CarreraId, e.CiudadEstudiante, e.CondicionAcademica, e.ContraseñaEstudiante, e.CorreoEstudiante, e.CreditosAprobados, e.DireccionEstudiante, e.FechaIngreso, e.IndiceGeneral, e.IndicePeriodo, e.Nacionalidad, e.NombreEstudiante, e.PeriodoActual, e.PeriodosCursados, e.SexoEstudiante, e.TelefonoEstudiante
            FROM Estudiantes AS e
            WHERE e.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Estudiante entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Estudiante instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Estudiante);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Estudiante.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Estudiante").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Estudiante)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Estudiante")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Estudiante")]: 
                            {
                                return 
                                {
                                    Estudiante instance;
                                    instance = new Estudiante();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Alertas>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CarreraId>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                    instance.<CiudadEstudiante>k__BackingField = dataReader.GetString(3);
                                    instance.<CondicionAcademica>k__BackingField = dataReader.GetString(4);
                                    instance.<ContraseñaEstudiante>k__BackingField = dataReader.GetString(5);
                                    instance.<CorreoEstudiante>k__BackingField = dataReader.GetString(6);
                                    instance.<CreditosAprobados>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                    instance.<DireccionEstudiante>k__BackingField = dataReader.GetString(8);
                                    instance.<FechaIngreso>k__BackingField = dataReader.GetDateTime(9);
                                    instance.<IndiceGeneral>k__BackingField = dataReader.IsDBNull(10) ? default(decimal?) : (decimal?)dataReader.GetDecimal(10);
                                    instance.<IndicePeriodo>k__BackingField = dataReader.IsDBNull(11) ? default(decimal?) : (decimal?)dataReader.GetDecimal(11);
                                    instance.<Nacionalidad>k__BackingField = dataReader.GetString(12);
                                    instance.<NombreEstudiante>k__BackingField = dataReader.GetString(13);
                                    instance.<PeriodoActual>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<PeriodosCursados>k__BackingField = dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15);
                                    instance.<SexoEstudiante>k__BackingField = dataReader.GetString(16);
                                    instance.<TelefonoEstudiante>k__BackingField = dataReader.GetString(17);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Estudiante")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Estudiante)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-30 00:26:22.134 -04:00 [DBG] Creating DbConnection.
2024-06-30 00:26:22.134 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 00:26:22.134 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.134 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.134 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:26:22.134 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.134 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.134 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__p_0
2024-06-30 00:26:22.142 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__p_0
2024-06-30 00:26:22.148 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.169 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:26:22.169 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 27ms reading results.
2024-06-30 00:26:22.169 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.169 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:26:22.170 -04:00 [DBG] Compiling query expression: 
'DbSet<Seccion>()
    .FirstOrDefault(e => EF.Property<string>(e, "CodigoSeccion") == __p_0)'
2024-06-30 00:26:22.173 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Seccion>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Seccion>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Seccion.CodigoSeccion (string) Required PK AfterSave:Throw, 0], [Property: Seccion.CodigoAula (string) FK Index, 1], [Property: Seccion.CodigoMateria (string) FK Index, 2], [Property: Seccion.Cupo (int) Required, 3], [Property: Seccion.Horario (string) Required MaxLength(50), 4] }
            SELECT TOP(1) s.CodigoSeccion, s.CodigoAula, s.CodigoMateria, s.Cupo, s.Horario
            FROM Secciones AS s
            WHERE s.CodigoSeccion == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Seccion entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Seccion instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Seccion);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Seccion.CodigoSeccion PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Seccion").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Seccion)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")]: 
                            {
                                return 
                                {
                                    Seccion instance;
                                    instance = new Seccion();
                                    instance.<CodigoSeccion>k__BackingField = dataReader.GetString(0);
                                    instance.<CodigoAula>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<CodigoMateria>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Cupo>k__BackingField = dataReader.GetInt32(3);
                                    instance.<Horario>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Seccion | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Seccion")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Seccion)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-30 00:26:22.174 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.174 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.174 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:26:22.174 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.174 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.174 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [Secciones] AS [s]
WHERE [s].[CodigoSeccion] = @__p_0
2024-06-30 00:26:22.182 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[CodigoSeccion], [s].[CodigoAula], [s].[CodigoMateria], [s].[Cupo], [s].[Horario]
FROM [Secciones] AS [s]
WHERE [s].[CodigoSeccion] = @__p_0
2024-06-30 00:26:22.186 -04:00 [DBG] Context 'MyDbContext' started tracking 'Seccion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.191 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:26:22.191 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 8ms reading results.
2024-06-30 00:26:22.191 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.191 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:26:22.192 -04:00 [DBG] Compiling query expression: 
'DbSet<Materia>()
    .FirstOrDefault(e => EF.Property<string>(e, "CodigoMateria") == __p_0)'
2024-06-30 00:26:22.198 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Materia>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Materia>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Materia.CodigoMateria (string) Required PK AfterSave:Throw, 0], [Property: Materia.AreaAcademica (string) Required MaxLength(100), 1], [Property: Materia.AulaCodigoAula (no field, string) Shadow FK Index, 2], [Property: Materia.CreditosMateria (int) Required, 3], [Property: Materia.NombreMateria (string) Required MaxLength(100), 4], [Property: Materia.TipoMateria (string) Required MaxLength(50), 5] }
            SELECT TOP(1) m.CodigoMateria, m.AreaAcademica, m.AulaCodigoAula, m.CreditosMateria, m.NombreMateria, m.TipoMateria
            FROM Materias AS m
            WHERE m.CodigoMateria == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Materia entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Materia instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Materia);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Materia.CodigoMateria PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Materia").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Materia)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<string>(dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2));
                                return 
                                {
                                    Materia instance;
                                    instance = new Materia();
                                    instance.<CodigoMateria>k__BackingField = dataReader.GetString(0);
                                    instance.<AreaAcademica>k__BackingField = dataReader.GetString(1);
                                    instance.<CreditosMateria>k__BackingField = dataReader.GetInt32(3);
                                    instance.<NombreMateria>k__BackingField = dataReader.GetString(4);
                                    instance.<TipoMateria>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Materia | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Materia")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Materia)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-30 00:26:22.200 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.200 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.200 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:26:22.200 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.200 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.200 -04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [Materias] AS [m]
WHERE [m].[CodigoMateria] = @__p_0
2024-06-30 00:26:22.206 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[CodigoMateria], [m].[AreaAcademica], [m].[AulaCodigoAula], [m].[CreditosMateria], [m].[NombreMateria], [m].[TipoMateria]
FROM [Materias] AS [m]
WHERE [m].[CodigoMateria] = @__p_0
2024-06-30 00:26:22.207 -04:00 [DBG] The navigation 'Seccion.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.208 -04:00 [DBG] Context 'MyDbContext' started tracking 'Materia' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.208 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:26:22.208 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 2ms reading results.
2024-06-30 00:26:22.208 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.208 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:26:22.209 -04:00 [DBG] Compiling query expression: 
'DbSet<EstudianteMateria>()
    .FirstOrDefault(em => em.CodigoEstudiante == __estudianteId_0 && em.SeccionId == __seccionId_1)'
2024-06-30 00:26:22.210 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<EstudianteMateria>(
    asyncEnumerable: SingleQueryingEnumerable.Create<EstudianteMateria>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: EstudianteMateria.CodigoMateria (string) Required PK FK AfterSave:Throw, 0], [Property: EstudianteMateria.CodigoEstudiante (int) Required PK FK Index AfterSave:Throw, 1], [Property: EstudianteMateria.Calificacion (string) Required MaxLength(2), 2], [Property: EstudianteMateria.PeriodoCursado (string) Required MaxLength(50), 3], [Property: EstudianteMateria.SeccionId (string) FK Index, 4] }
            SELECT TOP(1) e.CodigoMateria, e.CodigoEstudiante, e.Calificacion, e.PeriodoCursado, e.SeccionId
            FROM EstudianteMaterias AS e
            WHERE (e.CodigoEstudiante == @__estudianteId_0) && (e.SeccionId == @__seccionId_1)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass26_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            EstudianteMateria entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                EstudianteMateria instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(EstudianteMateria);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EstudianteMateria.CodigoMateria, EstudianteMateria.CodigoEstudiante PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria").FindPrimaryKey()], 
                    keyValues: new object[]
                    { 
                        (object)dataReader.GetString(0), 
                        (object)dataReader.GetInt32(1) 
                    }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (EstudianteMateria)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")]: 
                            {
                                return 
                                {
                                    EstudianteMateria instance;
                                    instance = new EstudianteMateria();
                                    instance.<CodigoMateria>k__BackingField = dataReader.GetString(0);
                                    instance.<CodigoEstudiante>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Calificacion>k__BackingField = dataReader.GetString(2);
                                    instance.<PeriodoCursado>k__BackingField = dataReader.GetString(3);
                                    instance.<SeccionId>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: EstudianteMateria | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.EstudianteMateria")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(EstudianteMateria)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: CRUD.Context.MyDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-30 00:26:22.211 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.211 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.212 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:26:22.212 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.212 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.212 -04:00 [DBG] Executing DbCommand [Parameters=[@__estudianteId_0='?' (DbType = Int32), @__seccionId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[Calificacion], [e].[PeriodoCursado], [e].[SeccionId]
FROM [EstudianteMaterias] AS [e]
WHERE [e].[CodigoEstudiante] = @__estudianteId_0 AND [e].[SeccionId] = @__seccionId_1
2024-06-30 00:26:22.218 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__estudianteId_0='?' (DbType = Int32), @__seccionId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[CodigoMateria], [e].[CodigoEstudiante], [e].[Calificacion], [e].[PeriodoCursado], [e].[SeccionId]
FROM [EstudianteMaterias] AS [e]
WHERE [e].[CodigoEstudiante] = @__estudianteId_0 AND [e].[SeccionId] = @__seccionId_1
2024-06-30 00:26:22.218 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:26:22.218 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 00:26:22.218 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.218 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:26:22.227 -04:00 [DBG] The navigation 'EstudianteMateria.Estudiantes' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.228 -04:00 [DBG] The navigation 'EstudianteMateria.Materias' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.230 -04:00 [DBG] The navigation 'EstudianteMateria.Seccions' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.232 -04:00 [DBG] Context 'MyDbContext' started tracking 'EstudianteMateria' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.234 -04:00 [DBG] SaveChanges starting for 'MyDbContext'.
2024-06-30 00:26:22.234 -04:00 [DBG] DetectChanges starting for 'MyDbContext'.
2024-06-30 00:26:22.249 -04:00 [DBG] DetectChanges completed for 'MyDbContext'.
2024-06-30 00:26:22.255 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.255 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.257 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 00:26:22.257 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.257 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 00:26:22.257 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 2), @p3='?' (Size = 50), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EstudianteMaterias] ([CodigoEstudiante], [CodigoMateria], [Calificacion], [PeriodoCursado], [SeccionId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-30 00:26:22.268 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 2), @p3='?' (Size = 50), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EstudianteMaterias] ([CodigoEstudiante], [CodigoMateria], [Calificacion], [PeriodoCursado], [SeccionId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-30 00:26:22.270 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 00:26:22.270 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 1ms reading results.
2024-06-30 00:26:22.271 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.271 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 00:26:22.272 -04:00 [DBG] An entity of type 'EstudianteMateria' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 00:26:22.273 -04:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2024-06-30 00:26:22.273 -04:00 [INF] El estudiante con ID 1111112 se ha inscrito en la sección MAT101-02
2024-06-30 00:26:22.273 -04:00 [INF] Executed action method CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 155.3394ms.
2024-06-30 00:26:22.273 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 00:26:22.273 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 00:26:22.273 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 00:26:22.273 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 00:26:22.273 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 00:26:22.273 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.EstudianteMateria'.
2024-06-30 00:26:22.287 -04:00 [INF] Executed action CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD) in 177.898ms
2024-06-30 00:26:22.287 -04:00 [INF] Executed endpoint 'CRUD.Controllers.EstudianteMateriaController.SelectSeccion (CRUD)'
2024-06-30 00:26:22.287 -04:00 [DBG] Connection id "0HN4OMJ8IFT2K" completed keep alive response.
2024-06-30 00:26:22.287 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 00:26:22.287 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 00:26:22.287 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 00:26:22.287 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/EstudianteMateriaApi/SelectSeccion?estudianteId=1111112&seccionId=MAT101-02 - 200 1194 application/json; charset=utf-8 190.7949ms
2024-06-30 00:28:17.478 -04:00 [DBG] Connection id "0HN4OMJ8IFT2L" disconnecting.
2024-06-30 00:28:17.480 -04:00 [DBG] Connection id "0HN4OMJ8IFT2L" stopped.
2024-06-30 00:28:17.483 -04:00 [DBG] Connection id "0HN4OMJ8IFT2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 00:28:32.489 -04:00 [DBG] Connection id "0HN4OMJ8IFT2K" disconnecting.
2024-06-30 00:28:32.491 -04:00 [DBG] Connection id "0HN4OMJ8IFT2K" stopped.
2024-06-30 00:28:32.492 -04:00 [DBG] Connection id "0HN4OMJ8IFT2K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 00:29:28.177 -04:00 [INF] Application is shutting down...
2024-06-30 00:29:28.179 -04:00 [DBG] Hosting stopping
2024-06-30 00:29:28.186 -04:00 [DBG] Hosting stopped
2024-06-30 12:32:28.635 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-30 12:32:28.713 -04:00 [DBG] Hosting starting
2024-06-30 12:32:28.717 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-06-30 12:32:28.724 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2024-06-30 12:32:28.726 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2024-06-30 12:32:28.730 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2024-06-30 12:32:28.731 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2024-06-30 12:32:28.734 -04:00 [DBG] Considering key {b06a4e2e-7908-41eb-9b39-8691b777fc93} with expiration date 2024-08-26 20:47:39Z as default key.
2024-06-30 12:32:28.735 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-30 12:32:28.738 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-06-30 12:32:28.738 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-06-30 12:32:28.740 -04:00 [DBG] Using key {b06a4e2e-7908-41eb-9b39-8691b777fc93} as the default key.
2024-06-30 12:32:28.741 -04:00 [DBG] Key ring with default key {b06a4e2e-7908-41eb-9b39-8691b777fc93} was loaded during application startup.
2024-06-30 12:32:28.783 -04:00 [INF] Now listening on: http://localhost:5104
2024-06-30 12:32:28.783 -04:00 [DBG] Loaded hosting startup assembly CRUD
2024-06-30 12:32:28.783 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 12:32:28.784 -04:00 [INF] Hosting environment: Development
2024-06-30 12:32:28.784 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/University-Backend/CRUD
2024-06-30 12:32:28.784 -04:00 [DBG] Hosting started
2024-06-30 12:32:28.785 -04:00 [DBG] Connection id "0HN4P48TPQ7UR" received FIN.
2024-06-30 12:32:28.789 -04:00 [DBG] Connection id "0HN4P48TPQ7UR" accepted.
2024-06-30 12:32:28.789 -04:00 [DBG] Connection id "0HN4P48TPQ7UR" started.
2024-06-30 12:32:28.793 -04:00 [DBG] Connection id "0HN4P48TPQ7UR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 12:32:28.794 -04:00 [DBG] Connection id "0HN4P48TPQ7UR" disconnecting.
2024-06-30 12:32:28.797 -04:00 [DBG] Connection id "0HN4P48TPQ7UR" stopped.
2024-06-30 12:32:29.077 -04:00 [DBG] Connection id "0HN4P48TPQ7US" accepted.
2024-06-30 12:32:29.078 -04:00 [DBG] Connection id "0HN4P48TPQ7UT" accepted.
2024-06-30 12:32:29.078 -04:00 [DBG] Connection id "0HN4P48TPQ7US" started.
2024-06-30 12:32:29.078 -04:00 [DBG] Connection id "0HN4P48TPQ7UT" started.
2024-06-30 12:32:29.098 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-06-30 12:32:29.100 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-30 12:32:29.129 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:32:29.209 -04:00 [DBG] Connection id "0HN4P48TPQ7US" completed keep alive response.
2024-06-30 12:32:29.211 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 115.612ms
2024-06-30 12:32:29.287 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-06-30 12:32:29.288 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:32:29.484 -04:00 [DBG] Connection id "0HN4P48TPQ7US" completed keep alive response.
2024-06-30 12:32:29.484 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.4263ms
2024-06-30 12:33:38.443 -04:00 [DBG] Connection id "0HN4P48TPQ7UT" received FIN.
2024-06-30 12:33:38.444 -04:00 [DBG] Connection id "0HN4P48TPQ7UT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 12:33:38.445 -04:00 [DBG] Connection id "0HN4P48TPQ7UT" disconnecting.
2024-06-30 12:33:38.446 -04:00 [DBG] Connection id "0HN4P48TPQ7UT" stopped.
2024-06-30 12:34:40.818 -04:00 [DBG] Connection id "0HN4P48TPQ7US" disconnecting.
2024-06-30 12:34:40.819 -04:00 [DBG] Connection id "0HN4P48TPQ7US" stopped.
2024-06-30 12:34:40.820 -04:00 [DBG] Connection id "0HN4P48TPQ7US" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 12:35:09.883 -04:00 [DBG] Connection id "0HN4P48TPQ7UU" accepted.
2024-06-30 12:35:09.883 -04:00 [DBG] Connection id "0HN4P48TPQ7UU" started.
2024-06-30 12:35:13.318 -04:00 [DBG] Connection id "0HN4P48TPQ7UV" accepted.
2024-06-30 12:35:13.318 -04:00 [DBG] Connection id "0HN4P48TPQ7UV" started.
2024-06-30 12:35:13.333 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-06-30 12:35:13.337 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:35:13.340 -04:00 [DBG] Connection id "0HN4P48TPQ7UU" completed keep alive response.
2024-06-30 12:35:13.340 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 7.0585ms
2024-06-30 12:35:13.403 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-06-30 12:35:13.404 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:35:13.532 -04:00 [DBG] Connection id "0HN4P48TPQ7UU" completed keep alive response.
2024-06-30 12:35:13.532 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.6518ms
2024-06-30 12:35:48.481 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" accepted.
2024-06-30 12:35:48.482 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" started.
2024-06-30 12:35:48.483 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Admin/Login - null null
2024-06-30 12:35:48.484 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:35:48.487 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:35:48.489 -04:00 [WRN] Failed to determine the https port for redirect.
2024-06-30 12:35:48.530 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Admin/Login'
2024-06-30 12:35:48.530 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:35:48.532 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:35:48.532 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:35:48.533 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:35:48.533 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" completed keep alive response.
2024-06-30 12:35:48.534 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Admin/Login - 204 null null 50.5338ms
2024-06-30 12:35:48.536 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Admin/Login - application/json 37
2024-06-30 12:35:48.571 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 11:39:12 PM', Current time (UTC): '6/30/2024 4:35:48 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 12:35:48.577 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 11:39:12 PM', Current time (UTC): '6/30/2024 4:35:48 PM'.
2024-06-30 12:35:48.577 -04:00 [DBG] POST requests are not supported
2024-06-30 12:35:48.579 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Admin/Login'
2024-06-30 12:35:48.579 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:35:48.579 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:35:48.579 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:35:48.580 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-06-30 12:35:48.580 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-06-30 12:35:48.580 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" completed keep alive response.
2024-06-30 12:35:48.580 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Admin/Login - 405 0 null 44.2983ms
2024-06-30 12:35:48.580 -04:00 [DBG] Connection id "0HN4P48TPQ7V0", Request id "0HN4P48TPQ7V0:00000002": started reading request body.
2024-06-30 12:35:48.581 -04:00 [DBG] Connection id "0HN4P48TPQ7V0", Request id "0HN4P48TPQ7V0:00000002": done reading request body.
2024-06-30 12:36:02.999 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Admin/Login - null null
2024-06-30 12:36:03.000 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:36:03.000 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:36:03.000 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Admin/Login'
2024-06-30 12:36:03.000 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:36:03.001 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:36:03.001 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:36:03.001 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:36:03.002 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" completed keep alive response.
2024-06-30 12:36:03.002 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Admin/Login - 204 null null 3.5432ms
2024-06-30 12:36:03.003 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Admin/Login - application/json 37
2024-06-30 12:36:03.005 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 11:39:12 PM', Current time (UTC): '6/30/2024 4:36:03 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 12:36:03.006 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 11:39:12 PM', Current time (UTC): '6/30/2024 4:36:03 PM'.
2024-06-30 12:36:03.006 -04:00 [DBG] POST requests are not supported
2024-06-30 12:36:03.006 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Admin/Login'
2024-06-30 12:36:03.006 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:36:03.006 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:36:03.006 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:36:03.006 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-06-30 12:36:03.006 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-06-30 12:36:03.006 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" completed keep alive response.
2024-06-30 12:36:03.006 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Admin/Login - 405 0 null 2.8399ms
2024-06-30 12:36:03.006 -04:00 [DBG] Connection id "0HN4P48TPQ7V0", Request id "0HN4P48TPQ7V0:00000004": started reading request body.
2024-06-30 12:36:03.006 -04:00 [DBG] Connection id "0HN4P48TPQ7V0", Request id "0HN4P48TPQ7V0:00000004": done reading request body.
2024-06-30 12:37:09.075 -04:00 [DBG] Connection id "0HN4P48TPQ7UV" received FIN.
2024-06-30 12:37:09.076 -04:00 [DBG] Connection id "0HN4P48TPQ7UV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 12:37:09.076 -04:00 [DBG] Connection id "0HN4P48TPQ7UV" disconnecting.
2024-06-30 12:37:09.076 -04:00 [DBG] Connection id "0HN4P48TPQ7UV" stopped.
2024-06-30 12:37:10.223 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:37:10.224 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:37:10.224 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:37:10.224 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:37:10.224 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:37:10.224 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:37:10.224 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:37:10.224 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:37:10.224 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" completed keep alive response.
2024-06-30 12:37:10.224 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 1.5073ms
2024-06-30 12:37:10.243 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 37
2024-06-30 12:37:10.244 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 11:39:12 PM', Current time (UTC): '6/30/2024 4:37:10 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 12:37:10.245 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/29/2024 11:39:12 PM', Current time (UTC): '6/30/2024 4:37:10 PM'.
2024-06-30 12:37:10.245 -04:00 [DBG] POST requests are not supported
2024-06-30 12:37:10.246 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:37:10.252 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:37:10.253 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:37:10.253 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:37:10.253 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:37:10.253 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:37:10.284 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:37:10.285 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:37:10.285 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:37:10.285 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:37:10.285 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:37:10.285 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:37:10.286 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:37:10.366 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-30 12:37:10.378 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:37:10.379 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:37:10.380 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:37:10.380 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:37:10.380 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:37:10.382 -04:00 [DBG] Connection id "0HN4P48TPQ7V0", Request id "0HN4P48TPQ7V0:00000006": started reading request body.
2024-06-30 12:37:10.382 -04:00 [DBG] Connection id "0HN4P48TPQ7V0", Request id "0HN4P48TPQ7V0:00000006": done reading request body.
2024-06-30 12:37:10.424 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:37:10.424 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:37:10.424 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:37:10.426 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:37:10.430 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:37:10.742 -04:00 [DBG] The index {'CarreraId'} was not created on entity type 'CarreraMateria' as the properties are already covered by the index {'CarreraId', 'CodigoMateria'}.
2024-06-30 12:37:10.742 -04:00 [DBG] The index {'CodigoMateria'} was not created on entity type 'EstudianteMateria' as the properties are already covered by the index {'CodigoMateria', 'CodigoEstudiante'}.
2024-06-30 12:37:10.742 -04:00 [DBG] The index {'AulaId'} was not created on entity type 'MateriaAula' as the properties are already covered by the index {'AulaId', 'CodigoMateria'}.
2024-06-30 12:37:10.742 -04:00 [DBG] The index {'DocenteId'} was not created on entity type 'MateriaDocente' as the properties are already covered by the index {'DocenteId', 'CodigoMateria'}.
2024-06-30 12:37:10.818 -04:00 [DBG] The property 'CarreraMateria.EstudianteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 12:37:10.818 -04:00 [DBG] The property 'Factura.CuentaPorPagarIdCuentaPorPagar' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 12:37:10.818 -04:00 [DBG] The property 'Materia.AulaCodigoAula' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 12:37:10.901 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:37:10.929 -04:00 [DBG] Compiling query expression: 
'DbSet<Admin>()
    .SingleOrDefault(u => u.AdminId == __loginModel_Id_0)'
2024-06-30 12:37:11.101 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Admin>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Admin.AdminId (int) Required PK AfterSave:Throw, 0], [Property: Admin.ContraseñaAdmin (string) Required MaxLength(100), 1], [Property: Admin.CorreoAdmin (string) Required MaxLength(100), 2], [Property: Admin.NombreAdmin (string) Required MaxLength(100), 3], [Property: Admin.Rol (string) Required MaxLength(50), 4] }
        SELECT TOP(2) a.AdminId, a.ContraseñaAdmin, a.CorreoAdmin, a.NombreAdmin, a.Rol
        FROM Admins AS a
        WHERE a.AdminId == @__loginModel_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Admin entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Admin instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Admin);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Admin.AdminId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Admin").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Admin)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")]: 
                        {
                            return 
                            {
                                Admin instance;
                                instance = new Admin();
                                instance.<AdminId>k__BackingField = dataReader.GetInt32(0);
                                instance.<ContraseñaAdmin>k__BackingField = dataReader.GetString(1);
                                instance.<CorreoAdmin>k__BackingField = dataReader.GetString(2);
                                instance.<NombreAdmin>k__BackingField = dataReader.GetString(3);
                                instance.<Rol>k__BackingField = dataReader.GetString(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Admin)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-30 12:37:11.121 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:37:11.136 -04:00 [DBG] Created DbConnection. (14ms).
2024-06-30 12:37:11.138 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:37:11.288 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:37:11.291 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:37:11.294 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-30 12:37:11.299 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-06-30 12:37:11.305 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:37:11.348 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:37:11.370 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:37:11.383 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:37:11.388 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 37ms reading results.
2024-06-30 12:37:11.390 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:37:11.395 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (4ms).
2024-06-30 12:37:11.647 -04:00 [INF] Login exitoso
2024-06-30 12:37:11.649 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1217.7455ms.
2024-06-30 12:37:11.651 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:37:11.652 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:37:11.652 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:37:11.652 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:37:11.652 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:37:11.652 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:37:11.676 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 1388.8407ms
2024-06-30 12:37:11.676 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:37:11.676 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" completed keep alive response.
2024-06-30 12:37:11.677 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:37:11.678 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:37:11.679 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:37:11.679 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 200 569 application/json; charset=utf-8 1436.3179ms
2024-06-30 12:37:11.680 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:37:11.680 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:37:11.680 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:37:11.680 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:37:11.680 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:37:11.680 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:37:11.680 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:37:11.680 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:37:11.680 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" completed keep alive response.
2024-06-30 12:37:11.680 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.2788ms
2024-06-30 12:37:11.680 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:37:11.685 -04:00 [DBG] Successfully validated the token.
2024-06-30 12:37:11.685 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 12:37:11.685 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 12:37:11.685 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:37:11.686 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:37:11.686 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:37:11.686 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:37:11.686 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:37:11.687 -04:00 [DBG] Authorization was successful.
2024-06-30 12:37:11.687 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:37:11.688 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:37:11.688 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:37:11.688 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:37:11.688 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:37:11.688 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:37:11.688 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:37:11.688 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:37:11.688 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:37:11.689 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 12:37:11.696 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:37:11.697 -04:00 [DBG] Compiling query expression: 
'DbSet<Admin>()
    .SingleOrDefault(u => u.AdminId.ToString() == __userId_0)'
2024-06-30 12:37:11.711 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Admin>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Admin.AdminId (int) Required PK AfterSave:Throw, 0], [Property: Admin.ContraseñaAdmin (string) Required MaxLength(100), 1], [Property: Admin.CorreoAdmin (string) Required MaxLength(100), 2], [Property: Admin.NombreAdmin (string) Required MaxLength(100), 3], [Property: Admin.Rol (string) Required MaxLength(50), 4] }
        SELECT TOP(2) a.AdminId, a.ContraseñaAdmin, a.CorreoAdmin, a.NombreAdmin, a.Rol
        FROM Admins AS a
        WHERE CONVERT(varchar(11), a.AdminId) == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Admin entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Admin instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Admin);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Admin.AdminId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Admin").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Admin)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")]: 
                        {
                            return 
                            {
                                Admin instance;
                                instance = new Admin();
                                instance.<AdminId>k__BackingField = dataReader.GetInt32(0);
                                instance.<ContraseñaAdmin>k__BackingField = dataReader.GetString(1);
                                instance.<CorreoAdmin>k__BackingField = dataReader.GetString(2);
                                instance.<NombreAdmin>k__BackingField = dataReader.GetString(3);
                                instance.<Rol>k__BackingField = dataReader.GetString(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Admin)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-30 12:37:11.716 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:37:11.716 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:37:11.716 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:37:11.717 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:37:11.717 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:37:11.717 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:37:11.717 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:37:11.717 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 12:37:11.725 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 12:37:11.725 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:37:11.725 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:37:11.725 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:37:11.725 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:37:11.725 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:37:11.725 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.8142ms.
2024-06-30 12:37:11.726 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:37:11.726 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:37:11.726 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:37:11.726 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:37:11.726 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:37:11.726 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 12:37:11.726 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 37.846ms
2024-06-30 12:37:11.726 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:37:11.726 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" completed keep alive response.
2024-06-30 12:37:11.726 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:37:11.726 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:37:11.726 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:37:11.726 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 45.686ms
2024-06-30 12:37:23.994 -04:00 [DBG] Connection id "0HN4P48TPQ7UU" disconnecting.
2024-06-30 12:37:23.994 -04:00 [DBG] Connection id "0HN4P48TPQ7UU" stopped.
2024-06-30 12:37:23.995 -04:00 [DBG] Connection id "0HN4P48TPQ7UU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 12:39:22.110 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" disconnecting.
2024-06-30 12:39:22.112 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" stopped.
2024-06-30 12:39:22.112 -04:00 [DBG] Connection id "0HN4P48TPQ7V0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 12:46:43.075 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" accepted.
2024-06-30 12:46:43.076 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" started.
2024-06-30 12:46:43.078 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:46:43.079 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:46:43.079 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:46:43.079 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:46:43.079 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:46:43.079 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:46:43.079 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:46:43.080 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:46:43.080 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" completed keep alive response.
2024-06-30 12:46:43.080 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 2.3402ms
2024-06-30 12:46:43.082 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 37
2024-06-30 12:46:43.083 -04:00 [DBG] Successfully validated the token.
2024-06-30 12:46:43.084 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 12:46:43.085 -04:00 [DBG] POST requests are not supported
2024-06-30 12:46:43.085 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:46:43.085 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:46:43.085 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:46:43.085 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:46:43.085 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:46:43.085 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:46:43.086 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:46:43.086 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:46:43.086 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:46:43.086 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:46:43.086 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:46:43.086 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:46:43.086 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:46:43.095 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:46:43.096 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:46:43.096 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:46:43.097 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:46:43.097 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:46:43.098 -04:00 [DBG] Connection id "0HN4P48TPQ7V1", Request id "0HN4P48TPQ7V1:00000002": started reading request body.
2024-06-30 12:46:43.098 -04:00 [DBG] Connection id "0HN4P48TPQ7V1", Request id "0HN4P48TPQ7V1:00000002": done reading request body.
2024-06-30 12:46:43.099 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:46:43.099 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:46:43.099 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:46:43.101 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:46:43.101 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:46:43.136 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:46:43.140 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:46:43.141 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:46:43.141 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:46:43.177 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:46:43.177 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:46:43.177 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:46:43.177 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:46:43.177 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:46:43.180 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:46:43.180 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:46:43.180 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:46:43.180 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:46:43.180 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:46:43.180 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:46:43.420 -04:00 [INF] Login exitoso
2024-06-30 12:46:43.421 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 319.4392ms.
2024-06-30 12:46:43.421 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:46:43.421 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:46:43.421 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:46:43.421 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:46:43.421 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:46:43.421 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:46:43.421 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 335.141ms
2024-06-30 12:46:43.421 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:46:43.421 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" completed keep alive response.
2024-06-30 12:46:43.421 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:46:43.421 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:46:43.421 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:46:43.421 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 200 569 application/json; charset=utf-8 340.0161ms
2024-06-30 12:46:43.423 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:46:43.424 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:46:43.424 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:46:43.424 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:46:43.424 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:46:43.424 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:46:43.424 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:46:43.424 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:46:43.424 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" completed keep alive response.
2024-06-30 12:46:43.424 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.3501ms
2024-06-30 12:46:43.424 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:46:43.424 -04:00 [DBG] Successfully validated the token.
2024-06-30 12:46:43.425 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 12:46:43.425 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 12:46:43.425 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:46:43.425 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:46:43.425 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:46:43.425 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:46:43.425 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:46:43.426 -04:00 [DBG] Authorization was successful.
2024-06-30 12:46:43.426 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:46:43.426 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:46:43.426 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:46:43.426 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:46:43.426 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:46:43.426 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:46:43.426 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:46:43.426 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:46:43.426 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:46:43.426 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 12:46:43.427 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:46:43.427 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:46:43.427 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:46:43.427 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:46:43.427 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:46:43.427 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:46:43.427 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:46:43.427 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:46:43.427 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 12:46:43.431 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 12:46:43.431 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:46:43.431 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:46:43.431 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:46:43.431 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:46:43.431 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:46:43.431 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.5253ms.
2024-06-30 12:46:43.431 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:46:43.431 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:46:43.431 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:46:43.431 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:46:43.431 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:46:43.431 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 12:46:43.431 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 5.0279ms
2024-06-30 12:46:43.431 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:46:43.431 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" completed keep alive response.
2024-06-30 12:46:43.431 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:46:43.431 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:46:43.431 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:46:43.431 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 6.9878ms
2024-06-30 12:46:50.937 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:46:50.938 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:46:50.938 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:46:50.938 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:46:50.938 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:46:50.938 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:46:50.938 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:46:50.938 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:46:50.938 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" completed keep alive response.
2024-06-30 12:46:50.939 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 2.662ms
2024-06-30 12:46:50.941 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 37
2024-06-30 12:46:50.941 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:46:50.942 -04:00 [DBG] POST requests are not supported
2024-06-30 12:46:50.942 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:46:50.942 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:46:50.942 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:46:50.942 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:46:50.942 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:46:50.942 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:46:50.942 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:46:50.943 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:46:50.943 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:46:50.943 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:46:50.943 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:46:50.943 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:46:50.943 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:46:50.946 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:46:50.947 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:46:50.947 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:46:50.947 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:46:50.947 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:46:50.948 -04:00 [DBG] Connection id "0HN4P48TPQ7V1", Request id "0HN4P48TPQ7V1:00000006": started reading request body.
2024-06-30 12:46:50.948 -04:00 [DBG] Connection id "0HN4P48TPQ7V1", Request id "0HN4P48TPQ7V1:00000006": done reading request body.
2024-06-30 12:46:50.948 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:46:50.948 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:46:50.948 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:46:50.948 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:46:50.949 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:46:50.951 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:46:50.952 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:46:50.953 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:46:50.953 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:46:50.953 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:46:50.953 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:46:50.953 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:46:50.953 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:46:50.953 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:46:50.962 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:46:50.963 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:46:50.964 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:46:50.964 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:46:50.964 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:46:50.964 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:46:51.139 -04:00 [INF] Login exitoso
2024-06-30 12:46:51.139 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.8814ms.
2024-06-30 12:46:51.139 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:46:51.139 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:46:51.139 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:46:51.139 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:46:51.139 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:46:51.139 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:46:51.139 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 196.1137ms
2024-06-30 12:46:51.139 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:46:51.139 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" completed keep alive response.
2024-06-30 12:46:51.139 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:46:51.140 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:46:51.140 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:46:51.140 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 200 569 application/json; charset=utf-8 198.5558ms
2024-06-30 12:46:51.145 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:46:51.145 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:46:51.145 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:46:51.145 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:46:51.145 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:46:51.145 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:46:51.145 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:46:51.145 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:46:51.146 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" completed keep alive response.
2024-06-30 12:46:51.146 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.3715ms
2024-06-30 12:46:51.146 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:46:51.148 -04:00 [DBG] Successfully validated the token.
2024-06-30 12:46:51.148 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 12:46:51.148 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 12:46:51.148 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:46:51.148 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:46:51.148 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:46:51.148 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:46:51.148 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:46:51.148 -04:00 [DBG] Authorization was successful.
2024-06-30 12:46:51.148 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:46:51.148 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:46:51.148 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:46:51.148 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:46:51.148 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:46:51.148 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:46:51.148 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:46:51.149 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:46:51.149 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:46:51.149 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 12:46:51.149 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:46:51.155 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:46:51.155 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:46:51.155 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:46:51.155 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:46:51.155 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:46:51.155 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:46:51.155 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:46:51.155 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 12:46:51.158 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 12:46:51.158 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:46:51.158 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:46:51.158 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:46:51.158 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:46:51.158 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:46:51.158 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.5014ms.
2024-06-30 12:46:51.158 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:46:51.158 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:46:51.158 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:46:51.158 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:46:51.158 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:46:51.158 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 12:46:51.159 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 10.0068ms
2024-06-30 12:46:51.159 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:46:51.159 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" completed keep alive response.
2024-06-30 12:46:51.159 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:46:51.159 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:46:51.159 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:46:51.159 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 12.5235ms
2024-06-30 12:49:01.673 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" disconnecting.
2024-06-30 12:49:01.675 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" stopped.
2024-06-30 12:49:01.675 -04:00 [DBG] Connection id "0HN4P48TPQ7V1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 12:49:09.830 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" accepted.
2024-06-30 12:49:09.832 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" started.
2024-06-30 12:49:09.834 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:49:09.834 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:49:09.835 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:49:09.835 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:49:09.835 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:49:09.835 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:49:09.835 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:49:09.835 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:49:09.835 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:49:09.835 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 2.1156ms
2024-06-30 12:49:09.841 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 38
2024-06-30 12:49:09.841 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:49:09.841 -04:00 [DBG] POST requests are not supported
2024-06-30 12:49:09.841 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:49:09.841 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:49:09.841 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:49:09.842 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:49:09.842 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:49:09.842 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:49:09.842 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:49:09.842 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:49:09.842 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:49:09.842 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:49:09.842 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:49:09.842 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:49:09.842 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:49:09.842 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:49:09.843 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:49:09.843 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:49:09.843 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:49:09.843 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:49:09.843 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000002": started reading request body.
2024-06-30 12:49:09.843 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000002": done reading request body.
2024-06-30 12:49:09.843 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:49:09.843 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:49:09.843 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:49:09.843 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:49:09.844 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:49:09.845 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:49:09.845 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:49:09.846 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:49:09.846 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.846 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.846 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:49:09.846 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:09.846 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:09.846 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:49:09.855 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:49:09.855 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:49:09.855 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:49:09.855 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.855 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:49:09.858 -04:00 [DBG] Compiling query expression: 
'DbSet<Docente>()
    .SingleOrDefault(u => u.CodigoDocente == __loginModel_Id_0)'
2024-06-30 12:49:09.875 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Docente>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Docente.CodigoDocente (int) Required PK AfterSave:Throw, 0], [Property: Docente.ContraseñaDocente (string) Required MaxLength(100), 1], [Property: Docente.CorreoDocente (string) Required MaxLength(100), 2], [Property: Docente.NombreDocente (string) Required MaxLength(100), 3], [Property: Docente.SexoDocente (string) Required MaxLength(1), 4], [Property: Docente.TelefonoDocente (string) Required MaxLength(20), 5] }
        SELECT TOP(2) d.CodigoDocente, d.ContraseñaDocente, d.CorreoDocente, d.NombreDocente, d.SexoDocente, d.TelefonoDocente
        FROM Docentes AS d
        WHERE d.CodigoDocente == @__loginModel_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Docente entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Docente instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Docente);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Docente.CodigoDocente PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Docente").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Docente)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")]: 
                        {
                            return 
                            {
                                Docente instance;
                                instance = new Docente();
                                instance.<CodigoDocente>k__BackingField = dataReader.GetInt32(0);
                                instance.<ContraseñaDocente>k__BackingField = dataReader.GetString(1);
                                instance.<CorreoDocente>k__BackingField = dataReader.GetString(2);
                                instance.<NombreDocente>k__BackingField = dataReader.GetString(3);
                                instance.<SexoDocente>k__BackingField = dataReader.GetString(4);
                                instance.<TelefonoDocente>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Docente | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Docente")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Docente)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-30 12:49:09.878 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.878 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.878 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:49:09.879 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:09.879 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:09.879 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:49:09.911 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:49:09.912 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:49:09.912 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:49:09.912 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.912 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:49:09.917 -04:00 [DBG] Compiling query expression: 
'DbSet<Estudiante>()
    .SingleOrDefault(u => u.Id == __loginModel_Id_0)'
2024-06-30 12:49:09.928 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Estudiante>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Estudiante.Id (int) Required PK AfterSave:Throw, 0], [Property: Estudiante.Alertas (string) MaxLength(50), 1], [Property: Estudiante.CarreraId (int?) FK Index, 2], [Property: Estudiante.CiudadEstudiante (string) Required MaxLength(100), 3], [Property: Estudiante.CondicionAcademica (string) Required MaxLength(50), 4], [Property: Estudiante.ContraseñaEstudiante (string) Required MaxLength(100), 5], [Property: Estudiante.CorreoEstudiante (string) Required MaxLength(150), 6], [Property: Estudiante.CreditosAprobados (int?), 7], [Property: Estudiante.DireccionEstudiante (string) Required MaxLength(200), 8], [Property: Estudiante.FechaIngreso (DateTime) Required, 9], [Property: Estudiante.IndiceGeneral (decimal?), 10], [Property: Estudiante.IndicePeriodo (decimal?), 11], [Property: Estudiante.Nacionalidad (string) Required MaxLength(50), 12], [Property: Estudiante.NombreEstudiante (string) Required MaxLength(100), 13], [Property: Estudiante.PeriodoActual (string), 14], [Property: Estudiante.PeriodosCursados (int?), 15], [Property: Estudiante.SexoEstudiante (string) Required MaxLength(1), 16], [Property: Estudiante.TelefonoEstudiante (string) Required MaxLength(15), 17] }
        SELECT TOP(2) e.Id, e.Alertas, e.CarreraId, e.CiudadEstudiante, e.CondicionAcademica, e.ContraseñaEstudiante, e.CorreoEstudiante, e.CreditosAprobados, e.DireccionEstudiante, e.FechaIngreso, e.IndiceGeneral, e.IndicePeriodo, e.Nacionalidad, e.NombreEstudiante, e.PeriodoActual, e.PeriodosCursados, e.SexoEstudiante, e.TelefonoEstudiante
        FROM Estudiantes AS e
        WHERE e.Id == @__loginModel_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Estudiante entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Estudiante instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Estudiante);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Estudiante.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Estudiante").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Estudiante)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Estudiante")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Estudiante")]: 
                        {
                            return 
                            {
                                Estudiante instance;
                                instance = new Estudiante();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Alertas>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<CarreraId>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<CiudadEstudiante>k__BackingField = dataReader.GetString(3);
                                instance.<CondicionAcademica>k__BackingField = dataReader.GetString(4);
                                instance.<ContraseñaEstudiante>k__BackingField = dataReader.GetString(5);
                                instance.<CorreoEstudiante>k__BackingField = dataReader.GetString(6);
                                instance.<CreditosAprobados>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                instance.<DireccionEstudiante>k__BackingField = dataReader.GetString(8);
                                instance.<FechaIngreso>k__BackingField = dataReader.GetDateTime(9);
                                instance.<IndiceGeneral>k__BackingField = dataReader.IsDBNull(10) ? default(decimal?) : (decimal?)dataReader.GetDecimal(10);
                                instance.<IndicePeriodo>k__BackingField = dataReader.IsDBNull(11) ? default(decimal?) : (decimal?)dataReader.GetDecimal(11);
                                instance.<Nacionalidad>k__BackingField = dataReader.GetString(12);
                                instance.<NombreEstudiante>k__BackingField = dataReader.GetString(13);
                                instance.<PeriodoActual>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                instance.<PeriodosCursados>k__BackingField = dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15);
                                instance.<SexoEstudiante>k__BackingField = dataReader.GetString(16);
                                instance.<TelefonoEstudiante>k__BackingField = dataReader.GetString(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Estudiante")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Estudiante)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-30 12:49:09.931 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.931 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.931 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:49:09.931 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:09.931 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:09.932 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:49:09.936 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:49:09.954 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:49:09.982 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:49:09.982 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 45ms reading results.
2024-06-30 12:49:09.982 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:09.982 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:49:10.123 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:49:10.123 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 279.9295ms.
2024-06-30 12:49:10.124 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:49:10.124 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:49:10.124 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:49:10.124 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:49:10.124 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:49:10.124 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:49:10.124 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 281.8035ms
2024-06-30 12:49:10.124 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:49:10.124 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:49:10.124 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:49:10.124 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:10.124 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:49:10.124 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 283.0602ms
2024-06-30 12:49:24.340 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:49:24.341 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:49:24.342 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:49:24.342 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:49:24.342 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:49:24.342 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:49:24.342 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:49:24.342 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:49:24.342 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:49:24.342 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 2.7625ms
2024-06-30 12:49:24.344 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 38
2024-06-30 12:49:24.344 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:49:24.345 -04:00 [DBG] POST requests are not supported
2024-06-30 12:49:24.345 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:49:24.345 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:49:24.345 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:49:24.345 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:49:24.345 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:49:24.345 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:49:24.346 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:49:24.346 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:49:24.346 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:49:24.346 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:49:24.346 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:49:24.346 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:49:24.346 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:49:24.347 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:49:24.348 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:49:24.348 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:49:24.348 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:49:24.348 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:49:24.348 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000004": started reading request body.
2024-06-30 12:49:24.348 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000004": done reading request body.
2024-06-30 12:49:24.349 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:49:24.349 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:49:24.349 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:49:24.349 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:49:24.350 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:49:24.352 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:49:24.353 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:49:24.353 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:49:24.353 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.353 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.353 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:49:24.353 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:24.353 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:24.354 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:49:24.360 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:49:24.360 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:49:24.360 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:49:24.360 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.360 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:49:24.361 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.361 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.361 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:49:24.361 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:24.361 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:24.361 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:49:24.365 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:49:24.365 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:49:24.365 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:49:24.365 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.365 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:49:24.365 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.366 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.366 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:49:24.366 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:24.366 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:24.366 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:49:24.368 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:49:24.369 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:49:24.369 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:49:24.369 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:49:24.369 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.369 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:49:24.542 -04:00 [INF] Login exitoso
2024-06-30 12:49:24.542 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.349ms.
2024-06-30 12:49:24.542 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:49:24.542 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:49:24.542 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:49:24.542 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:49:24.542 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:49:24.542 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:49:24.548 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 202.6436ms
2024-06-30 12:49:24.548 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:49:24.549 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:49:24.549 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:49:24.549 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.549 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:49:24.549 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 200 950 application/json; charset=utf-8 204.5865ms
2024-06-30 12:49:24.557 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:49:24.557 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:49:24.557 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:49:24.557 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:49:24.557 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:49:24.557 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:49:24.558 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:49:24.558 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:49:24.558 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:49:24.558 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.5925ms
2024-06-30 12:49:24.558 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:49:24.559 -04:00 [DBG] Successfully validated the token.
2024-06-30 12:49:24.559 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 12:49:24.559 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 12:49:24.559 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:49:24.559 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:49:24.559 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:49:24.559 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:49:24.559 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:49:24.559 -04:00 [DBG] Authorization was successful.
2024-06-30 12:49:24.559 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:49:24.559 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:49:24.559 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:49:24.559 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:49:24.559 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:49:24.559 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:49:24.559 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:49:24.559 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:49:24.559 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:49:24.559 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 12:49:24.560 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:49:24.560 -04:00 [DBG] Compiling query expression: 
'DbSet<Estudiante>()
    .SingleOrDefault(u => u.Id.ToString() == __userId_0)'
2024-06-30 12:49:24.562 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Estudiante>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Estudiante.Id (int) Required PK AfterSave:Throw, 0], [Property: Estudiante.Alertas (string) MaxLength(50), 1], [Property: Estudiante.CarreraId (int?) FK Index, 2], [Property: Estudiante.CiudadEstudiante (string) Required MaxLength(100), 3], [Property: Estudiante.CondicionAcademica (string) Required MaxLength(50), 4], [Property: Estudiante.ContraseñaEstudiante (string) Required MaxLength(100), 5], [Property: Estudiante.CorreoEstudiante (string) Required MaxLength(150), 6], [Property: Estudiante.CreditosAprobados (int?), 7], [Property: Estudiante.DireccionEstudiante (string) Required MaxLength(200), 8], [Property: Estudiante.FechaIngreso (DateTime) Required, 9], [Property: Estudiante.IndiceGeneral (decimal?), 10], [Property: Estudiante.IndicePeriodo (decimal?), 11], [Property: Estudiante.Nacionalidad (string) Required MaxLength(50), 12], [Property: Estudiante.NombreEstudiante (string) Required MaxLength(100), 13], [Property: Estudiante.PeriodoActual (string), 14], [Property: Estudiante.PeriodosCursados (int?), 15], [Property: Estudiante.SexoEstudiante (string) Required MaxLength(1), 16], [Property: Estudiante.TelefonoEstudiante (string) Required MaxLength(15), 17] }
        SELECT TOP(2) e.Id, e.Alertas, e.CarreraId, e.CiudadEstudiante, e.CondicionAcademica, e.ContraseñaEstudiante, e.CorreoEstudiante, e.CreditosAprobados, e.DireccionEstudiante, e.FechaIngreso, e.IndiceGeneral, e.IndicePeriodo, e.Nacionalidad, e.NombreEstudiante, e.PeriodoActual, e.PeriodosCursados, e.SexoEstudiante, e.TelefonoEstudiante
        FROM Estudiantes AS e
        WHERE CONVERT(varchar(11), e.Id) == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Estudiante entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Estudiante instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Estudiante);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Estudiante.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Estudiante").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Estudiante)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Estudiante")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Estudiante")]: 
                        {
                            return 
                            {
                                Estudiante instance;
                                instance = new Estudiante();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Alertas>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<CarreraId>k__BackingField = dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2);
                                instance.<CiudadEstudiante>k__BackingField = dataReader.GetString(3);
                                instance.<CondicionAcademica>k__BackingField = dataReader.GetString(4);
                                instance.<ContraseñaEstudiante>k__BackingField = dataReader.GetString(5);
                                instance.<CorreoEstudiante>k__BackingField = dataReader.GetString(6);
                                instance.<CreditosAprobados>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                instance.<DireccionEstudiante>k__BackingField = dataReader.GetString(8);
                                instance.<FechaIngreso>k__BackingField = dataReader.GetDateTime(9);
                                instance.<IndiceGeneral>k__BackingField = dataReader.IsDBNull(10) ? default(decimal?) : (decimal?)dataReader.GetDecimal(10);
                                instance.<IndicePeriodo>k__BackingField = dataReader.IsDBNull(11) ? default(decimal?) : (decimal?)dataReader.GetDecimal(11);
                                instance.<Nacionalidad>k__BackingField = dataReader.GetString(12);
                                instance.<NombreEstudiante>k__BackingField = dataReader.GetString(13);
                                instance.<PeriodoActual>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                instance.<PeriodosCursados>k__BackingField = dataReader.IsDBNull(15) ? default(int?) : (int?)dataReader.GetInt32(15);
                                instance.<SexoEstudiante>k__BackingField = dataReader.GetString(16);
                                instance.<TelefonoEstudiante>k__BackingField = dataReader.GetString(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Estudiante | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Estudiante")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Estudiante)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-30 12:49:24.563 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:49:24.563 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:49:24.563 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.563 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.563 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:49:24.563 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:24.563 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:49:24.563 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE CONVERT(varchar(11), [e].[Id]) = @__userId_0
2024-06-30 12:49:24.570 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE CONVERT(varchar(11), [e].[Id]) = @__userId_0
2024-06-30 12:49:24.570 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:49:24.570 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:49:24.570 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:49:24.570 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.570 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:49:24.570 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.2389ms.
2024-06-30 12:49:24.570 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:49:24.571 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:49:24.571 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:49:24.571 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:49:24.571 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:49:24.571 -04:00 [INF] Executing OkObjectResult, writing value of type 'Estudiante'.
2024-06-30 12:49:24.571 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 11.7893ms
2024-06-30 12:49:24.571 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:49:24.571 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:49:24.571 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:49:24.571 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:49:24.571 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:49:24.571 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 547 application/json; charset=utf-8 12.5862ms
2024-06-30 12:50:08.012 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:50:08.013 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:08.013 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:50:08.013 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:08.013 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:50:08.014 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:08.014 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:08.014 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:50:08.014 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:08.014 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 2.5004ms
2024-06-30 12:50:08.021 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 38
2024-06-30 12:50:08.021 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:08.021 -04:00 [DBG] POST requests are not supported
2024-06-30 12:50:08.021 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:08.021 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:50:08.021 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:08.021 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:08.021 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:08.021 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:08.021 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:50:08.021 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:50:08.022 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:50:08.022 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:50:08.022 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:50:08.022 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:50:08.022 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:08.022 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:08.023 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:08.023 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:50:08.023 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:50:08.023 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:50:08.023 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000008": started reading request body.
2024-06-30 12:50:08.023 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000008": done reading request body.
2024-06-30 12:50:08.023 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:08.023 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:08.023 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:08.023 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:08.023 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:50:08.025 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:50:08.025 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:50:08.025 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:50:08.025 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.025 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.025 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:08.025 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:08.025 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:08.026 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:08.032 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:08.033 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:08.033 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:08.033 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.033 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:08.033 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.033 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.033 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:08.033 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:08.034 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:08.034 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:08.037 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:08.037 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:08.037 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:08.037 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.037 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:08.038 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.038 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.038 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:08.038 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:08.038 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:08.038 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:08.041 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:08.041 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:50:08.042 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:08.042 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:08.042 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.042 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:08.209 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:50:08.209 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 185.5309ms.
2024-06-30 12:50:08.209 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:50:08.209 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:50:08.209 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:50:08.209 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:50:08.209 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:50:08.209 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:50:08.209 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 187.3874ms
2024-06-30 12:50:08.209 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:08.209 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:08.209 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:50:08.209 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:08.209 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:50:08.209 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 188.8817ms
2024-06-30 12:50:15.530 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:50:15.531 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:15.531 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:50:15.531 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:15.531 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:50:15.531 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:15.531 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:15.531 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:50:15.531 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:15.531 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 1.9084ms
2024-06-30 12:50:15.534 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 38
2024-06-30 12:50:15.534 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:15.534 -04:00 [DBG] POST requests are not supported
2024-06-30 12:50:15.534 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:15.534 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:50:15.535 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:15.535 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:15.535 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:15.535 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:15.535 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:50:15.535 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:50:15.535 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:50:15.535 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:50:15.536 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:50:15.536 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:50:15.536 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:15.537 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:15.537 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:15.537 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:50:15.537 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:50:15.538 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:50:15.538 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000000A": started reading request body.
2024-06-30 12:50:15.538 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000000A": done reading request body.
2024-06-30 12:50:15.539 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:15.539 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:15.539 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:15.539 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:15.540 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:50:15.544 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:50:15.544 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:50:15.544 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:50:15.544 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.545 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.545 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:15.545 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:15.545 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:15.545 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:15.554 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:15.554 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:15.555 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:15.555 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.555 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:15.555 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.556 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.556 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:15.556 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:15.556 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:15.556 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:15.561 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:15.561 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:15.561 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:15.561 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.561 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:15.562 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.562 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.562 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:15.562 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:15.562 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:15.562 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:15.565 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:15.566 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:50:15.566 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:15.566 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:15.566 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.566 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:15.726 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:50:15.727 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 186.5154ms.
2024-06-30 12:50:15.727 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:50:15.727 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:50:15.727 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:50:15.727 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:50:15.727 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:50:15.727 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:50:15.727 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 191.3092ms
2024-06-30 12:50:15.727 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:15.727 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:15.727 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:50:15.727 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:15.727 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:50:15.727 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 193.8724ms
2024-06-30 12:50:16.995 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 38
2024-06-30 12:50:16.995 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:16.996 -04:00 [DBG] POST requests are not supported
2024-06-30 12:50:16.996 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:16.996 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:50:16.996 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:16.997 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:16.997 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:16.997 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:16.997 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:50:16.997 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:50:16.998 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:50:16.998 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:50:16.998 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:50:16.998 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:50:16.998 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:17.001 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:17.002 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:17.002 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:50:17.002 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:50:17.002 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:50:17.002 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000000B": started reading request body.
2024-06-30 12:50:17.002 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000000B": done reading request body.
2024-06-30 12:50:17.003 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:17.003 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:17.003 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:17.003 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:17.003 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:50:17.007 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:50:17.008 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:50:17.009 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:50:17.009 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.009 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.009 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:17.009 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:17.009 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:17.010 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:17.017 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:17.018 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:17.018 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:17.018 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.018 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:17.019 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.019 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.019 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:17.019 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:17.019 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:17.019 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:17.023 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:17.023 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:17.023 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:17.023 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.023 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:17.023 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.023 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.024 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:17.024 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:17.024 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:17.024 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:17.027 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:17.027 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:50:17.027 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:17.027 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:17.027 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.027 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:17.188 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:50:17.188 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 184.8647ms.
2024-06-30 12:50:17.189 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:50:17.189 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:50:17.189 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:50:17.189 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:50:17.189 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:50:17.189 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:50:17.189 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 191.3005ms
2024-06-30 12:50:17.189 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:17.189 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:17.189 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:50:17.189 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:17.189 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:50:17.189 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 195.0794ms
2024-06-30 12:50:20.517 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 36
2024-06-30 12:50:20.518 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:20.518 -04:00 [DBG] POST requests are not supported
2024-06-30 12:50:20.518 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:20.518 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:50:20.519 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:20.519 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:20.519 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:20.519 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:20.519 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:50:20.519 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:50:20.519 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:50:20.519 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:50:20.520 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:50:20.520 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:50:20.520 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:20.521 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:20.521 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:20.521 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:50:20.522 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:50:20.522 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:50:20.522 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000000C": started reading request body.
2024-06-30 12:50:20.522 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000000C": done reading request body.
2024-06-30 12:50:20.522 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:20.522 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:20.522 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:20.523 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:20.523 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:50:20.527 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:50:20.529 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:50:20.529 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:50:20.529 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.530 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.530 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:20.530 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:20.530 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:20.531 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:20.540 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:20.540 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:20.540 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:20.540 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.540 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:20.541 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.541 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.541 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:20.541 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:20.541 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:20.541 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:20.545 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:20.545 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:20.545 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:20.545 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.545 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:20.546 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.546 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.546 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:20.546 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:20.546 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:20.546 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:20.549 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:20.549 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:50:20.549 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:20.549 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:20.549 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.549 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:20.717 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:50:20.717 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 194.3687ms.
2024-06-30 12:50:20.718 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:50:20.718 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:50:20.718 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:50:20.718 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:50:20.718 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:50:20.718 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:50:20.718 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 198.0583ms
2024-06-30 12:50:20.718 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:20.718 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:20.718 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:50:20.718 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:20.718 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:50:20.718 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 200.9516ms
2024-06-30 12:50:21.648 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:50:21.649 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:21.649 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:50:21.649 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:21.649 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:50:21.649 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:21.649 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:21.649 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:50:21.649 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:21.649 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 1.957ms
2024-06-30 12:50:21.652 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 36
2024-06-30 12:50:21.652 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:21.652 -04:00 [DBG] POST requests are not supported
2024-06-30 12:50:21.653 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:21.653 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:50:21.653 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:21.653 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:21.653 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:21.653 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:21.653 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:50:21.653 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:50:21.653 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:50:21.653 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:50:21.653 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:50:21.653 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:50:21.653 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:21.654 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:21.654 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:21.655 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:50:21.655 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:50:21.655 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:50:21.655 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000000E": started reading request body.
2024-06-30 12:50:21.655 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000000E": done reading request body.
2024-06-30 12:50:21.655 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:21.656 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:21.656 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:21.656 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:21.657 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:50:21.659 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:50:21.661 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:50:21.661 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:50:21.661 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.662 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.663 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:21.663 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:21.663 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:21.663 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:21.671 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:21.672 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:21.672 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:21.672 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.672 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:21.673 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.673 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.673 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:21.673 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:21.673 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:21.673 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:21.676 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:21.676 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:21.676 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:21.676 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.676 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:21.676 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.676 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.677 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:21.677 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:21.677 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:21.677 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:21.679 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:21.679 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:50:21.679 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:21.679 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:21.679 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.679 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:21.840 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:50:21.841 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 183.9133ms.
2024-06-30 12:50:21.841 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:50:21.841 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:50:21.841 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:50:21.841 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:50:21.841 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:50:21.841 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:50:21.841 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 187.4348ms
2024-06-30 12:50:21.841 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:21.841 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:21.841 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:50:21.841 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:21.841 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:50:21.841 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 189.2324ms
2024-06-30 12:50:28.872 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:50:28.872 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:28.872 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:50:28.872 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:28.872 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:50:28.873 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:28.873 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:28.873 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:50:28.873 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:28.873 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 1.9412ms
2024-06-30 12:50:28.874 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 38
2024-06-30 12:50:28.874 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:28.874 -04:00 [DBG] POST requests are not supported
2024-06-30 12:50:28.874 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:28.874 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:50:28.874 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:28.874 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:28.874 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:28.875 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:28.875 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:50:28.875 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:50:28.875 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:50:28.875 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:50:28.875 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:50:28.875 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:50:28.875 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:28.884 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:28.884 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:28.884 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:50:28.884 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:50:28.884 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:50:28.885 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000010": started reading request body.
2024-06-30 12:50:28.885 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000010": done reading request body.
2024-06-30 12:50:28.885 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:28.885 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:28.885 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:28.885 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:28.886 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:50:28.888 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:50:28.889 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:50:28.889 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:50:28.889 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.889 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.889 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:28.889 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:28.889 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:28.890 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:28.895 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:28.896 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:28.896 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:28.896 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.896 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:28.896 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.896 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.896 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:28.896 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:28.896 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:28.896 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:28.898 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:28.899 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:28.899 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:28.899 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.899 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:28.899 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.899 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.899 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:28.899 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:28.899 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:28.899 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:28.902 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:28.902 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:50:28.902 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:28.902 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:28.903 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:28.903 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:29.067 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:50:29.068 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 181.7189ms.
2024-06-30 12:50:29.068 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:50:29.068 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:50:29.068 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:50:29.068 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:50:29.068 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:50:29.068 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:50:29.068 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 193.0685ms
2024-06-30 12:50:29.068 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:29.068 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:29.068 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:50:29.068 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:29.068 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:50:29.068 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 194.4064ms
2024-06-30 12:50:30.205 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 38
2024-06-30 12:50:30.206 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:50:30.206 -04:00 [DBG] POST requests are not supported
2024-06-30 12:50:30.206 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:50:30.208 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:50:30.208 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:30.208 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:50:30.208 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:50:30.208 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:30.208 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:50:30.209 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:50:30.209 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:50:30.209 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:50:30.209 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:50:30.209 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:50:30.209 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:30.210 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:50:30.210 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:30.210 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:50:30.210 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:50:30.210 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:50:30.210 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000011": started reading request body.
2024-06-30 12:50:30.210 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000011": done reading request body.
2024-06-30 12:50:30.211 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:30.211 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:30.211 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:50:30.211 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:50:30.211 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:50:30.214 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:50:30.215 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:50:30.215 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:50:30.215 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.215 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.216 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:30.216 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:30.216 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:30.216 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:30.223 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:50:30.224 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:30.224 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:30.224 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.224 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:30.225 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.225 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.225 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:30.225 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:30.225 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:30.225 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:30.228 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:50:30.228 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:30.228 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:30.228 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.228 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:30.229 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.229 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.229 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:50:30.229 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:30.229 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:50:30.229 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:30.232 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:50:30.232 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:50:30.232 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:50:30.232 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:50:30.233 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.233 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:50:30.406 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:50:30.406 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 194.9745ms.
2024-06-30 12:50:30.407 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:50:30.407 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:50:30.407 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:50:30.407 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:50:30.407 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:50:30.407 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:50:30.407 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 198.0426ms
2024-06-30 12:50:30.407 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:50:30.407 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:50:30.407 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:50:30.407 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:50:30.407 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:50:30.407 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 202.1115ms
2024-06-30 12:51:01.771 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:51:01.774 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:51:01.775 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:51:01.776 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:51:01.776 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:51:01.776 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:51:01.776 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:51:01.776 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:51:01.777 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:51:01.777 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 6.4338ms
2024-06-30 12:51:01.784 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 90
2024-06-30 12:51:01.785 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:51:01.785 -04:00 [DBG] POST requests are not supported
2024-06-30 12:51:01.785 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:51:01.785 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:51:01.785 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:01.785 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:51:01.785 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:51:01.786 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:01.787 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:51:01.787 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:51:01.787 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:51:01.788 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:51:01.788 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:51:01.788 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:51:01.788 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:51:01.790 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:51:01.791 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:51:01.792 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:51:01.792 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:51:01.792 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:51:01.793 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000013": started reading request body.
2024-06-30 12:51:01.793 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000013": done reading request body.
2024-06-30 12:51:01.793 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:01.793 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:01.793 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:51:01.794 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:01.794 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:51:01.796 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:51:01.797 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:51:01.797 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:51:01.797 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.798 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.798 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:01.798 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:01.798 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:01.798 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:51:01.805 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:51:01.805 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:01.805 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:01.805 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.806 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:01.806 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.806 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.806 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:01.806 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:01.806 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:01.806 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:51:01.808 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:51:01.809 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:01.809 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:01.809 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.809 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:01.809 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.809 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.809 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:01.809 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:01.809 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:01.809 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:51:01.811 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:51:01.811 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:51:01.811 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:01.812 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:01.812 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.812 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:01.959 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:51:01.959 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 164.9655ms.
2024-06-30 12:51:01.959 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:51:01.959 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:51:01.959 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:51:01.959 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:51:01.959 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:51:01.959 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:51:01.959 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 171.6042ms
2024-06-30 12:51:01.959 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:01.959 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:51:01.959 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:51:01.959 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:01.959 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:51:01.960 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 175.4389ms
2024-06-30 12:51:03.678 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 90
2024-06-30 12:51:03.679 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:51:03.679 -04:00 [DBG] POST requests are not supported
2024-06-30 12:51:03.679 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:51:03.679 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:51:03.679 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:03.679 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:51:03.679 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:51:03.680 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:03.680 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:51:03.680 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:51:03.680 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:51:03.680 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:51:03.680 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:51:03.680 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:51:03.680 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:51:03.681 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:51:03.681 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:51:03.681 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:51:03.681 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:51:03.681 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:51:03.682 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000014": started reading request body.
2024-06-30 12:51:03.682 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000014": done reading request body.
2024-06-30 12:51:03.682 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:03.682 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:03.682 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:51:03.683 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:03.683 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:51:03.684 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:51:03.685 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:51:03.685 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:51:03.686 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.686 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.686 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:03.686 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:03.686 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:03.687 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:51:03.694 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:51:03.695 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:03.695 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:03.695 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.695 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:03.695 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.696 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.696 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:03.696 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:03.696 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:03.696 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:51:03.700 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:51:03.701 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:03.701 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:03.702 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.702 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:03.703 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.704 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.704 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:03.704 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:03.705 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:03.705 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:51:03.708 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:51:03.709 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:51:03.709 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:03.709 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:03.710 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.710 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:03.891 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:51:03.891 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 208.1458ms.
2024-06-30 12:51:03.891 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:51:03.891 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:51:03.891 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:51:03.891 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:51:03.891 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:51:03.891 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:51:03.891 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 211.2427ms
2024-06-30 12:51:03.891 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:03.891 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:51:03.891 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:51:03.891 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:03.891 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:51:03.891 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 213.4207ms
2024-06-30 12:51:19.935 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:51:19.937 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:51:19.937 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:51:19.937 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:51:19.937 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:51:19.937 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:51:19.937 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:51:19.937 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:51:19.937 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:51:19.937 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 1.6561ms
2024-06-30 12:51:19.938 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 90
2024-06-30 12:51:19.938 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:51:19.938 -04:00 [DBG] POST requests are not supported
2024-06-30 12:51:19.938 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:51:19.938 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:51:19.938 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:19.938 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:51:19.938 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:51:19.938 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:19.938 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:51:19.938 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:51:19.938 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:51:19.938 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:51:19.938 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:51:19.938 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:51:19.938 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:51:19.938 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:51:19.938 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:51:19.938 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:51:19.938 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:51:19.938 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:51:19.938 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000016": started reading request body.
2024-06-30 12:51:19.938 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000016": done reading request body.
2024-06-30 12:51:19.938 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:19.938 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:19.938 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:51:19.938 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:19.939 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:51:19.939 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:51:19.939 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:51:19.939 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:51:19.939 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.939 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.939 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:19.939 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:19.939 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:19.939 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:51:19.942 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:51:19.942 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:19.942 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:19.942 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.942 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:19.942 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.942 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.942 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:19.942 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:19.942 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:19.942 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:51:19.944 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:51:19.944 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:19.944 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:19.944 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.944 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:19.944 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.944 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.944 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:19.944 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:19.944 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:19.944 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:51:19.947 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:51:19.947 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:51:19.947 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:19.947 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:19.947 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:19.947 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:20.088 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:51:20.088 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 149.3504ms.
2024-06-30 12:51:20.088 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:51:20.088 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:51:20.088 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:51:20.088 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:51:20.088 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:51:20.088 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:51:20.088 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 150.3932ms
2024-06-30 12:51:20.088 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:20.088 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:51:20.088 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:51:20.088 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:20.088 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:51:20.088 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 150.9879ms
2024-06-30 12:51:21.440 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 90
2024-06-30 12:51:21.441 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:51:21.441 -04:00 [DBG] POST requests are not supported
2024-06-30 12:51:21.441 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:51:21.441 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:51:21.441 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:21.441 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:51:21.441 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:51:21.441 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:21.442 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:51:21.442 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:51:21.442 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:51:21.442 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:51:21.442 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:51:21.442 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:51:21.442 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:51:21.443 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:51:21.443 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:51:21.443 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:51:21.443 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:51:21.443 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:51:21.444 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000017": started reading request body.
2024-06-30 12:51:21.444 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000017": done reading request body.
2024-06-30 12:51:21.444 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:21.444 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:21.444 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:51:21.444 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:51:21.445 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:51:21.446 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:51:21.447 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:51:21.447 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:51:21.447 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.452 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.452 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:21.452 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:21.452 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:21.452 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:51:21.460 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:51:21.461 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:21.461 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:21.461 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.461 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:21.461 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.462 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.462 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:21.462 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:21.462 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:21.462 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:51:21.464 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:51:21.465 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:21.465 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:21.465 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.465 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:21.465 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.465 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.465 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:51:21.465 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:21.465 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:51:21.465 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:51:21.468 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:51:21.468 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:51:21.469 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:51:21.469 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:51:21.469 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.469 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:51:21.631 -04:00 [ERR] Credenciales inválidas
2024-06-30 12:51:21.631 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 186.6973ms.
2024-06-30 12:51:21.631 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:51:21.631 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:51:21.631 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:51:21.631 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:51:21.631 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-30 12:51:21.631 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 12:51:21.632 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 189.6041ms
2024-06-30 12:51:21.632 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:51:21.632 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:51:21.632 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:51:21.632 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:51:21.632 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:51:21.632 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 401 null text/plain; charset=utf-8 192.136ms
2024-06-30 12:52:59.133 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:52:59.135 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:52:59.136 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:52:59.136 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:52:59.136 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:52:59.136 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:52:59.137 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:52:59.137 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:52:59.137 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:52:59.137 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 4.2678ms
2024-06-30 12:52:59.138 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 38
2024-06-30 12:52:59.139 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:52:59.139 -04:00 [DBG] POST requests are not supported
2024-06-30 12:52:59.139 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:52:59.139 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:52:59.139 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:52:59.139 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:52:59.139 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:52:59.139 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:52:59.140 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:52:59.140 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:52:59.140 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:52:59.140 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:52:59.140 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:52:59.140 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:52:59.140 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:52:59.141 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:52:59.141 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:52:59.142 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:52:59.142 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:52:59.142 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:52:59.142 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000019": started reading request body.
2024-06-30 12:52:59.142 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:00000019": done reading request body.
2024-06-30 12:52:59.143 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:52:59.143 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:52:59.143 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:52:59.143 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:52:59.145 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:52:59.147 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:52:59.148 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:52:59.148 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:52:59.149 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.149 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.150 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:52:59.150 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:52:59.150 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:52:59.150 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:52:59.158 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:52:59.158 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:52:59.158 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:52:59.158 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.158 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:52:59.159 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.159 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.159 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:52:59.159 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:52:59.159 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:52:59.159 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:52:59.164 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [d].[CodigoDocente], [d].[ContraseñaDocente], [d].[CorreoDocente], [d].[NombreDocente], [d].[SexoDocente], [d].[TelefonoDocente]
FROM [Docentes] AS [d]
WHERE [d].[CodigoDocente] = @__loginModel_Id_0
2024-06-30 12:52:59.164 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:52:59.164 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:52:59.164 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.164 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:52:59.165 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.165 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.165 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:52:59.165 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:52:59.165 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:52:59.165 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:52:59.168 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE [e].[Id] = @__loginModel_Id_0
2024-06-30 12:52:59.170 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:52:59.171 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:52:59.171 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 2ms reading results.
2024-06-30 12:52:59.171 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.171 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:52:59.347 -04:00 [INF] Login exitoso
2024-06-30 12:52:59.347 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 202.0872ms.
2024-06-30 12:52:59.347 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:52:59.347 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:52:59.347 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:52:59.347 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:52:59.347 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:52:59.347 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:52:59.347 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 207.0304ms
2024-06-30 12:52:59.347 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:52:59.347 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:52:59.347 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:52:59.347 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.348 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:52:59.348 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 200 950 application/json; charset=utf-8 209.2299ms
2024-06-30 12:52:59.352 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:52:59.352 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:52:59.352 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:52:59.352 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:52:59.352 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:52:59.352 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:52:59.352 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:52:59.352 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:52:59.352 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:52:59.352 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.1802ms
2024-06-30 12:52:59.353 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:52:59.353 -04:00 [DBG] Successfully validated the token.
2024-06-30 12:52:59.353 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 12:52:59.353 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 12:52:59.353 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:52:59.353 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:52:59.353 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:52:59.353 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:52:59.353 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:52:59.353 -04:00 [DBG] Authorization was successful.
2024-06-30 12:52:59.353 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:52:59.354 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:52:59.354 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:52:59.354 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:52:59.354 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:52:59.354 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:52:59.354 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:52:59.354 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:52:59.354 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:52:59.354 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 12:52:59.354 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:52:59.355 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:52:59.355 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:52:59.355 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.355 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.355 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:52:59.355 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:52:59.355 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:52:59.355 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE CONVERT(varchar(11), [e].[Id]) = @__userId_0
2024-06-30 12:52:59.357 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[Alertas], [e].[CarreraId], [e].[CiudadEstudiante], [e].[CondicionAcademica], [e].[ContraseñaEstudiante], [e].[CorreoEstudiante], [e].[CreditosAprobados], [e].[DireccionEstudiante], [e].[FechaIngreso], [e].[IndiceGeneral], [e].[IndicePeriodo], [e].[Nacionalidad], [e].[NombreEstudiante], [e].[PeriodoActual], [e].[PeriodosCursados], [e].[SexoEstudiante], [e].[TelefonoEstudiante]
FROM [Estudiantes] AS [e]
WHERE CONVERT(varchar(11), [e].[Id]) = @__userId_0
2024-06-30 12:52:59.358 -04:00 [DBG] Context 'MyDbContext' started tracking 'Estudiante' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:52:59.358 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:52:59.358 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:52:59.358 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.358 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:52:59.358 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6912ms.
2024-06-30 12:52:59.358 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:52:59.358 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:52:59.358 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:52:59.358 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:52:59.358 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:52:59.358 -04:00 [INF] Executing OkObjectResult, writing value of type 'Estudiante'.
2024-06-30 12:52:59.358 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 4.3292ms
2024-06-30 12:52:59.358 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:52:59.358 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:52:59.358 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:52:59.358 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:52:59.358 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:52:59.358 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 547 application/json; charset=utf-8 5.3601ms
2024-06-30 12:53:28.574 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 12:53:28.575 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:53:28.576 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:53:28.576 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:53:28.576 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:53:28.576 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:53:28.576 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:53:28.576 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:53:28.576 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:53:28.576 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 1.8655ms
2024-06-30 12:53:28.577 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 37
2024-06-30 12:53:28.578 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:53:28.578 -04:00 [DBG] POST requests are not supported
2024-06-30 12:53:28.578 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 12:53:28.578 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 12:53:28.578 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:53:28.578 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:53:28.578 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:53:28.578 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:53:28.579 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:53:28.579 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:53:28.579 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:53:28.579 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:53:28.579 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:53:28.579 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:53:28.580 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:53:28.582 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:53:28.582 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:53:28.582 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 12:53:28.582 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 12:53:28.582 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 12:53:28.582 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000001D": started reading request body.
2024-06-30 12:53:28.582 -04:00 [DBG] Connection id "0HN4P48TPQ7V2", Request id "0HN4P48TPQ7V2:0000001D": done reading request body.
2024-06-30 12:53:28.583 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:53:28.583 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:53:28.583 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 12:53:28.583 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 12:53:28.583 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 12:53:28.586 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:53:28.587 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:53:28.587 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:53:28.587 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:53:28.588 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:53:28.588 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:53:28.588 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:53:28.588 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:53:28.588 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:53:28.596 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 12:53:28.596 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:53:28.596 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:53:28.596 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:53:28.597 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:53:28.597 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:53:28.764 -04:00 [INF] Login exitoso
2024-06-30 12:53:28.764 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.2539ms.
2024-06-30 12:53:28.765 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:53:28.765 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:53:28.765 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:53:28.765 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:53:28.765 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:53:28.765 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:53:28.765 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 184.8508ms
2024-06-30 12:53:28.765 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 12:53:28.765 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:53:28.765 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:53:28.765 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:53:28.765 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:53:28.765 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 200 569 application/json; charset=utf-8 187.7364ms
2024-06-30 12:53:28.771 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:53:28.771 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 12:53:28.771 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 12:53:28.771 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:53:28.771 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 12:53:28.771 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:53:28.771 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:53:28.771 -04:00 [DBG] The request is a preflight request.
2024-06-30 12:53:28.771 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:53:28.771 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.1934ms
2024-06-30 12:53:28.771 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 12:53:28.771 -04:00 [DBG] Successfully validated the token.
2024-06-30 12:53:28.771 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 12:53:28.772 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 12:53:28.772 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:53:28.772 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 12:53:28.772 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:53:28.772 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 12:53:28.772 -04:00 [INF] CORS policy execution successful.
2024-06-30 12:53:28.772 -04:00 [DBG] Authorization was successful.
2024-06-30 12:53:28.772 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:53:28.772 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 12:53:28.772 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 12:53:28.772 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 12:53:28.772 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 12:53:28.772 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 12:53:28.772 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 12:53:28.772 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:53:28.772 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 12:53:28.772 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 12:53:28.772 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 12:53:28.772 -04:00 [DBG] Creating DbConnection.
2024-06-30 12:53:28.772 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 12:53:28.772 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 12:53:28.773 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 12:53:28.773 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 12:53:28.773 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:53:28.773 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 12:53:28.773 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 12:53:28.776 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 12:53:28.776 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 12:53:28.776 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 12:53:28.776 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 12:53:28.776 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 12:53:28.776 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 12:53:28.776 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.087ms.
2024-06-30 12:53:28.776 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 12:53:28.776 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 12:53:28.776 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 12:53:28.776 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 12:53:28.776 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 12:53:28.776 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 12:53:28.776 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 4.5342ms
2024-06-30 12:53:28.776 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 12:53:28.776 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" completed keep alive response.
2024-06-30 12:53:28.776 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 12:53:28.776 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 12:53:28.776 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 12:53:28.776 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 5.0637ms
2024-06-30 12:55:39.163 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" disconnecting.
2024-06-30 12:55:39.165 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" stopped.
2024-06-30 12:55:39.166 -04:00 [DBG] Connection id "0HN4P48TPQ7V2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:25:21.715 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" accepted.
2024-06-30 13:25:21.717 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" started.
2024-06-30 13:25:21.718 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" accepted.
2024-06-30 13:25:21.718 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" started.
2024-06-30 13:25:21.719 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:25:21.719 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:25:21.720 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:25:21.720 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:25:21.720 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:25:21.720 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:25:21.720 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:25:21.720 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:25:21.720 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:25:21.720 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:25:21.720 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:25:21.720 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:25:21.721 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:25:21.721 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:25:21.721 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:25:21.721 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:25:21.721 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:25:21.721 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:25:21.721 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 1.7605ms
2024-06-30 13:25:21.721 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 1.7694ms
2024-06-30 13:25:21.722 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:25:21.724 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:25:21.724 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:25:21.724 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:25:21.724 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:25:21.725 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:25:21.725 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:25:21.725 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:25:21.725 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:25:21.725 -04:00 [DBG] Authorization was successful.
2024-06-30 13:25:21.725 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:25:21.725 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:25:21.726 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:25:21.726 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:25:21.726 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:25:21.726 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:25:21.726 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:25:21.726 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:25:21.727 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:25:21.727 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:25:21.729 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:25:21.730 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:25:21.731 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:25:21.731 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:25:21.761 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:25:21.762 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:25:21.762 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:25:21.762 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:25:21.762 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:25:21.766 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:25:21.767 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:25:21.767 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:25:21.767 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:25:21.767 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:25:21.767 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:25:21.767 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.1336ms.
2024-06-30 13:25:21.768 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:25:21.768 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:25:21.768 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:25:21.768 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:25:21.768 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:25:21.768 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:25:21.769 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 43.0131ms
2024-06-30 13:25:21.769 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:25:21.769 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:25:21.769 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:25:21.769 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:25:21.769 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:25:21.769 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 46.8337ms
2024-06-30 13:25:21.771 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:25:21.771 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:25:21.771 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:25:21.772 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:25:21.772 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:25:21.772 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:25:21.772 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:25:21.772 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:25:21.772 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:25:21.772 -04:00 [DBG] Authorization was successful.
2024-06-30 13:25:21.772 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:25:21.772 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:25:21.772 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:25:21.772 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:25:21.772 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:25:21.772 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:25:21.772 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:25:21.772 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:25:21.772 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:25:21.772 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:25:21.773 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:25:21.774 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:25:21.774 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:25:21.774 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:25:21.774 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:25:21.774 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:25:21.774 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:25:21.774 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:25:21.774 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:25:21.776 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:25:21.776 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:25:21.777 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:25:21.777 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:25:21.777 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:25:21.777 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:25:21.777 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.3587ms.
2024-06-30 13:25:21.777 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:25:21.777 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:25:21.777 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:25:21.777 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:25:21.777 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:25:21.777 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:25:21.777 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 5.1644ms
2024-06-30 13:25:21.777 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:25:21.777 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:25:21.777 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:25:21.777 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:25:21.777 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:25:21.777 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 6.4132ms
2024-06-30 13:26:16.919 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:16.919 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:16.920 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:26:16.920 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:26:16.920 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:26:16.920 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:26:16.920 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:16.920 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:26:16.920 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:16.920 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:26:16.920 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:16.920 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:16.920 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:16.920 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:16.920 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:26:16.920 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:26:16.920 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:16.920 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:16.920 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 1.0652ms
2024-06-30 13:26:16.920 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 1.0209ms
2024-06-30 13:26:16.927 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:16.927 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:16.927 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:16.927 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:16.927 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:16.927 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:16.927 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:16.927 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:16.927 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:16.927 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:16.927 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:16.928 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:16.928 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:16.928 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:16.928 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:16.928 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:16.928 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:16.928 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:16.928 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:16.928 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:16.928 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:16.929 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:16.929 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:16.929 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:16.929 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:16.929 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:16.929 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:16.929 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:16.929 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:16.932 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:16.932 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:16.932 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:16.932 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:16.932 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:16.933 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:16.933 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6126ms.
2024-06-30 13:26:16.933 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:16.933 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:16.933 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:16.933 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:16.933 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:16.933 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:16.933 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 5.2463ms
2024-06-30 13:26:16.933 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:16.933 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:16.933 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:16.933 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:16.933 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:16.933 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 6.1124ms
2024-06-30 13:26:16.933 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:16.933 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:16.933 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:16.933 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:16.933 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:16.933 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:16.933 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:16.933 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:16.933 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:16.933 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:16.933 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:16.934 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:16.934 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:16.934 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:16.934 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:16.934 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:16.934 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:16.934 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:16.934 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:16.934 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:16.934 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:16.934 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:16.934 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:16.934 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:16.934 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:16.934 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:16.934 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:16.934 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:16.934 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:16.936 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:16.937 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:16.937 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:16.937 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:16.937 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:16.937 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:16.937 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.979ms.
2024-06-30 13:26:16.937 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:16.937 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:16.937 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:16.937 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:16.937 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:16.937 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:16.937 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 3.4128ms
2024-06-30 13:26:16.937 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:16.937 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:16.937 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:16.937 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:16.937 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:16.937 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 3.8879ms
2024-06-30 13:26:17.386 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:17.397 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:17.397 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:17.397 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:17.397 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.397 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.397 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.397 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:17.397 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:17.398 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:17.398 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.398 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:17.398 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:17.398 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:17.398 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:17.398 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:17.398 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:17.398 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.398 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.398 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:17.398 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:17.398 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:17.398 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:17.398 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.399 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.399 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:17.399 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.399 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.399 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.401 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.401 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:17.401 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:17.401 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:17.401 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.402 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:17.402 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.5785ms.
2024-06-30 13:26:17.402 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:17.402 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:17.402 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:17.402 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:17.402 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:17.402 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:17.402 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 4.0529ms
2024-06-30 13:26:17.402 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.402 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:17.402 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:17.402 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.402 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:17.402 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 16.4387ms
2024-06-30 13:26:17.402 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:17.402 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:17.402 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:17.402 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:17.402 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.402 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.402 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.402 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:17.402 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:17.402 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:17.402 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.402 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:17.402 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:17.402 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:17.402 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:17.402 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:17.402 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:17.403 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.403 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.403 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:17.403 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:17.403 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:17.403 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:17.403 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.403 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.403 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:17.403 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.403 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.403 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.408 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.409 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:17.409 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:17.409 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:17.409 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.409 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:17.409 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.5649ms.
2024-06-30 13:26:17.409 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:17.409 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:17.409 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:17.409 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:17.410 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:17.410 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:17.410 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 7.247ms
2024-06-30 13:26:17.410 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.410 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:17.410 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:17.410 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.410 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:17.410 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 7.8965ms
2024-06-30 13:26:17.602 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:17.607 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:17.608 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:17.608 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:17.608 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.608 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.608 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.608 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:17.608 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:17.608 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:17.608 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.608 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:17.608 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:17.608 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:17.608 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:17.608 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:17.608 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:17.609 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.609 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.609 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:17.610 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:17.610 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:17.610 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:17.610 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.611 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.611 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:17.611 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.611 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.611 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.613 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.613 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:17.613 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:17.614 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:17.614 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.614 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:17.614 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.4802ms.
2024-06-30 13:26:17.614 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:17.614 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:17.614 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:17.614 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:17.614 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:17.614 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:17.614 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 5.3788ms
2024-06-30 13:26:17.614 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.614 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:17.614 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:17.614 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.614 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:17.614 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 12.2787ms
2024-06-30 13:26:17.614 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:17.614 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:17.614 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:17.614 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:17.614 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.614 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.614 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.614 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:17.614 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:17.615 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:17.615 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.615 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:17.615 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:17.615 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:17.615 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:17.615 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:17.615 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:17.615 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.615 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.615 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:17.615 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:17.616 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:17.616 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:17.616 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.616 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.616 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:17.616 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.616 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.616 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.617 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.617 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:17.617 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:17.617 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:17.617 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.617 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:17.617 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5816ms.
2024-06-30 13:26:17.617 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:17.617 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:17.617 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:17.617 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:17.617 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:17.617 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:17.618 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 3.0048ms
2024-06-30 13:26:17.618 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.618 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:17.618 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:17.618 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.618 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:17.618 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 3.5747ms
2024-06-30 13:26:17.819 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:17.819 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:17.819 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:17.819 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:17.819 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.819 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.819 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.819 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:17.819 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:17.819 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:17.819 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.819 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:17.819 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:17.819 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:17.819 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:17.819 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:17.819 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:17.819 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.819 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.819 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:17.820 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:17.820 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:17.820 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:17.820 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.820 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.820 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:17.820 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.820 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.820 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.826 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.827 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:17.827 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:17.827 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:17.827 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.827 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:17.827 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.2419ms.
2024-06-30 13:26:17.827 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:17.827 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:17.827 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:17.827 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:17.827 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:17.827 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:17.827 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 7.8323ms
2024-06-30 13:26:17.827 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.827 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:17.827 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:17.827 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.827 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:17.827 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 8.6447ms
2024-06-30 13:26:17.827 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:17.828 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:17.828 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:17.828 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:17.828 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.828 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:17.828 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.828 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:17.828 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:17.828 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:17.828 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.828 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:17.828 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:17.828 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:17.828 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:17.828 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:17.828 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:17.828 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.828 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:17.828 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:17.828 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:17.828 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:17.828 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:17.828 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.828 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.828 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:17.828 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.828 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:17.828 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.831 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:17.831 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:17.831 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:17.831 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:17.831 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.831 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:17.831 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3397ms.
2024-06-30 13:26:17.831 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:17.831 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:17.831 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:17.831 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:17.831 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:17.831 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:17.831 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 3.6418ms
2024-06-30 13:26:17.831 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:17.831 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:17.832 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:17.832 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:17.832 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:17.832 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 4.3403ms
2024-06-30 13:26:18.005 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.005 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.005 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.005 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.005 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.005 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.005 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.005 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.005 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.005 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.005 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.005 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.005 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.005 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.005 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.005 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.005 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.005 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.005 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.005 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.006 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.006 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.006 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.006 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.006 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.006 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.006 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.006 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.006 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.011 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.011 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.011 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.011 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.011 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.011 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.011 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.7783ms.
2024-06-30 13:26:18.011 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.011 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.011 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.011 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.011 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.011 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.011 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 6.1404ms
2024-06-30 13:26:18.011 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.011 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:18.011 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.011 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.011 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.011 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 6.6929ms
2024-06-30 13:26:18.012 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.012 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.012 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.012 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.012 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.012 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.012 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.012 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.012 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.012 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.012 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.012 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.012 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.012 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.012 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.012 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.012 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.012 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.012 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.012 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.013 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.013 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.013 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.013 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.013 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.013 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.013 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.013 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.013 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.017 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.017 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.017 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.017 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.017 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.017 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.017 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.1473ms.
2024-06-30 13:26:18.017 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.017 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.017 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.017 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.017 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.017 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.018 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 5.5473ms
2024-06-30 13:26:18.018 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.018 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:18.018 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.018 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.018 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.018 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 6.1484ms
2024-06-30 13:26:18.170 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.170 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.170 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.170 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.170 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.170 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.170 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.171 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.171 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.171 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.171 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.171 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.171 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.171 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.171 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.171 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.171 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.171 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.171 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.171 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.171 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.171 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.171 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.171 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.171 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.171 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.171 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.171 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.171 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.178 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.178 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.178 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.178 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.178 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.178 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.178 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.5857ms.
2024-06-30 13:26:18.178 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.178 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.178 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.178 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.178 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.178 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.179 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 7.9181ms
2024-06-30 13:26:18.179 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.179 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:18.179 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.179 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.179 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.179 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 8.4789ms
2024-06-30 13:26:18.179 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.179 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.179 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.179 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.179 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.179 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.179 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.179 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.179 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.179 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.179 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.179 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.179 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.179 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.179 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.179 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.179 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.179 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.179 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.179 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.180 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.180 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.180 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.180 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.180 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.180 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.180 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.180 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.180 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.182 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.182 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.182 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.182 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.182 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.182 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.182 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5611ms.
2024-06-30 13:26:18.182 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.182 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.182 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.182 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.182 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.182 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.182 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 2.8647ms
2024-06-30 13:26:18.182 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.182 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:18.182 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.182 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.182 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.182 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 3.3441ms
2024-06-30 13:26:18.373 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.374 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.374 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.374 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.374 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.374 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.374 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.374 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.374 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.374 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.374 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.374 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.374 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.374 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.374 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.374 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.374 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.374 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.374 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.374 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.375 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.375 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.375 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.375 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.375 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.375 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.375 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.375 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.375 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.379 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.380 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.380 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.380 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.380 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.380 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.380 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.442ms.
2024-06-30 13:26:18.380 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.380 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.380 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.380 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.380 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.380 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.380 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 5.8972ms
2024-06-30 13:26:18.380 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.380 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:18.380 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.380 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.380 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.380 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 6.6861ms
2024-06-30 13:26:18.380 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.380 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.380 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.380 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.380 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.380 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.380 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.380 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.380 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.380 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.380 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.381 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.381 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.381 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.381 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.381 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.381 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.381 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.381 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.381 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.381 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.381 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.381 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.381 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.381 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.381 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.381 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.381 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.381 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.384 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.384 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.384 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.384 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.384 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.384 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.384 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.249ms.
2024-06-30 13:26:18.384 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.384 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.384 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.384 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.384 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.384 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.384 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 3.5692ms
2024-06-30 13:26:18.384 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.384 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:18.384 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.384 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.384 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.384 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 4.1021ms
2024-06-30 13:26:18.580 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.581 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.581 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.581 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.581 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.581 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.581 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.581 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.581 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.581 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.581 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.581 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.581 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.581 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.581 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.581 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.581 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.581 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.581 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.581 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.581 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.581 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.582 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.582 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.582 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.582 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.582 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.582 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.582 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.585 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.585 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.585 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.585 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.585 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.585 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.585 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.9932ms.
2024-06-30 13:26:18.585 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.585 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.585 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.585 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.585 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.585 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.585 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 4.3922ms
2024-06-30 13:26:18.585 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.585 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:18.585 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.585 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.585 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.585 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 4.9856ms
2024-06-30 13:26:18.585 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.586 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.586 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.586 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.586 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.586 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.586 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.586 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.586 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.586 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.586 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.586 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.586 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.586 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.586 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.586 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.586 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.586 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.586 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.586 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.586 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.586 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.586 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.587 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.587 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.587 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.587 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.587 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.587 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.591 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.591 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.591 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.591 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.591 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.591 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.591 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.8174ms.
2024-06-30 13:26:18.591 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.591 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.591 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.591 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.591 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.591 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.591 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 5.2449ms
2024-06-30 13:26:18.591 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.591 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:18.591 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.591 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.591 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.591 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 5.729ms
2024-06-30 13:26:18.798 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.798 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.798 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.798 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.798 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.798 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.798 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.798 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.798 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.798 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.798 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.798 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.799 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.799 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.799 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.799 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.799 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.799 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.799 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.799 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.800 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.800 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.800 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.800 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.800 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.800 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.801 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.801 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.801 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.805 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.805 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.805 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.805 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.805 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.805 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.805 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.0213ms.
2024-06-30 13:26:18.805 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.805 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.805 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.805 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.805 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.805 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.805 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 6.8033ms
2024-06-30 13:26:18.805 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.805 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:18.805 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.806 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.806 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.806 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 7.9812ms
2024-06-30 13:26:18.806 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:18.806 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:18.806 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:18.806 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:18.806 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.806 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:18.806 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.806 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:18.806 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:18.806 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:18.806 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.807 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:18.807 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:18.807 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:18.807 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:18.807 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:18.807 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:18.807 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.807 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:18.807 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:18.808 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:18.808 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:18.808 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:18.808 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.808 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.808 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:18.808 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.808 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:18.808 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.811 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:18.811 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:18.811 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:18.811 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:18.811 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.811 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:18.811 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.2347ms.
2024-06-30 13:26:18.811 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:18.811 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:18.811 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:18.811 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:18.811 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:18.811 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:18.811 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 4.7109ms
2024-06-30 13:26:18.811 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:18.811 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:18.811 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:18.811 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:18.811 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:18.812 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 5.7291ms
2024-06-30 13:26:26.336 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - null null
2024-06-30 13:26:26.337 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:26:26.337 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:26:26.337 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 13:26:26.337 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:26:26.337 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:26.337 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:26.337 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:26:26.337 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:26.337 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/Login - 204 null null 0.49ms
2024-06-30 13:26:26.345 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5104/api/Auth/Login - application/json 37
2024-06-30 13:26:26.345 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:26:26.345 -04:00 [DBG] POST requests are not supported
2024-06-30 13:26:26.345 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Login'
2024-06-30 13:26:26.345 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.Login (CRUD)' with route pattern 'api/Auth/Login' is valid for the request path '/api/Auth/Login'
2024-06-30 13:26:26.345 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 13:26:26.346 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:26.346 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:26.346 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 13:26:26.346 -04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CRUD.Models.LoginModel) on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:26.346 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:26.346 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:26.346 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:26.346 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:26.346 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:26.346 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:26.346 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:26.347 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 13:26:26.347 -04:00 [DBG] Attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel' using the name '' in request data ...
2024-06-30 13:26:26.347 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-06-30 13:26:26.347 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-06-30 13:26:26.347 -04:00 [DBG] Connection id "0HN4P48TPQ7V3", Request id "0HN4P48TPQ7V3:0000000E": started reading request body.
2024-06-30 13:26:26.348 -04:00 [DBG] Connection id "0HN4P48TPQ7V3", Request id "0HN4P48TPQ7V3:0000000E": done reading request body.
2024-06-30 13:26:26.348 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 13:26:26.348 -04:00 [DBG] Done attempting to bind parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 13:26:26.348 -04:00 [DBG] Attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel' ...
2024-06-30 13:26:26.348 -04:00 [DBG] Done attempting to validate the bound parameter 'loginModel' of type 'CRUD.Models.LoginModel'.
2024-06-30 13:26:26.348 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.Login (CRUD) - Validation state: "Valid"
2024-06-30 13:26:26.351 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:26.352 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:26.352 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:26.352 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.352 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.353 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:26.353 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:26.353 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:26.353 -04:00 [DBG] Executing DbCommand [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 13:26:26.358 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginModel_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE [a].[AdminId] = @__loginModel_Id_0
2024-06-30 13:26:26.358 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:26.358 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:26.358 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:26.358 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.358 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:26.535 -04:00 [INF] Login exitoso
2024-06-30 13:26:26.535 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.Login (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.9185ms.
2024-06-30 13:26:26.535 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:26.535 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:26.535 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:26.535 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:26.535 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:26.535 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 13:26:26.536 -04:00 [INF] Executed action CRUD.Controllers.AuthController.Login (CRUD) in 189.5974ms
2024-06-30 13:26:26.536 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.Login (CRUD)'
2024-06-30 13:26:26.536 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:26.536 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:26.536 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.536 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:26.536 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5104/api/Auth/Login - 200 569 application/json; charset=utf-8 190.791ms
2024-06-30 13:26:26.541 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:26.542 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:26:26.542 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:26:26.542 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:26.542 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:26:26.542 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:26.542 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:26.542 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:26:26.542 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:26.542 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.1898ms
2024-06-30 13:26:26.542 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:26.542 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:26.542 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:26.542 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:26.542 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:26.542 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:26.542 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.542 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:26.542 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:26.542 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:26.542 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.543 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:26.543 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:26.543 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:26.543 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:26.543 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:26.543 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:26.543 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:26.543 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:26.543 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:26.543 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:26.543 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:26.543 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:26.543 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.543 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.543 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:26.543 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:26.543 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:26.543 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:26.546 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:26.546 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:26.546 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:26.546 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:26.546 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.546 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:26.546 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.4979ms.
2024-06-30 13:26:26.546 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:26.546 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:26.546 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:26.546 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:26.546 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:26.546 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:26.546 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 3.7765ms
2024-06-30 13:26:26.546 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.546 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:26.546 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:26.546 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.546 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:26.546 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 4.3386ms
2024-06-30 13:26:26.574 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:26.574 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:26.574 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:26.574 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:26.574 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:26.574 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:26.574 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.574 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:26.574 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:26.574 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:26.574 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.574 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:26.574 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:26.574 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:26.574 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:26.574 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:26.574 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:26.574 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:26.574 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:26.575 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:26.575 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:26.575 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:26.575 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:26.575 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.575 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.575 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:26.575 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:26.575 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:26.575 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:26.578 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:26.578 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:26.578 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:26.578 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:26.578 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.578 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:26.578 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6611ms.
2024-06-30 13:26:26.578 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:26.578 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:26.578 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:26.578 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:26.578 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:26.578 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:26.578 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 4.0535ms
2024-06-30 13:26:26.578 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.578 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" completed keep alive response.
2024-06-30 13:26:26.578 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:26.578 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.578 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:26.578 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 4.7082ms
2024-06-30 13:26:26.579 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:26:26.579 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:26:26.579 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:26:26.579 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:26:26.579 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:26.579 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:26:26.579 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.579 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:26:26.579 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:26:26.579 -04:00 [DBG] Authorization was successful.
2024-06-30 13:26:26.579 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.579 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:26:26.579 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:26:26.579 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:26:26.579 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:26:26.579 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:26:26.579 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:26:26.579 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:26.579 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:26:26.579 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:26:26.579 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:26:26.580 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:26:26.580 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:26:26.580 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.580 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.580 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:26:26.580 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:26.580 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:26:26.580 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:26.582 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:26:26.582 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:26:26.582 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:26:26.582 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:26:26.582 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.582 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:26:26.582 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.8498ms.
2024-06-30 13:26:26.582 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:26:26.582 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:26:26.582 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:26:26.582 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:26:26.582 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:26:26.582 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:26:26.582 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 3.1406ms
2024-06-30 13:26:26.582 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:26:26.582 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" completed keep alive response.
2024-06-30 13:26:26.582 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:26:26.582 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:26:26.582 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:26:26.582 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 179 application/json; charset=utf-8 3.5472ms
2024-06-30 13:28:37.546 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" disconnecting.
2024-06-30 13:28:37.546 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" disconnecting.
2024-06-30 13:28:37.548 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" stopped.
2024-06-30 13:28:37.548 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" stopped.
2024-06-30 13:28:37.549 -04:00 [DBG] Connection id "0HN4P48TPQ7V3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:28:37.549 -04:00 [DBG] Connection id "0HN4P48TPQ7V4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:41:48.809 -04:00 [INF] Application is shutting down...
2024-06-30 13:41:48.811 -04:00 [DBG] Hosting stopping
2024-06-30 13:41:48.820 -04:00 [DBG] Hosting stopped
t created on entity type 'CarreraMateria' as the properties are already covered by the index {'CarreraId', 'CodigoMateria'}.
2024-06-30 13:40:52.073 -04:00 [DBG] The index {'CodigoMateria'} was not created on entity type 'EstudianteMateria' as the properties are already covered by the index {'CodigoMateria', 'CodigoEstudiante'}.
2024-06-30 13:40:52.073 -04:00 [DBG] The index {'AulaId'} was not created on entity type 'MateriaAula' as the properties are already covered by the index {'AulaId', 'CodigoMateria'}.
2024-06-30 13:40:52.073 -04:00 [DBG] The index {'DocenteId'} was not created on entity type 'MateriaDocente' as the properties are already covered by the index {'DocenteId', 'CodigoMateria'}.
2024-06-30 13:40:52.120 -04:00 [DBG] The property 'CarreraMateria.EstudianteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:40:52.120 -04:00 [DBG] The property 'Factura.CuentaPorPagarIdCuentaPorPagar' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:40:52.120 -04:00 [DBG] The property 'Materia.AulaCodigoAula' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:40:52.157 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:40:52.434 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:41:00.143 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-30 13:41:00.346 -04:00 [DBG] The index {'CarreraId'} was not created on entity type 'CarreraMateria' as the properties are already covered by the index {'CarreraId', 'CodigoMateria'}.
2024-06-30 13:41:00.346 -04:00 [DBG] The index {'CodigoMateria'} was not created on entity type 'EstudianteMateria' as the properties are already covered by the index {'CodigoMateria', 'CodigoEstudiante'}.
2024-06-30 13:41:00.346 -04:00 [DBG] The index {'AulaId'} was not created on entity type 'MateriaAula' as the properties are already covered by the index {'AulaId', 'CodigoMateria'}.
2024-06-30 13:41:00.346 -04:00 [DBG] The index {'DocenteId'} was not created on entity type 'MateriaDocente' as the properties are already covered by the index {'DocenteId', 'CodigoMateria'}.
2024-06-30 13:41:00.395 -04:00 [DBG] The property 'CarreraMateria.EstudianteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:41:00.395 -04:00 [DBG] The property 'Factura.CuentaPorPagarIdCuentaPorPagar' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:41:00.395 -04:00 [DBG] The property 'Materia.AulaCodigoAula' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:41:00.433 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:41:00.440 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:41:00.455 -04:00 [DBG] Created DbConnection. (13ms).
2024-06-30 13:41:00.456 -04:00 [DBG] Migrating using database 'University' on server 'localhost'.
2024-06-30 13:41:00.457 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.557 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.560 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-30 13:41:00.562 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-30 13:41:00.563 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-06-30 13:41:00.565 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 13:41:00.585 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 13:41:00.585 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.588 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (1ms).
2024-06-30 13:41:00.590 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-30 13:41:00.590 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-30 13:41:00.590 -04:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-06-30 13:41:00.590 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.590 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.590 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 13:41:00.602 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 13:41:00.602 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.603 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:41:00.603 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.603 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.603 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-30 13:41:00.603 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-30 13:41:00.603 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-30 13:41:00.603 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 13:41:00.605 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 13:41:00.605 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.605 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:41:00.605 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-30 13:41:00.605 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-30 13:41:00.605 -04:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-06-30 13:41:00.605 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.605 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.605 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 13:41:00.606 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 13:41:00.606 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.606 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:41:00.611 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.611 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.611 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:41:00.611 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:41:00.611 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:41:00.611 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 13:41:00.624 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 13:41:00.625 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:41:00.626 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 1ms reading results.
2024-06-30 13:41:00.626 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.626 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:41:00.631 -04:00 [INF] Applying migration '20240630174052_addfechaingresoadmin'.
2024-06-30 13:41:00.672 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.672 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.674 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-30 13:41:00.678 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-30 13:41:00.679 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-30 13:41:00.679 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-30 13:41:00.679 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-30 13:41:00.679 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Admins] ADD [FechaIngreso] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2024-06-30 13:41:00.705 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Admins] ADD [FechaIngreso] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2024-06-30 13:41:00.705 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-30 13:41:00.705 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-30 13:41:00.705 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-30 13:41:00.705 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240630174052_addfechaingresoadmin', N'9.0.0-preview.5.24306.3');
2024-06-30 13:41:00.708 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240630174052_addfechaingresoadmin', N'9.0.0-preview.5.24306.3');
2024-06-30 13:41:00.708 -04:00 [DBG] Committing transaction.
2024-06-30 13:41:00.712 -04:00 [DBG] Committed transaction.
2024-06-30 13:41:00.713 -04:00 [DBG] Disposing transaction.
2024-06-30 13:41:00.713 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.713 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:41:00.713 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:41:00.714 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:41:00.714 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:41:53.364 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-30 13:41:53.416 -04:00 [DBG] Hosting starting
2024-06-30 13:41:53.419 -04:00 [INF] User profile is available. Using '/Users/miguelcruz/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-06-30 13:41:53.425 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-b06a4e2e-7908-41eb-9b39-8691b777fc93.xml'.
2024-06-30 13:41:53.427 -04:00 [DBG] Reading data from file '/Users/miguelcruz/.aspnet/DataProtection-Keys/key-257ca34e-0329-4b0c-83c2-d560c11773b1.xml'.
2024-06-30 13:41:53.428 -04:00 [DBG] Found key {b06a4e2e-7908-41eb-9b39-8691b777fc93}.
2024-06-30 13:41:53.429 -04:00 [DBG] Found key {257ca34e-0329-4b0c-83c2-d560c11773b1}.
2024-06-30 13:41:53.432 -04:00 [DBG] Considering key {b06a4e2e-7908-41eb-9b39-8691b777fc93} with expiration date 2024-08-26 20:47:39Z as default key.
2024-06-30 13:41:53.432 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-30 13:41:53.434 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-06-30 13:41:53.434 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-06-30 13:41:53.436 -04:00 [DBG] Using key {b06a4e2e-7908-41eb-9b39-8691b777fc93} as the default key.
2024-06-30 13:41:53.436 -04:00 [DBG] Key ring with default key {b06a4e2e-7908-41eb-9b39-8691b777fc93} was loaded during application startup.
2024-06-30 13:41:53.465 -04:00 [INF] Now listening on: http://localhost:5104
2024-06-30 13:41:53.465 -04:00 [DBG] Loaded hosting startup assembly CRUD
2024-06-30 13:41:53.465 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:41:53.465 -04:00 [INF] Hosting environment: Development
2024-06-30 13:41:53.465 -04:00 [INF] Content root path: /Users/miguelcruz/Desktop/University-Backend/CRUD
2024-06-30 13:41:53.465 -04:00 [DBG] Hosting started
2024-06-30 13:41:53.800 -04:00 [DBG] Connection id "0HN4P5FN2FNCL" received FIN.
2024-06-30 13:41:53.803 -04:00 [DBG] Connection id "0HN4P5FN2FNCL" accepted.
2024-06-30 13:41:53.803 -04:00 [DBG] Connection id "0HN4P5FN2FNCL" started.
2024-06-30 13:41:53.807 -04:00 [DBG] Connection id "0HN4P5FN2FNCL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:41:53.808 -04:00 [DBG] Connection id "0HN4P5FN2FNCL" disconnecting.
2024-06-30 13:41:53.810 -04:00 [DBG] Connection id "0HN4P5FN2FNCL" stopped.
2024-06-30 13:41:53.921 -04:00 [DBG] Connection id "0HN4P5FN2FNCM" accepted.
2024-06-30 13:41:53.921 -04:00 [DBG] Connection id "0HN4P5FN2FNCM" started.
2024-06-30 13:41:53.921 -04:00 [DBG] Connection id "0HN4P5FN2FNCN" accepted.
2024-06-30 13:41:53.921 -04:00 [DBG] Connection id "0HN4P5FN2FNCN" started.
2024-06-30 13:41:53.937 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/index.html - null null
2024-06-30 13:41:53.939 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-30 13:41:53.952 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:41:54.023 -04:00 [DBG] Connection id "0HN4P5FN2FNCM" completed keep alive response.
2024-06-30 13:41:54.024 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/index.html - 200 null text/html;charset=utf-8 88.9768ms
2024-06-30 13:41:54.088 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - null null
2024-06-30 13:41:54.089 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:41:54.259 -04:00 [DBG] Connection id "0HN4P5FN2FNCM" completed keep alive response.
2024-06-30 13:41:54.259 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.8729ms
2024-06-30 13:43:49.919 -04:00 [DBG] Connection id "0HN4P5FN2FNCN" received FIN.
2024-06-30 13:43:49.920 -04:00 [DBG] Connection id "0HN4P5FN2FNCM" received FIN.
2024-06-30 13:43:49.922 -04:00 [DBG] Connection id "0HN4P5FN2FNCM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:43:49.924 -04:00 [DBG] Connection id "0HN4P5FN2FNCN" disconnecting.
2024-06-30 13:43:49.926 -04:00 [DBG] Connection id "0HN4P5FN2FNCM" disconnecting.
2024-06-30 13:43:49.928 -04:00 [DBG] Connection id "0HN4P5FN2FNCM" stopped.
2024-06-30 13:43:49.928 -04:00 [DBG] Connection id "0HN4P5FN2FNCN" stopped.
2024-06-30 13:43:49.929 -04:00 [DBG] Connection id "0HN4P5FN2FNCN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:49:17.291 -04:00 [DBG] Connection id "0HN4P5FN2FNCO" accepted.
2024-06-30 13:49:17.294 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" accepted.
2024-06-30 13:49:17.295 -04:00 [DBG] Connection id "0HN4P5FN2FNCO" started.
2024-06-30 13:49:17.297 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" started.
2024-06-30 13:49:17.307 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:49:17.307 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:49:17.310 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:49:17.310 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:49:17.312 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:49:17.312 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:49:17.313 -04:00 [WRN] Failed to determine the https port for redirect.
2024-06-30 13:49:17.332 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:49:17.332 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:49:17.333 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:49:17.333 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:49:17.334 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:49:17.334 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:49:17.334 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:49:17.334 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:49:17.335 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:49:17.335 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:49:17.336 -04:00 [DBG] Connection id "0HN4P5FN2FNCO" completed keep alive response.
2024-06-30 13:49:17.336 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 33.6067ms
2024-06-30 13:49:17.336 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" completed keep alive response.
2024-06-30 13:49:17.336 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 33.6946ms
2024-06-30 13:49:17.340 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:49:17.379 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:49:17.380 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:49:17.380 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:49:17.382 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:49:17.384 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:49:17.384 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:49:17.384 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:49:17.384 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:49:17.386 -04:00 [DBG] Authorization was successful.
2024-06-30 13:49:17.386 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:49:17.397 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:49:17.398 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:49:17.398 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:49:17.398 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:49:17.398 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:49:17.398 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:49:17.399 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:49:17.463 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-30 13:49:17.476 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:49:17.480 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:49:17.836 -04:00 [DBG] The index {'CarreraId'} was not created on entity type 'CarreraMateria' as the properties are already covered by the index {'CarreraId', 'CodigoMateria'}.
2024-06-30 13:49:17.836 -04:00 [DBG] The index {'CodigoMateria'} was not created on entity type 'EstudianteMateria' as the properties are already covered by the index {'CodigoMateria', 'CodigoEstudiante'}.
2024-06-30 13:49:17.836 -04:00 [DBG] The index {'AulaId'} was not created on entity type 'MateriaAula' as the properties are already covered by the index {'AulaId', 'CodigoMateria'}.
2024-06-30 13:49:17.836 -04:00 [DBG] The index {'DocenteId'} was not created on entity type 'MateriaDocente' as the properties are already covered by the index {'DocenteId', 'CodigoMateria'}.
2024-06-30 13:49:17.918 -04:00 [DBG] The property 'CarreraMateria.EstudianteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:49:17.918 -04:00 [DBG] The property 'Factura.CuentaPorPagarIdCuentaPorPagar' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:49:17.918 -04:00 [DBG] The property 'Materia.AulaCodigoAula' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-30 13:49:17.997 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:49:18.031 -04:00 [DBG] Compiling query expression: 
'DbSet<Admin>()
    .SingleOrDefault(u => u.AdminId.ToString() == __userId_0)'
2024-06-30 13:49:18.231 -04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Admin>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Admin.AdminId (int) Required PK AfterSave:Throw, 0], [Property: Admin.ContraseñaAdmin (string) Required MaxLength(100), 1], [Property: Admin.CorreoAdmin (string) Required MaxLength(100), 2], [Property: Admin.FechaIngreso (DateTime) Required, 3], [Property: Admin.NombreAdmin (string) Required MaxLength(100), 4], [Property: Admin.Rol (string) Required MaxLength(50), 5] }
        SELECT TOP(2) a.AdminId, a.ContraseñaAdmin, a.CorreoAdmin, a.FechaIngreso, a.NombreAdmin, a.Rol
        FROM Admins AS a
        WHERE CONVERT(varchar(11), a.AdminId) == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass26_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Admin entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Admin instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Admin);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Admin.AdminId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CRUD.Models.Admin").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Admin)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")]: 
                        {
                            return 
                            {
                                Admin instance;
                                instance = new Admin();
                                instance.<AdminId>k__BackingField = dataReader.GetInt32(0);
                                instance.<ContraseñaAdmin>k__BackingField = dataReader.GetString(1);
                                instance.<CorreoAdmin>k__BackingField = dataReader.GetString(2);
                                instance.<FechaIngreso>k__BackingField = dataReader.GetDateTime(3);
                                instance.<NombreAdmin>k__BackingField = dataReader.GetString(4);
                                instance.<Rol>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Admin | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CRUD.Models.Admin")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Admin)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: CRUD.Context.MyDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-30 13:49:18.255 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:49:18.280 -04:00 [DBG] Created DbConnection. (22ms).
2024-06-30 13:49:18.282 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:49:18.432 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:49:18.434 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:49:18.438 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-30 13:49:18.444 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-06-30 13:49:18.449 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:49:18.494 -04:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:49:18.516 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:49:18.530 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:49:18.535 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 37ms reading results.
2024-06-30 13:49:18.537 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:49:18.541 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (4ms).
2024-06-30 13:49:18.543 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1061.7721ms.
2024-06-30 13:49:18.545 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:49:18.546 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:49:18.546 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:49:18.546 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:49:18.546 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:49:18.546 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:49:18.604 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 1204.1246ms
2024-06-30 13:49:18.604 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:49:18.604 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" completed keep alive response.
2024-06-30 13:49:18.605 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:49:18.607 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:49:18.608 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-30 13:49:18.608 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 216 application/json; charset=utf-8 1267.9681ms
2024-06-30 13:49:18.608 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:49:18.609 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:49:18.609 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:49:18.609 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:49:18.609 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:49:18.609 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:49:18.609 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:49:18.609 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:49:18.609 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:49:18.610 -04:00 [DBG] Authorization was successful.
2024-06-30 13:49:18.610 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:49:18.610 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:49:18.610 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:49:18.610 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:49:18.610 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:49:18.610 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:49:18.610 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:49:18.610 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:49:18.611 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:49:18.611 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:49:18.619 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:49:18.621 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:49:18.621 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:49:18.621 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:49:18.622 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:49:18.622 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:49:18.622 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:49:18.622 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:49:18.622 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:49:18.627 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:49:18.628 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:49:18.628 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:49:18.628 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:49:18.628 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:49:18.628 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:49:18.628 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.1648ms.
2024-06-30 13:49:18.628 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:49:18.628 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:49:18.628 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:49:18.628 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:49:18.628 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:49:18.628 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:49:18.628 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 18.2797ms
2024-06-30 13:49:18.629 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:49:18.629 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" completed keep alive response.
2024-06-30 13:49:18.629 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:49:18.629 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:49:18.629 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:49:18.629 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 216 application/json; charset=utf-8 20.3702ms
2024-06-30 13:49:19.991 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" received FIN.
2024-06-30 13:49:19.991 -04:00 [DBG] Connection id "0HN4P5FN2FNCO" received FIN.
2024-06-30 13:49:19.992 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:49:19.992 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" disconnecting.
2024-06-30 13:49:19.992 -04:00 [DBG] Connection id "0HN4P5FN2FNCO" disconnecting.
2024-06-30 13:49:19.992 -04:00 [DBG] Connection id "0HN4P5FN2FNCP" stopped.
2024-06-30 13:49:19.992 -04:00 [DBG] Connection id "0HN4P5FN2FNCO" stopped.
2024-06-30 13:49:19.992 -04:00 [DBG] Connection id "0HN4P5FN2FNCO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:54:40.050 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" accepted.
2024-06-30 13:54:40.051 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" started.
2024-06-30 13:54:40.052 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" accepted.
2024-06-30 13:54:40.052 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" started.
2024-06-30 13:54:40.054 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:54:40.055 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:54:40.056 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:54:40.056 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:54:40.056 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:54:40.056 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:54:40.056 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:54:40.057 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:54:40.056 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:54:40.057 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:54:40.057 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:54:40.057 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:54:40.057 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:54:40.057 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:54:40.057 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:54:40.057 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:54:40.058 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" completed keep alive response.
2024-06-30 13:54:40.058 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" completed keep alive response.
2024-06-30 13:54:40.058 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 3.7951ms
2024-06-30 13:54:40.058 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 4.0621ms
2024-06-30 13:54:40.061 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:54:40.062 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:54:40.062 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:54:40.063 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:54:40.067 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:54:40.068 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:54:40.068 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:54:40.068 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:54:40.068 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:54:40.069 -04:00 [DBG] Authorization was successful.
2024-06-30 13:54:40.070 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:54:40.072 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:54:40.072 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:54:40.072 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:54:40.072 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:54:40.072 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:54:40.072 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:54:40.072 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:54:40.074 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:54:40.074 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:54:40.107 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:54:40.108 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:54:40.108 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:54:40.108 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:54:40.109 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:54:40.109 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:54:40.109 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:54:40.109 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:54:40.109 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:54:40.125 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:54:40.125 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:54:40.125 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:54:40.125 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:54:40.125 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:54:40.126 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:54:40.126 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.4816ms.
2024-06-30 13:54:40.126 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:54:40.126 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:54:40.126 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:54:40.126 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:54:40.126 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:54:40.126 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:54:40.127 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 54.4997ms
2024-06-30 13:54:40.127 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:54:40.127 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" completed keep alive response.
2024-06-30 13:54:40.127 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:54:40.127 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:54:40.127 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:54:40.127 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 216 application/json; charset=utf-8 66.2072ms
2024-06-30 13:54:40.127 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:54:40.127 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:54:40.127 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:54:40.127 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:54:40.127 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:54:40.128 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:54:40.128 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:54:40.128 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:54:40.128 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:54:40.128 -04:00 [DBG] Authorization was successful.
2024-06-30 13:54:40.128 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:54:40.128 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:54:40.128 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:54:40.128 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:54:40.128 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:54:40.128 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:54:40.128 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:54:40.128 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:54:40.128 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:54:40.128 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:54:40.129 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:54:40.129 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:54:40.129 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:54:40.129 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:54:40.129 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:54:40.129 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:54:40.129 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:54:40.129 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:54:40.129 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:54:40.131 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:54:40.131 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:54:40.131 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:54:40.131 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:54:40.132 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:54:40.132 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:54:40.132 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3571ms.
2024-06-30 13:54:40.132 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:54:40.132 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:54:40.132 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:54:40.132 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:54:40.132 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:54:40.132 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:54:40.132 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 4.1088ms
2024-06-30 13:54:40.132 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:54:40.132 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" completed keep alive response.
2024-06-30 13:54:40.132 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:54:40.132 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:54:40.132 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:54:40.132 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 216 application/json; charset=utf-8 5.0137ms
2024-06-30 13:56:12.110 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:56:12.110 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:56:12.111 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:56:12.111 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-30 13:56:12.111 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:56:12.111 -04:00 [DBG] OPTIONS requests are not supported
2024-06-30 13:56:12.111 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:56:12.111 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:56:12.111 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:56:12.111 -04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-06-30 13:56:12.111 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:56:12.111 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:56:12.111 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:56:12.111 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:56:12.111 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:56:12.111 -04:00 [DBG] The request is a preflight request.
2024-06-30 13:56:12.111 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" completed keep alive response.
2024-06-30 13:56:12.111 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" completed keep alive response.
2024-06-30 13:56:12.111 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.9125ms
2024-06-30 13:56:12.111 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5104/api/Auth/GetCurrentUser - 204 null null 0.9784ms
2024-06-30 13:56:12.113 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:56:12.113 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:56:12.113 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:56:12.113 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:56:12.113 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:56:12.113 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:56:12.113 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:56:12.113 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:56:12.113 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:56:12.113 -04:00 [DBG] Authorization was successful.
2024-06-30 13:56:12.113 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:56:12.113 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:56:12.113 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:56:12.113 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:56:12.113 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:56:12.113 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:56:12.113 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:56:12.113 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:56:12.114 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:56:12.114 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:56:12.114 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:56:12.115 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:56:12.115 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:56:12.115 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:56:12.115 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:56:12.115 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:56:12.115 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:56:12.115 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:56:12.115 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:56:12.118 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:56:12.118 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:56:12.119 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:56:12.119 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:56:12.119 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:56:12.119 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:56:12.119 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.917ms.
2024-06-30 13:56:12.119 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:56:12.119 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:56:12.119 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:56:12.119 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:56:12.119 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:56:12.119 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:56:12.119 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 5.8977ms
2024-06-30 13:56:12.119 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:56:12.119 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" completed keep alive response.
2024-06-30 13:56:12.119 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:56:12.119 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:56:12.119 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:56:12.119 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 216 application/json; charset=utf-8 6.7607ms
2024-06-30 13:56:12.119 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - null null
2024-06-30 13:56:12.120 -04:00 [DBG] Successfully validated the token.
2024-06-30 13:56:12.120 -04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-30 13:56:12.120 -04:00 [DBG] The request path  does not match the path filter
2024-06-30 13:56:12.120 -04:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:56:12.120 -04:00 [DBG] Endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)' with route pattern 'api/Auth/GetCurrentUser' is valid for the request path '/api/Auth/GetCurrentUser'
2024-06-30 13:56:12.120 -04:00 [DBG] Request matched endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:56:12.120 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-06-30 13:56:12.120 -04:00 [INF] CORS policy execution successful.
2024-06-30 13:56:12.120 -04:00 [DBG] Authorization was successful.
2024-06-30 13:56:12.120 -04:00 [INF] Executing endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:56:12.120 -04:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetCurrentUser() on controller CRUD.Controllers.AuthController (CRUD).
2024-06-30 13:56:12.120 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-30 13:56:12.120 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-30 13:56:12.120 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-30 13:56:12.120 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-30 13:56:12.120 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-30 13:56:12.120 -04:00 [DBG] Executing controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:56:12.120 -04:00 [DBG] Executed controller factory for controller CRUD.Controllers.AuthController (CRUD)
2024-06-30 13:56:12.120 -04:00 [INF] Executing action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD) - Validation state: "Valid"
2024-06-30 13:56:12.121 -04:00 [DBG] Entity Framework Core 9.0.0-preview.5.24306.3 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.5.24306.3' with options: None
2024-06-30 13:56:12.121 -04:00 [DBG] Creating DbConnection.
2024-06-30 13:56:12.121 -04:00 [DBG] Created DbConnection. (0ms).
2024-06-30 13:56:12.121 -04:00 [DBG] Opening connection to database 'University' on server 'localhost'.
2024-06-30 13:56:12.121 -04:00 [DBG] Opened connection to database 'University' on server 'localhost'.
2024-06-30 13:56:12.121 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-30 13:56:12.121 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:56:12.121 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-06-30 13:56:12.121 -04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:56:12.124 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[ContraseñaAdmin], [a].[CorreoAdmin], [a].[FechaIngreso], [a].[NombreAdmin], [a].[Rol]
FROM [Admins] AS [a]
WHERE CONVERT(varchar(11), [a].[AdminId]) = @__userId_0
2024-06-30 13:56:12.124 -04:00 [DBG] Context 'MyDbContext' started tracking 'Admin' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-30 13:56:12.124 -04:00 [DBG] Closing data reader to 'University' on server 'localhost'.
2024-06-30 13:56:12.124 -04:00 [DBG] A data reader for 'University' on server 'localhost' is being disposed after spending 0ms reading results.
2024-06-30 13:56:12.124 -04:00 [DBG] Closing connection to database 'University' on server 'localhost'.
2024-06-30 13:56:12.124 -04:00 [DBG] Closed connection to database 'University' on server 'localhost' (0ms).
2024-06-30 13:56:12.124 -04:00 [INF] Executed action method CRUD.Controllers.AuthController.GetCurrentUser (CRUD), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.2305ms.
2024-06-30 13:56:12.124 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-30 13:56:12.124 -04:00 [DBG] No information found on request to perform content negotiation.
2024-06-30 13:56:12.125 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-30 13:56:12.125 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-30 13:56:12.125 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-30 13:56:12.125 -04:00 [INF] Executing OkObjectResult, writing value of type 'CRUD.Models.Admin'.
2024-06-30 13:56:12.125 -04:00 [INF] Executed action CRUD.Controllers.AuthController.GetCurrentUser (CRUD) in 4.7495ms
2024-06-30 13:56:12.125 -04:00 [INF] Executed endpoint 'CRUD.Controllers.AuthController.GetCurrentUser (CRUD)'
2024-06-30 13:56:12.125 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" completed keep alive response.
2024-06-30 13:56:12.125 -04:00 [DBG] 'MyDbContext' disposed.
2024-06-30 13:56:12.125 -04:00 [DBG] Disposing connection to database 'University' on server 'localhost'.
2024-06-30 13:56:12.125 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-30 13:56:12.125 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5104/api/Auth/GetCurrentUser - 200 216 application/json; charset=utf-8 5.3397ms
2024-06-30 13:58:22.600 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" disconnecting.
2024-06-30 13:58:22.602 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" disconnecting.
2024-06-30 13:58:22.602 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" stopped.
2024-06-30 13:58:22.602 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" stopped.
2024-06-30 13:58:22.603 -04:00 [DBG] Connection id "0HN4P5FN2FNCR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 13:58:22.603 -04:00 [DBG] Connection id "0HN4P5FN2FNCQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-30 14:09:22.710 -04:00 [INF] Application is shutting down...
2024-06-30 14:09:22.714 -04:00 [DBG] Hosting stopping
2024-06-30 14:09:22.726 -04:00 [DBG] Hosting stopped
